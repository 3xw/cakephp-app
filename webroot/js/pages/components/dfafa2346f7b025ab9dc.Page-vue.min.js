(self["webpackChunkcake_webpack"] = self["webpackChunkcake_webpack"] || []).push([[654,354],{

/***/ 768:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Lp": () => (/* binding */ client)
/* harmony export */ });
/* unused harmony exports parseResponse, parseResponseWithPaginate, parseTags */
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(600);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);
function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

function _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }

function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

function _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }

function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }


var Http = axios__WEBPACK_IMPORTED_MODULE_0___default().create({
  headers: {
    'X-CSRF-TOKEN': window.getCsrfToken(),
    'Accept': 'application/json',
    'Content-Type': 'application/json'
  }
});

var client = /*#__PURE__*/function (_Http) {
  _inherits(client, _Http);

  var _super = _createSuper(client);

  function client() {
    _classCallCheck(this, client);

    return _super.apply(this, arguments);
  }

  return client;
}(Http);

var parseResponse = function parseResponse(response) {
  return {
    data: response.data.data // expecting object with ID

  };
},
    parseResponseWithPaginate = function parseResponseWithPaginate(response) {
  var data = response.data;
  return Object.assign({}, response, {
    data: data.data,
    // expecting array of objects with IDs
    pagination: data.pagination // expecting object with ID

  });
},
    parseTags = function parseTags(response) {
  var atagTypes = {};

  for (var i in response.data.data) {
    var atag = response.data.data[i];
    var type = atag.atag_type ? atag.atag_type : {
      id: 0,
      name: 'Autres',
      exclusive: false,
      order: 1000
    };
    if (!atagTypes[type.name]) atagTypes[type.name] = Object.assign({
      atags: []
    }, type);
    atagTypes[type.name].atags.push(atag);
  } // sort


  var keysSorted = Object.keys(atagTypes).sort(function (a, b) {
    return atagTypes[a].order - atagTypes[b].order;
  });
  var types = [];

  for (var _i in keysSorted) {
    types.push(atagTypes[keysSorted[_i]]);
  } // return tags


  return {
    data: types
  };
};



/***/ }),

/***/ 592:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ Page)
});

;// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./vendor/3xw/cakephp-pages/resources/assets/components/Page.vue?vue&type=template&id=39452884&scoped=true&
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _c("div", { staticClass: "content" }, [
    _c(
      "div",
      { staticClass: "container-fluid trois-pages" },
      [
        _c("pages-section-modal", { attrs: { url: _vm.url, page: _vm.page } }),
        _vm._v(" "),
        _c(
          "draggable",
          {
            on: { end: _vm.onSectionDragEnd },
            model: {
              value: _vm.page.sections,
              callback: function($$v) {
                _vm.$set(_vm.page, "sections", $$v)
              },
              expression: "page.sections"
            }
          },
          _vm._l(_vm.page.sections, function(section, sectionIndex) {
            return _c(
              "section",
              {
                staticClass: "trois-pages__section card",
                attrs: {
                  id: "section-" + sectionIndex,
                  "data-section-index": sectionIndex,
                  "data-id": section.id
                }
              },
              [
                _c(
                  "div",
                  { staticClass: "card-body" },
                  [
                    _c("h3", { staticClass: "card-title" }, [
                      _vm._v(_vm._s(section.section_type.name))
                    ]),
                    _vm._v(" "),
                    _c("h6", { staticClass: "card-subtitle mb-2 text-muted" }, [
                      _vm._v("section")
                    ]),
                    _vm._v(" "),
                    _c(
                      "draggable",
                      {
                        staticClass: "row",
                        on: { end: _vm.onArticleDragEnd },
                        model: {
                          value: section.articles,
                          callback: function($$v) {
                            _vm.$set(section, "articles", $$v)
                          },
                          expression: "section.articles"
                        }
                      },
                      _vm._l(section.articles, function(article, index) {
                        return _c(
                          "article",
                          {
                            staticClass: "trois-pages__section__article col-6",
                            attrs: {
                              id: "article-" + index,
                              "data-index": index,
                              "data-section-index": sectionIndex
                            }
                          },
                          [
                            _c("div", { staticClass: "card" }, [
                              _c("div", { staticClass: "card-body" }, [
                                _c("h4", { staticClass: "card-title" }, [
                                  _vm._v(_vm._s(article.title))
                                ]),
                                _vm._v(" "),
                                _c(
                                  "h6",
                                  {
                                    staticClass: "card-subtitle mb-2 text-muted"
                                  },
                                  [_vm._v(_vm._s(article.article_type.name))]
                                ),
                                _vm._v(" "),
                                _c(
                                  "button",
                                  {
                                    staticClass: "btn btn-info btn-xs btn-fill",
                                    attrs: { type: "button", name: "button" },
                                    on: {
                                      click: function($event) {
                                        return _vm.goToLocation(
                                          _vm.url +
                                            "admin/pages/Articles/edit/" +
                                            article.id
                                        )
                                      }
                                    }
                                  },
                                  [
                                    _c("i", { staticClass: "material-icons" }, [
                                      _vm._v("edit")
                                    ]),
                                    _vm._v(" Edit article\n                ")
                                  ]
                                ),
                                _vm._v(" "),
                                _c("form", {
                                  staticStyle: { display: "inline-block" },
                                  attrs: {
                                    id: "form-article-" + article.id,
                                    action:
                                      _vm.url +
                                      "admin/pages/Articles/delete/" +
                                      article.id,
                                    method: "post"
                                  }
                                }),
                                _vm._v(" "),
                                _c(
                                  "button",
                                  {
                                    staticClass:
                                      "btn btn-danger btn-xs btn-fill",
                                    attrs: { type: "button", name: "button" },
                                    on: {
                                      click: function($event) {
                                        return _vm.deleteArticle(
                                          section.id,
                                          article.id
                                        )
                                      }
                                    }
                                  },
                                  [
                                    _c("i", { staticClass: "material-icons" }, [
                                      _vm._v("delete")
                                    ]),
                                    _vm._v(" Delete article\n                ")
                                  ]
                                )
                              ])
                            ])
                          ]
                        )
                      }),
                      0
                    ),
                    _vm._v(" "),
                    _c(
                      "button",
                      {
                        staticClass: "btn btn-primary btn-xs btn-fill",
                        attrs: { type: "button", name: "button" },
                        on: {
                          click: function($event) {
                            return _vm.goToLocation(
                              _vm.url + "admin/pages/Articles/add/" + section.id
                            )
                          }
                        }
                      },
                      [
                        _c("i", { staticClass: "material-icons" }, [
                          _vm._v("add")
                        ]),
                        _vm._v(" Add a new article\n          ")
                      ]
                    ),
                    _vm._v(" "),
                    _c("form", {
                      staticStyle: { display: "inline-block" },
                      attrs: {
                        id: "form-section-" + section.id,
                        action:
                          _vm.url + "admin/pages/Sections/delete/" + section.id,
                        method: "post"
                      }
                    }),
                    _vm._v(" "),
                    _c(
                      "button",
                      {
                        staticClass: "btn btn-danger btn-xs btn-fill",
                        attrs: { type: "button", name: "button" },
                        on: {
                          click: function($event) {
                            return _vm.deleteSection(section.id)
                          }
                        }
                      },
                      [
                        _c("i", { staticClass: "material-icons" }, [
                          _vm._v("delete")
                        ]),
                        _vm._v(" Delete section and articles\n          ")
                      ]
                    )
                  ],
                  1
                )
              ]
            )
          }),
          0
        )
      ],
      1
    ),
    _vm._v(" "),
    _c("div", { staticClass: "container-fluid" }, [
      _c(
        "button",
        {
          staticClass: "btn btn-primary btn-xs btn-fill",
          attrs: { type: "button", name: "button" },
          on: {
            click: function($event) {
              return _vm.openSectionModal()
            }
          }
        },
        [
          _c("i", { staticClass: "material-icons" }, [_vm._v("add")]),
          _vm._v(" Add a new section\n    ")
        ]
      )
    ])
  ])
}
var staticRenderFns = []
render._withStripped = true


;// CONCATENATED MODULE: ./vendor/3xw/cakephp-pages/resources/assets/components/Page.vue?vue&type=template&id=39452884&scoped=true&

// EXTERNAL MODULE: ./vendor/3xw/cakephp-pages/resources/assets/components/SectionModal.vue + 4 modules
var SectionModal = __webpack_require__(924);
// EXTERNAL MODULE: ./vendor/3xw/cakephp-pages/resources/assets/http/client.js
var client = __webpack_require__(768);
;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./vendor/3xw/cakephp-pages/resources/assets/components/Page.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ const Pagevue_type_script_lang_js_ = ({
  name: 'pages-page',
  components: {
    'pages-section-modal': SectionModal.default
  },
  props: {
    url: String
  },
  data: function data() {
    return {
      page: {},
      section: {},
      article: {}
    };
  },
  created: function created() {
    if (window.mainEventHub['page'] == undefined) window.mainEventHub['page'] = new Vue();
    this.page = window.troisPage;
  },
  computed: {},
  methods: {
    onSectionDragEnd: function onSectionDragEnd(evt) {
      var self = this;
      $('.trois-pages section').each(function (index, elem) {
        var sectionIndex = $(elem).data('section-index');
        self.page.sections[sectionIndex].order = index;
      });
      this.saveNewOrder();
    },
    onArticleDragEnd: function onArticleDragEnd(evt) {
      var sectionIndex = $('#' + evt.item.id).data('section-index');
      var self = this;
      $('#section-' + sectionIndex + ' .trois-pages__section__article').each(function (index, elem) {
        var articleIndex = $(elem).data('index');
        self.page.sections[sectionIndex].articles[articleIndex].order = index;
      });
      this.saveNewOrder();
    },
    goToLocation: function goToLocation(location) {
      window.location = location;
    },
    openSectionModal: function openSectionModal() {
      window.mainEventHub['page'].$emit('open-section-modal');
    },
    getSection: function getSection(id) {
      this.section = null;

      for (var i in this.page.sections) {
        if (this.page.sections[i].id == id) {
          this.sectionId = i;
          this.section = this.page.sections[i];
          return this.section;
        }
      }
    },
    getArtcile: function getArtcile(sectionId, artcileId) {
      this.getSection(sectionId);
      this.article = null;

      for (var i in this.section.articles) {
        if (this.section.articles[i].id == artcileId) {
          this.articleId = i;
          this.article = this.section.articles[i];
          return this.article;
        }
      }
    },
    deleteSection: function deleteSection(id) {
      this.getSection(id);

      if (confirm('Are you sure you want to delete section: "' + this.section.section_type.name + '" ?')) {
        $('#form-section-' + id).submit();
      }
    },
    deleteArticle: function deleteArticle(sectionId, artcileId) {
      this.getArtcile(sectionId, artcileId);

      if (confirm('Are you sure you want to delete artcile: "' + this.article.title + '" ?')) {
        $('#form-article-' + artcileId).submit();
      }
    },
    saveNewOrder: function saveNewOrder() {
      var data = new FormData();
      data.append('sections', JSON.stringify(this.page.sections));
      data.append('_csrfToken', window.getCsrfToken());
      client/* client.post */.Lp.post(this.url + 'admin/pages/Pages/orderPageContent.json', data).then(this.saveNewOrderSuccess, this.errorCallback);
    },
    saveNewOrderSuccess: function saveNewOrderSuccess(response) {
      console.log(response);
    },
    errorCallback: function errorCallback(response) {
      console.log(response);
      alert('An error occured!');
    }
  }
});
;// CONCATENATED MODULE: ./vendor/3xw/cakephp-pages/resources/assets/components/Page.vue?vue&type=script&lang=js&
 /* harmony default export */ const components_Pagevue_type_script_lang_js_ = (Pagevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(900);
;// CONCATENATED MODULE: ./vendor/3xw/cakephp-pages/resources/assets/components/Page.vue





/* normalize component */
;
var component = (0,componentNormalizer/* default */.Z)(
  components_Pagevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  "39452884",
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "vendor/3xw/cakephp-pages/resources/assets/components/Page.vue"
/* harmony default export */ const Page = (component.exports);

/***/ }),

/***/ 924:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ SectionModal)
});

;// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib/index.js??vue-loader-options!./vendor/3xw/cakephp-pages/resources/assets/components/SectionModal.vue?vue&type=template&id=46a3e73d&
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  return _vm.show
    ? _c(
        "div",
        {
          staticClass: "modal-mask",
          attrs: { id: "pages-section-modal", transition: "modal" }
        },
        [
          _c("div", { staticClass: "modal-wrapper" }, [
            _c("div", { staticClass: "modal-container container" }, [
              _c("div", { staticClass: "custom-modal-header" }, [
                _vm._v("\n        Section selection\n      ")
              ]),
              _vm._v(" "),
              _c(
                "div",
                { staticClass: "custom-modal-body" },
                [
                  _vm._l(_vm.errors, function(error, index) {
                    return _c(
                      "div",
                      {
                        staticClass: "alert alert-warning alert-dismissible",
                        attrs: { "track-by": "$index", role: "alert" }
                      },
                      [
                        _c(
                          "button",
                          {
                            staticClass: "close",
                            attrs: { type: "button", "aria-label": "Close" },
                            on: {
                              click: function($event) {
                                _vm.errors = []
                              }
                            }
                          },
                          [
                            _c("span", { attrs: { "aria-hidden": "true" } }, [
                              _vm._v("×")
                            ])
                          ]
                        ),
                        _vm._v(" "),
                        _c("strong", [_vm._v("Watch out!")]),
                        _vm._v(" " + _vm._s(error) + "\n        ")
                      ]
                    )
                  }),
                  _vm._v(" "),
                  _vm.loading
                    ? _c(
                        "div",
                        { staticClass: "attachment-loading-container" },
                        [
                          _c("img", {
                            staticClass: "img-responsive",
                            attrs: { src: _vm.url + "img/admin/loading.gif" }
                          })
                        ]
                      )
                    : _vm._e(),
                  _vm._v(" "),
                  !_vm.loading
                    ? _c("div", { staticClass: "row" }, [
                        _c("div", { staticClass: "col-xs-12" }, [
                          _c(
                            "table",
                            {
                              staticClass:
                                "table table-bordered table-striped table-condensed table-hover"
                            },
                            [
                              _vm._m(0),
                              _vm._v(" "),
                              _vm._l(_vm.sectionTypes, function(
                                sectionType,
                                index
                              ) {
                                return _c(
                                  "tr",
                                  { attrs: { id: "section-type-" + index } },
                                  [
                                    _c("td", [
                                      _vm._v(
                                        "\n                  " +
                                          _vm._s(sectionType.name) +
                                          "\n                "
                                      )
                                    ]),
                                    _vm._v(" "),
                                    _c("td", [
                                      _c("div", { staticClass: "btn-group" }, [
                                        _c(
                                          "a",
                                          {
                                            staticClass:
                                              "btn btn-xs btn-fill btn-info",
                                            attrs: {
                                              href: "#",
                                              role: "button"
                                            },
                                            on: {
                                              click: function($event) {
                                                return _vm.addSection(
                                                  sectionType.id
                                                )
                                              }
                                            }
                                          },
                                          [
                                            _vm._v(
                                              "\n                      Select\n                    "
                                            )
                                          ]
                                        )
                                      ])
                                    ])
                                  ]
                                )
                              }),
                              _vm._v(" "),
                              _c("tr", [
                                _c("td", [
                                  _c("div", { staticClass: "input-group" }, [
                                    _c(
                                      "span",
                                      { staticClass: "input-group-addon" },
                                      [_vm._v("Section type name   ")]
                                    ),
                                    _vm._v(" "),
                                    _c("input", {
                                      directives: [
                                        {
                                          name: "model",
                                          rawName: "v-model",
                                          value: _vm.name,
                                          expression: "name"
                                        }
                                      ],
                                      staticClass: "form-control",
                                      attrs: { type: "text", placeholder: "" },
                                      domProps: { value: _vm.name },
                                      on: {
                                        input: function($event) {
                                          if ($event.target.composing) {
                                            return
                                          }
                                          _vm.name = $event.target.value
                                        }
                                      }
                                    })
                                  ])
                                ]),
                                _vm._v(" "),
                                _c("td", [
                                  _c("div", { staticClass: "btn-group" }, [
                                    _c(
                                      "a",
                                      {
                                        staticClass:
                                          "btn btn-xs btn-fill btn-success",
                                        attrs: { href: "#", role: "button" },
                                        on: {
                                          click: function($event) {
                                            return _vm.createSectionType()
                                          }
                                        }
                                      },
                                      [
                                        _vm._v(
                                          "\n                      Or create\n                    "
                                        )
                                      ]
                                    )
                                  ])
                                ])
                              ])
                            ],
                            2
                          )
                        ])
                      ])
                    : _vm._e(),
                  _vm._v(" "),
                  _c("p"),
                  _vm._v(" "),
                  _c("div", { staticClass: "custom-modal-footer" }, [
                    _c("div", { staticClass: "btn-group" }, [
                      _c(
                        "button",
                        {
                          staticClass:
                            "modal-default-button btn btn-fill btn-warning",
                          attrs: { type: "button" },
                          on: {
                            click: function($event) {
                              return _vm.close()
                            }
                          }
                        },
                        [_vm._v("\n              Close\n            ")]
                      )
                    ])
                  ])
                ],
                2
              )
            ])
          ])
        ]
      )
    : _vm._e()
}
var staticRenderFns = [
  function() {
    var _vm = this
    var _h = _vm.$createElement
    var _c = _vm._self._c || _h
    return _c("tr", [
      _c("th", [_vm._v("Name")]),
      _vm._v(" "),
      _c("th", [_vm._v("Actions")])
    ])
  }
]
render._withStripped = true


;// CONCATENATED MODULE: ./vendor/3xw/cakephp-pages/resources/assets/components/SectionModal.vue?vue&type=template&id=46a3e73d&

// EXTERNAL MODULE: ./vendor/3xw/cakephp-pages/resources/assets/http/client.js
var client = __webpack_require__(768);
;// CONCATENATED MODULE: ./node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use!./node_modules/vue-loader/lib/index.js??vue-loader-options!./vendor/3xw/cakephp-pages/resources/assets/components/SectionModal.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ const SectionModalvue_type_script_lang_js_ = ({
  name: 'pages-section-modal',
  data: function data() {
    return {
      name: '',
      loading: true,
      show: false,
      errors: [],
      sectionTypes: [],
      pagination: {
        "page_count": 1,
        "current_page": 1,
        "has_next_page": false,
        "has_prev_page": false,
        "count": 0,
        "limit": 100
      }
    };
  },
  props: {
    url: String,
    page: Object
  },
  created: function created() {
    if (window.mainEventHub['page'] == undefined) window.mainEventHub['page'] = new Vue();
    window.mainEventHub['page'].$on('open-section-modal', this.open);
  },
  mounted: function mounted() {//get section types here or not
  },
  methods: {
    close: function close() {
      this.show = false;
      this.loading = false;
      window.mainEventHub['page'].$emit('page-section-modal-closed');
    },
    open: function open() {
      this.loading = true;
      this.show = true;
      this.getSectionTypes();
    },
    getSectionTypes: function getSectionTypes() {
      this.name = '';
      this.loading = true;
      var params = {
        page: this.pagination.current_page
      };
      client/* client.get */.Lp.get(this.url + 'admin/pages/SectionTypes.json', {
        params: params
      }).then(this.getSectionTypesSuccessCallback, this.errorCallback);
    },
    addSection: function addSection(id) {
      this.loading = true;
      var data = new FormData();
      data.append('page_id', this.page.id);
      data.append('section_type_id', id);
      data.append('_csrfToken', window.getCsrfToken());
      client/* client.post */.Lp.post(this.url + 'admin/pages/Sections/add.json', data).then(this.createSectionTypeSuccessCallback, this.errorCallback);
    },
    createSectionType: function createSectionType() {
      this.loading = true;
      var data = new FormData();
      data.append('name', this.name);
      data.append('_csrfToken', window.getCsrfToken());
      client/* client.post */.Lp.post(this.url + 'admin/pages/SectionTypes/add.json', data).then(this.getSectionTypes, this.errorCallback);
    },
    createSectionTypeSuccessCallback: function createSectionTypeSuccessCallback(response) {
      this.loading = true;
      console.log(response);
      client/* client.get */.Lp.get(this.url + 'admin/pages/Sections/view/' + response.data.data.id + '.json').then(this.getSectionSuccessCallback, this.errorCallback);
    },
    getSectionSuccessCallback: function getSectionSuccessCallback(response) {
      this.loading = false;
      var section = response.data.data;
      this.page.sections.push(section);
      this.close();
    },
    getSectionTypesSuccessCallback: function getSectionTypesSuccessCallback(response) {
      this.loading = false;
      this.sectionTypes = response.data.data;
      this.pagination = response.data.pagination;
    },
    errorCallback: function errorCallback(response) {
      this.loading = false;
      var message = response.data ? response.data.data.message : 'Your session is lost, please login again!';
      this.errors.push(message);
    }
  }
});
;// CONCATENATED MODULE: ./vendor/3xw/cakephp-pages/resources/assets/components/SectionModal.vue?vue&type=script&lang=js&
 /* harmony default export */ const components_SectionModalvue_type_script_lang_js_ = (SectionModalvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(900);
;// CONCATENATED MODULE: ./vendor/3xw/cakephp-pages/resources/assets/components/SectionModal.vue





/* normalize component */
;
var component = (0,componentNormalizer/* default */.Z)(
  components_SectionModalvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "vendor/3xw/cakephp-pages/resources/assets/components/SectionModal.vue"
/* harmony default export */ const SectionModal = (component.exports);

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYWtlLXdlYnBhY2svLi92ZW5kb3IvM3h3L2Nha2VwaHAtcGFnZXMvcmVzb3VyY2VzL2Fzc2V0cy9odHRwL2NsaWVudC5qcyIsIndlYnBhY2s6Ly9jYWtlLXdlYnBhY2svLi92ZW5kb3IvM3h3L2Nha2VwaHAtcGFnZXMvcmVzb3VyY2VzL2Fzc2V0cy9jb21wb25lbnRzL1BhZ2UudnVlP2U4ZWYiLCJ3ZWJwYWNrOi8vY2FrZS13ZWJwYWNrL3ZlbmRvci8zeHcvY2FrZXBocC1wYWdlcy9yZXNvdXJjZXMvYXNzZXRzL2NvbXBvbmVudHMvUGFnZS52dWUiLCJ3ZWJwYWNrOi8vY2FrZS13ZWJwYWNrLy4vdmVuZG9yLzN4dy9jYWtlcGhwLXBhZ2VzL3Jlc291cmNlcy9hc3NldHMvY29tcG9uZW50cy9QYWdlLnZ1ZT83OWZmIiwid2VicGFjazovL2Nha2Utd2VicGFjay8uL3ZlbmRvci8zeHcvY2FrZXBocC1wYWdlcy9yZXNvdXJjZXMvYXNzZXRzL2NvbXBvbmVudHMvUGFnZS52dWUiLCJ3ZWJwYWNrOi8vY2FrZS13ZWJwYWNrLy4vdmVuZG9yLzN4dy9jYWtlcGhwLXBhZ2VzL3Jlc291cmNlcy9hc3NldHMvY29tcG9uZW50cy9TZWN0aW9uTW9kYWwudnVlPzJkNWIiLCJ3ZWJwYWNrOi8vY2FrZS13ZWJwYWNrL3ZlbmRvci8zeHcvY2FrZXBocC1wYWdlcy9yZXNvdXJjZXMvYXNzZXRzL2NvbXBvbmVudHMvU2VjdGlvbk1vZGFsLnZ1ZSIsIndlYnBhY2s6Ly9jYWtlLXdlYnBhY2svLi92ZW5kb3IvM3h3L2Nha2VwaHAtcGFnZXMvcmVzb3VyY2VzL2Fzc2V0cy9jb21wb25lbnRzL1NlY3Rpb25Nb2RhbC52dWU/NDU5MCIsIndlYnBhY2s6Ly9jYWtlLXdlYnBhY2svLi92ZW5kb3IvM3h3L2Nha2VwaHAtcGFnZXMvcmVzb3VyY2VzL2Fzc2V0cy9jb21wb25lbnRzL1NlY3Rpb25Nb2RhbC52dWUiXSwibmFtZXMiOlsiSHR0cCIsImF4aW9zIiwiaGVhZGVycyIsIndpbmRvdyIsImdldENzcmZUb2tlbiIsImNsaWVudCIsInBhcnNlUmVzcG9uc2UiLCJyZXNwb25zZSIsImRhdGEiLCJwYXJzZVJlc3BvbnNlV2l0aFBhZ2luYXRlIiwiT2JqZWN0IiwiYXNzaWduIiwicGFnaW5hdGlvbiIsInBhcnNlVGFncyIsImF0YWdUeXBlcyIsImkiLCJhdGFnIiwidHlwZSIsImF0YWdfdHlwZSIsImlkIiwibmFtZSIsImV4Y2x1c2l2ZSIsIm9yZGVyIiwiYXRhZ3MiLCJwdXNoIiwia2V5c1NvcnRlZCIsImtleXMiLCJzb3J0IiwiYSIsImIiLCJ0eXBlcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQSxJQUNBQSxJQUFJLEdBQUdDLG1EQUFBLENBQWE7QUFDbEJDLFNBQU8sRUFBRTtBQUNQLG9CQUFvQkMsTUFBTSxDQUFDQyxZQUFQLEVBRGI7QUFFUCxjQUFVLGtCQUZIO0FBR1Asb0JBQWdCO0FBSFQ7QUFEUyxDQUFiLENBRFA7O0lBU01DLE07Ozs7Ozs7Ozs7OztFQUFlTCxJOztBQUVyQixJQUNBTSxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLENBQVNDLFFBQVQsRUFDaEI7QUFDRSxTQUFPO0FBQ0xDLFFBQUksRUFBRUQsUUFBUSxDQUFDQyxJQUFULENBQWNBLElBRGYsQ0FDbUI7O0FBRG5CLEdBQVA7QUFHRCxDQU5EO0FBQUEsSUFPQUMseUJBQXlCLEdBQUcsU0FBNUJBLHlCQUE0QixDQUFTRixRQUFULEVBQzVCO0FBQUEsTUFDVUMsSUFEVixHQUNtQkQsUUFEbkIsQ0FDVUMsSUFEVjtBQUdFLFNBQU9FLE1BQU0sQ0FBQ0MsTUFBUCxDQUFjLEVBQWQsRUFBa0JKLFFBQWxCLEVBQTRCO0FBQ2pDQyxRQUFJLEVBQUVBLElBQUksQ0FBQ0EsSUFEc0I7QUFDaEI7QUFDakJJLGNBQVUsRUFBRUosSUFBSSxDQUFDSSxVQUZnQixDQUVOOztBQUZNLEdBQTVCLENBQVA7QUFJRCxDQWZEO0FBQUEsSUFnQkFDLFNBQVMsR0FBRyxTQUFa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LEVBQUUsWUFpQmY7QUFDRDtBQUNBLG1EQUFlLGlCIiwiZmlsZSI6ImpzL3BhZ2VzL2NvbXBvbmVudHMvZGZhZmEyMzQ2ZjdiMDI1YWI5ZGMuUGFnZS12dWUubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJ1xuXG5jb25zdFxuSHR0cCA9IGF4aW9zLmNyZWF0ZSh7XG4gIGhlYWRlcnM6IHtcbiAgICAnWC1DU1JGLVRPS0VOJyAgICA6IHdpbmRvdy5nZXRDc3JmVG9rZW4oKSxcbiAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgfVxufSlcblxuY2xhc3MgY2xpZW50IGV4dGVuZHMgSHR0cCB7fVxuXG5jb25zdFxucGFyc2VSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKVxue1xuICByZXR1cm4ge1xuICAgIGRhdGE6IHJlc3BvbnNlLmRhdGEuZGF0YS8vIGV4cGVjdGluZyBvYmplY3Qgd2l0aCBJRFxuICB9XG59LFxucGFyc2VSZXNwb25zZVdpdGhQYWdpbmF0ZSA9IGZ1bmN0aW9uKHJlc3BvbnNlKVxue1xuICBjb25zdCB7IGRhdGEgfSA9IHJlc3BvbnNlO1xuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCByZXNwb25zZSwge1xuICAgIGRhdGE6IGRhdGEuZGF0YSwgLy8gZXhwZWN0aW5nIGFycmF5IG9mIG9iamVjdHMgd2l0aCBJRHNcbiAgICBwYWdpbmF0aW9uOiBkYXRhLnBhZ2luYXRpb24vLyBleHBlY3Rpbmcgb2JqZWN0IHdpdGggSURcbiAgfSk7XG59LFxucGFyc2VUYWdzID0gZnVuY3Rpb24ocmVzcG9uc2UpXG57XG4gIGxldCBhdGFnVHlwZXMgPSB7fVxuICBmb3IobGV0IGkgaW4gcmVzcG9uc2UuZGF0YS5kYXRhKVxuICB7XG4gICAgbGV0IGF0YWcgPSByZXNwb25zZS5kYXRhLmRhdGFbaV1cbiAgICBsZXQgdHlwZSA9IGF0YWcuYXRhZ190eXBlPyBhdGFnLmF0YWdfdHlwZToge1xuICAgICAgaWQ6IDAsXG4gICAgICBuYW1lOiAnQXV0cmVzJyxcbiAgICAgIGV4Y2x1c2l2ZTogZmFsc2UsXG4gICAgICBvcmRlcjogMTAwMFxuICAgIH1cblxuICAgIGlmKCFhdGFnVHlwZXNbdHlwZS5uYW1lXSkgYXRhZ1R5cGVzW3R5cGUubmFtZV0gPSBPYmplY3QuYXNzaWduKHthdGFnczogW119LCB0eXBlKVxuICAgIGF0YWdUeXBlc1t0eXBlLm5hbWVdLmF0YWdzLnB1c2goYXRhZylcbiAgfVxuXG4gIC8vIHNvcnRcbiAgbGV0IGtleXNTb3J0ZWQgPSBPYmplY3Qua2V5cyhhdGFnVHlwZXMpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYXRhZ1R5cGVzW2FdLm9yZGVyLWF0YWdUeXBlc1tiXS5vcmRlcn0pXG4gIGxldCB0eXBlcyA9IFtdXG4gIGZvcihsZXQgaSBpbiBrZXlzU29ydGVkKSB0eXBlcy5wdXNoKGF0YWdUeXBlc1trZXlzU29ydGVkW2ldXSlcblxuICAvLyByZXR1cm4gdGFnc1xuICByZXR1cm4ge2RhdGE6IHR5cGVzfVxufVxuXG5leHBvcnQgeyBjbGllbnQsIHBhcnNlUmVzcG9uc2UsIHBhcnNlUmVzcG9uc2VXaXRoUGFnaW5hdGUsIHBhcnNlVGFncyB9XG4iLCJ2YXIgcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gIHZhciBfdm0gPSB0aGlzXG4gIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudFxuICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2hcbiAgcmV0dXJuIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiY29udGVudFwiIH0sIFtcbiAgICBfYyhcbiAgICAgIFwiZGl2XCIsXG4gICAgICB7IHN0YXRpY0NsYXNzOiBcImNvbnRhaW5lci1mbHVpZCB0cm9pcy1wYWdlc1wiIH0sXG4gICAgICBbXG4gICAgICAgIF9jKFwicGFnZXMtc2VjdGlvbi1tb2RhbFwiLCB7IGF0dHJzOiB7IHVybDogX3ZtLnVybCwgcGFnZTogX3ZtLnBhZ2UgfSB9KSxcbiAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgX2MoXG4gICAgICAgICAgXCJkcmFnZ2FibGVcIixcbiAgICAgICAgICB7XG4gICAgICAgICAgICBvbjogeyBlbmQ6IF92bS5vblNlY3Rpb25EcmFnRW5kIH0sXG4gICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICB2YWx1ZTogX3ZtLnBhZ2Uuc2VjdGlvbnMsXG4gICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigkJHYpIHtcbiAgICAgICAgICAgICAgICBfdm0uJHNldChfdm0ucGFnZSwgXCJzZWN0aW9uc1wiLCAkJHYpXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGV4cHJlc3Npb246IFwicGFnZS5zZWN0aW9uc1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBfdm0uX2woX3ZtLnBhZ2Uuc2VjdGlvbnMsIGZ1bmN0aW9uKHNlY3Rpb24sIHNlY3Rpb25JbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIF9jKFxuICAgICAgICAgICAgICBcInNlY3Rpb25cIixcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcInRyb2lzLXBhZ2VzX19zZWN0aW9uIGNhcmRcIixcbiAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgaWQ6IFwic2VjdGlvbi1cIiArIHNlY3Rpb25JbmRleCxcbiAgICAgICAgICAgICAgICAgIFwiZGF0YS1zZWN0aW9uLWluZGV4XCI6IHNlY3Rpb25JbmRleCxcbiAgICAgICAgICAgICAgICAgIFwiZGF0YS1pZFwiOiBzZWN0aW9uLmlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJjYXJkLWJvZHlcIiB9LFxuICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBfYyhcImgzXCIsIHsgc3RhdGljQ2xhc3M6IFwiY2FyZC10aXRsZVwiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoX3ZtLl9zKHNlY3Rpb24uc2VjdGlvbl90eXBlLm5hbWUpKVxuICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgX2MoXCJoNlwiLCB7IHN0YXRpY0NsYXNzOiBcImNhcmQtc3VidGl0bGUgbWItMiB0ZXh0LW11dGVkXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcInNlY3Rpb25cIilcbiAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiZHJhZ2dhYmxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwicm93XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbjogeyBlbmQ6IF92bS5vbkFydGljbGVEcmFnRW5kIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2VjdGlvbi5hcnRpY2xlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uKCQkdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS4kc2V0KHNlY3Rpb24sIFwiYXJ0aWNsZXNcIiwgJCR2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcInNlY3Rpb24uYXJ0aWNsZXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKHNlY3Rpb24uYXJ0aWNsZXMsIGZ1bmN0aW9uKGFydGljbGUsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYXJ0aWNsZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwidHJvaXMtcGFnZXNfX3NlY3Rpb25fX2FydGljbGUgY29sLTZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiYXJ0aWNsZS1cIiArIGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLWluZGV4XCI6IGluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLXNlY3Rpb24taW5kZXhcIjogc2VjdGlvbkluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjYXJkXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjYXJkLWJvZHlcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaDRcIiwgeyBzdGF0aWNDbGFzczogXCJjYXJkLXRpdGxlXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihfdm0uX3MoYXJ0aWNsZS50aXRsZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImg2XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiY2FyZC1zdWJ0aXRsZSBtYi0yIHRleHQtbXV0ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihfdm0uX3MoYXJ0aWNsZS5hcnRpY2xlX3R5cGUubmFtZSkpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0biBidG4taW5mbyBidG4teHMgYnRuLWZpbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIsIG5hbWU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmdvVG9Mb2NhdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS51cmwgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkbWluL3BhZ2VzL0FydGljbGVzL2VkaXQvXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnRpY2xlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJtYXRlcmlhbC1pY29uc1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiZWRpdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgRWRpdCBhcnRpY2xlXFxuICAgICAgICAgICAgICAgIFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJmb3JtXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNTdHlsZTogeyBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBcImZvcm0tYXJ0aWNsZS1cIiArIGFydGljbGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS51cmwgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFkbWluL3BhZ2VzL0FydGljbGVzL2RlbGV0ZS9cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFydGljbGUuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJidG4gYnRuLWRhbmdlciBidG4teHMgYnRuLWZpbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwiYnV0dG9uXCIsIG5hbWU6IFwiYnV0dG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmRlbGV0ZUFydGljbGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJ0aWNsZS5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwibWF0ZXJpYWwtaWNvbnNcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcImRlbGV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgRGVsZXRlIGFydGljbGVcXG4gICAgICAgICAgICAgICAgXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgIFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiYnRuIGJ0bi1wcmltYXJ5IGJ0bi14cyBidG4tZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJidXR0b25cIiwgbmFtZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZ29Ub0xvY2F0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnVybCArIFwiYWRtaW4vcGFnZXMvQXJ0aWNsZXMvYWRkL1wiICsgc2VjdGlvbi5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJpXCIsIHsgc3RhdGljQ2xhc3M6IFwibWF0ZXJpYWwtaWNvbnNcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcImFkZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgQWRkIGEgbmV3IGFydGljbGVcXG4gICAgICAgICAgXCIpXG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcImZvcm1cIiwge1xuICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY1N0eWxlOiB7IGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IFwiZm9ybS1zZWN0aW9uLVwiICsgc2VjdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLnVybCArIFwiYWRtaW4vcGFnZXMvU2VjdGlvbnMvZGVsZXRlL1wiICsgc2VjdGlvbi5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJwb3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0biBidG4tZGFuZ2VyIGJ0bi14cyBidG4tZmlsbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJidXR0b25cIiwgbmFtZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uZGVsZXRlU2VjdGlvbihzZWN0aW9uLmlkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJtYXRlcmlhbC1pY29uc1wiIH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiZGVsZXRlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBEZWxldGUgc2VjdGlvbiBhbmQgYXJ0aWNsZXNcXG4gICAgICAgICAgXCIpXG4gICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pLFxuICAgICAgICAgIDBcbiAgICAgICAgKVxuICAgICAgXSxcbiAgICAgIDFcbiAgICApLFxuICAgIF92bS5fdihcIiBcIiksXG4gICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjb250YWluZXItZmx1aWRcIiB9LCBbXG4gICAgICBfYyhcbiAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAge1xuICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImJ0biBidG4tcHJpbWFyeSBidG4teHMgYnRuLWZpbGxcIixcbiAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImJ1dHRvblwiLCBuYW1lOiBcImJ1dHRvblwiIH0sXG4gICAgICAgICAgb246IHtcbiAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF92bS5vcGVuU2VjdGlvbk1vZGFsKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFtcbiAgICAgICAgICBfYyhcImlcIiwgeyBzdGF0aWNDbGFzczogXCJtYXRlcmlhbC1pY29uc1wiIH0sIFtfdm0uX3YoXCJhZGRcIildKSxcbiAgICAgICAgICBfdm0uX3YoXCIgQWRkIGEgbmV3IHNlY3Rpb25cXG4gICAgXCIpXG4gICAgICAgIF1cbiAgICAgIClcbiAgICBdKVxuICBdKVxufVxudmFyIHN0YXRpY1JlbmRlckZucyA9IFtdXG5yZW5kZXIuX3dpdGhTdHJpcHBlZCA9IHRydWVcblxuZXhwb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSIsIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyLWZsdWlkIHRyb2lzLXBhZ2VzXCI+XG5cbiAgICAgIDwhLS0gc2VjdGlvbiBtb2RhbC0tPlxuICAgICAgPHBhZ2VzLXNlY3Rpb24tbW9kYWwgOnVybD1cInVybFwiIDpwYWdlPVwicGFnZVwiPjwvcGFnZXMtc2VjdGlvbi1tb2RhbD5cbiAgICAgIDxkcmFnZ2FibGUgdi1tb2RlbD1cInBhZ2Uuc2VjdGlvbnNcIiBAZW5kPVwib25TZWN0aW9uRHJhZ0VuZFwiPlxuICAgICAgICA8c2VjdGlvbiAgdi1mb3I9XCIoc2VjdGlvbiwgc2VjdGlvbkluZGV4KSBpbiBwYWdlLnNlY3Rpb25zXCIgOmlkPVwiJ3NlY3Rpb24tJytzZWN0aW9uSW5kZXhcIiA6ZGF0YS1zZWN0aW9uLWluZGV4PVwic2VjdGlvbkluZGV4XCIgOmRhdGEtaWQ9XCJzZWN0aW9uLmlkXCIgY2xhc3M9XCJ0cm9pcy1wYWdlc19fc2VjdGlvbiBjYXJkXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgPGgzIGNsYXNzPVwiY2FyZC10aXRsZVwiPnt7c2VjdGlvbi5zZWN0aW9uX3R5cGUubmFtZX19PC9oMz5cbiAgICAgICAgICAgIDxoNiBjbGFzcz1cImNhcmQtc3VidGl0bGUgbWItMiB0ZXh0LW11dGVkXCI+c2VjdGlvbjwvaDY+XG5cbiAgICAgICAgICAgIDwhLS0gYXJ0aWNsZXMgbGlzdCAtLT5cblxuICAgICAgICAgIDwhLS0gIHYtc29ydGFibGU9XCJ7ZHJhZ2dhYmxlOicudHJvaXMtcGFnZXNfX3NlY3Rpb25fX2FydGljbGUnLCBvbkVuZDpvbkFydGljbGVEcmFnRW5kfVwiIC0tPlxuICAgICAgICAgIDxkcmFnZ2FibGUgY2xhc3M9XCJyb3dcIiB2LW1vZGVsPVwic2VjdGlvbi5hcnRpY2xlc1wiIEBlbmQ9XCJvbkFydGljbGVEcmFnRW5kXCI+XG4gICAgICAgICAgICA8YXJ0aWNsZSB2LWZvcj1cIihhcnRpY2xlLCBpbmRleCkgaW4gc2VjdGlvbi5hcnRpY2xlc1wiIDppZD1cIidhcnRpY2xlLScraW5kZXhcIiA6ZGF0YS1pbmRleD1cImluZGV4XCIgOmRhdGEtc2VjdGlvbi1pbmRleD1cInNlY3Rpb25JbmRleFwiIGNsYXNzPVwidHJvaXMtcGFnZXNfX3NlY3Rpb25fX2FydGljbGUgY29sLTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XG5cbiAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImNhcmQtdGl0bGVcIj57e2FydGljbGUudGl0bGV9fTwvaDQ+XG4gICAgICAgICAgICAgICAgICA8aDYgY2xhc3M9XCJjYXJkLXN1YnRpdGxlIG1iLTIgdGV4dC1tdXRlZFwiPnt7YXJ0aWNsZS5hcnRpY2xlX3R5cGUubmFtZX19PC9oNj5cblxuICAgICAgICAgICAgICAgICAgPCEtLSBhY3Rpb25zIGJ0bnMgLS0+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIEBjbGljaz1cImdvVG9Mb2NhdGlvbih1cmwrJ2FkbWluL3BhZ2VzL0FydGljbGVzL2VkaXQvJythcnRpY2xlLmlkKVwiIHR5cGU9XCJidXR0b25cIiBuYW1lPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWluZm8gYnRuLXhzIGJ0bi1maWxsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5lZGl0PC9pPiBFZGl0IGFydGljbGVcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPCEtLSBkZWxldGUgc2VjdGlvbiAtLT5cbiAgICAgICAgICAgICAgICAgIDxmb3JtIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7XCIgOmlkPVwiJ2Zvcm0tYXJ0aWNsZS0nK2FydGljbGUuaWRcIiA6YWN0aW9uPVwidXJsKydhZG1pbi9wYWdlcy9BcnRpY2xlcy9kZWxldGUvJythcnRpY2xlLmlkXCIgbWV0aG9kPVwicG9zdFwiPjwvZm9ybT5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gQGNsaWNrPVwiZGVsZXRlQXJ0aWNsZShzZWN0aW9uLmlkLGFydGljbGUuaWQpXCIgdHlwZT1cImJ1dHRvblwiIG5hbWU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tZGFuZ2VyIGJ0bi14cyBidG4tZmlsbFwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlPC9pPiBEZWxldGUgYXJ0aWNsZVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9hcnRpY2xlPlxuICAgICAgICAgIDwvZHJhZ2dhYmxlPlxuXG5cbiAgICAgICAgICAgIDwhLS0gYWRkIGFydGljbGUgLS0+XG4gICAgICAgICAgICA8YnV0dG9uIEBjbGljaz1cImdvVG9Mb2NhdGlvbih1cmwrJ2FkbWluL3BhZ2VzL0FydGljbGVzL2FkZC8nK3NlY3Rpb24uaWQpXCIgdHlwZT1cImJ1dHRvblwiIG5hbWU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHMgYnRuLWZpbGxcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmFkZDwvaT4gQWRkIGEgbmV3IGFydGljbGVcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPCEtLSBkZWxldGUgc2VjdGlvbiAtLT5cbiAgICAgICAgICAgIDxmb3JtIHN0eWxlPVwiZGlzcGxheTppbmxpbmUtYmxvY2s7XCIgOmlkPVwiJ2Zvcm0tc2VjdGlvbi0nK3NlY3Rpb24uaWRcIiA6YWN0aW9uPVwidXJsKydhZG1pbi9wYWdlcy9TZWN0aW9ucy9kZWxldGUvJytzZWN0aW9uLmlkXCIgbWV0aG9kPVwicG9zdFwiPjwvZm9ybT5cbiAgICAgICAgICAgIDxidXR0b24gQGNsaWNrPVwiZGVsZXRlU2VjdGlvbihzZWN0aW9uLmlkKVwiIHR5cGU9XCJidXR0b25cIiBuYW1lPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlciBidG4teHMgYnRuLWZpbGxcIj5cbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZTwvaT4gRGVsZXRlIHNlY3Rpb24gYW5kIGFydGljbGVzXG4gICAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L3NlY3Rpb24+XG4gICAgICA8L2RyYWdnYWJsZT5cbiAgICA8L2Rpdj4gPCEtLSBlbmQgY29udGFpbmVyLWZsdWlkIC0tPlxuXG4gICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lci1mbHVpZFwiPlxuICAgICAgPCEtLSBhZGQgc2VjdGlvbiAtLT5cbiAgICAgIDxidXR0b24gQGNsaWNrPVwib3BlblNlY3Rpb25Nb2RhbCgpXCIgdHlwZT1cImJ1dHRvblwiIG5hbWU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4teHMgYnRuLWZpbGxcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmFkZDwvaT4gQWRkIGEgbmV3IHNlY3Rpb25cbiAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PjwhLS0gZW5kIGNvbnRhaW5lci1mbHVpZCAtLT5cblxuICA8L2Rpdj4gPCEtLSBlbmQgY29udGVudCAtLT5cbjwvdGVtcGxhdGU+XG48c2NyaXB0PlxuaW1wb3J0IFNlY3Rpb25Nb2RhbCBmcm9tICcuL1NlY3Rpb25Nb2RhbC52dWUnXG5pbXBvcnQgeyBjbGllbnQgfSBmcm9tICdAL2h0dHAvY2xpZW50LmpzJ1xuXG5leHBvcnQgZGVmYXVsdFxue1xuICBuYW1lOiAncGFnZXMtcGFnZScsXG4gIGNvbXBvbmVudHM6IHtcbiAgICAncGFnZXMtc2VjdGlvbi1tb2RhbCc6IFNlY3Rpb25Nb2RhbFxuICB9LFxuICBwcm9wczoge1xuICAgIHVybDpTdHJpbmdcbiAgfSxcbiAgZGF0YTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlOiB7fSxcbiAgICAgIHNlY3Rpb246IHt9LFxuICAgICAgYXJ0aWNsZToge30sXG4gICAgfVxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbigpe1xuICAgIGlmKHdpbmRvdy5tYWluRXZlbnRIdWJbJ3BhZ2UnXSA9PSB1bmRlZmluZWQpIHdpbmRvdy5tYWluRXZlbnRIdWJbJ3BhZ2UnXSA9IG5ldyBWdWUoKTtcbiAgICB0aGlzLnBhZ2UgPSB3aW5kb3cudHJvaXNQYWdlO1xuICB9LFxuICBjb21wdXRlZDoge1xuXG4gIH0sXG4gIG1ldGhvZHM6IHtcbiAgICBvblNlY3Rpb25EcmFnRW5kOiBmdW5jdGlvbihldnQpe1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgJCgnLnRyb2lzLXBhZ2VzIHNlY3Rpb24nKVxuICAgICAgLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsZW0pe1xuICAgICAgICB2YXIgc2VjdGlvbkluZGV4ID0gJChlbGVtKS5kYXRhKCdzZWN0aW9uLWluZGV4Jyk7XG4gICAgICAgIHNlbGYucGFnZS5zZWN0aW9uc1tzZWN0aW9uSW5kZXhdLm9yZGVyID0gaW5kZXg7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2F2ZU5ld09yZGVyKCk7XG4gICAgfSxcbiAgICBvbkFydGljbGVEcmFnRW5kOiBmdW5jdGlvbihldnQpe1xuICAgICAgdmFyIHNlY3Rpb25JbmRleCA9ICQoJyMnK2V2dC5pdGVtLmlkKS5kYXRhKCdzZWN0aW9uLWluZGV4Jyk7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAkKCcjc2VjdGlvbi0nK3NlY3Rpb25JbmRleCsnIC50cm9pcy1wYWdlc19fc2VjdGlvbl9fYXJ0aWNsZScpXG4gICAgICAuZWFjaChmdW5jdGlvbihpbmRleCwgZWxlbSl7XG4gICAgICAgIHZhciBhcnRpY2xlSW5kZXggPSAkKGVsZW0pLmRhdGEoJ2luZGV4Jyk7XG4gICAgICAgIHNlbGYucGFnZS5zZWN0aW9uc1tzZWN0aW9uSW5kZXhdLmFydGljbGVzW2FydGljbGVJbmRleF0ub3JkZXIgPSBpbmRleDtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zYXZlTmV3T3JkZXIoKTtcbiAgICB9LFxuICAgIGdvVG9Mb2NhdGlvbjogZnVuY3Rpb24obG9jYXRpb24pe1xuICAgICAgd2luZG93LmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgfSxcbiAgICBvcGVuU2VjdGlvbk1vZGFsOiBmdW5jdGlvbigpe1xuICAgICAgd2luZG93Lm1haW5FdmVudEh1YlsncGFnZSddLiRlbWl0KCdvcGVuLXNlY3Rpb24tbW9kYWwnKVxuICAgIH0sXG4gICAgZ2V0U2VjdGlvbjogZnVuY3Rpb24oaWQpe1xuICAgICAgdGhpcy5zZWN0aW9uID0gbnVsbDtcbiAgICAgIGZvcih2YXIgaSBpbiB0aGlzLnBhZ2Uuc2VjdGlvbnMpe1xuICAgICAgICBpZih0aGlzLnBhZ2Uuc2VjdGlvbnNbaV0uaWQgPT0gaWQpe1xuICAgICAgICAgIHRoaXMuc2VjdGlvbklkID0gaTtcbiAgICAgICAgICB0aGlzLnNlY3Rpb24gPSB0aGlzLnBhZ2Uuc2VjdGlvbnNbaV07XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VjdGlvbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0QXJ0Y2lsZTogZnVuY3Rpb24oc2VjdGlvbklkLCBhcnRjaWxlSWQpe1xuICAgICAgdGhpcy5nZXRTZWN0aW9uKHNlY3Rpb25JZCk7XG4gICAgICB0aGlzLmFydGljbGUgPSBudWxsO1xuICAgICAgZm9yKHZhciBpIGluIHRoaXMuc2VjdGlvbi5hcnRpY2xlcyl7XG4gICAgICAgIGlmKHRoaXMuc2VjdGlvbi5hcnRpY2xlc1tpXS5pZCA9PSBhcnRjaWxlSWQpe1xuICAgICAgICAgIHRoaXMuYXJ0aWNsZUlkID0gaTtcbiAgICAgICAgICB0aGlzLmFydGljbGUgPSB0aGlzLnNlY3Rpb24uYXJ0aWNsZXNbaV07XG4gICAgICAgICAgcmV0dXJuIHRoaXMuYXJ0aWNsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlU2VjdGlvbjogZnVuY3Rpb24oaWQpe1xuICAgICAgdGhpcy5nZXRTZWN0aW9uKGlkKTtcbiAgICAgIGlmKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2VjdGlvbjogXCInK3RoaXMuc2VjdGlvbi5zZWN0aW9uX3R5cGUubmFtZSsnXCIgPycpKVxuICAgICAge1xuICAgICAgICAkKCcjZm9ybS1zZWN0aW9uLScraWQpLnN1Ym1pdCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgZGVsZXRlQXJ0aWNsZTogZnVuY3Rpb24oc2VjdGlvbklkLCBhcnRjaWxlSWQpe1xuICAgICAgdGhpcy5nZXRBcnRjaWxlKHNlY3Rpb25JZCwgYXJ0Y2lsZUlkKTtcbiAgICAgIGlmKGNvbmZpcm0oJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgYXJ0Y2lsZTogXCInK3RoaXMuYXJ0aWNsZS50aXRsZSsnXCIgPycpKVxuICAgICAge1xuICAgICAgICAkKCcjZm9ybS1hcnRpY2xlLScrYXJ0Y2lsZUlkKS5zdWJtaXQoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNhdmVOZXdPcmRlcjogZnVuY3Rpb24oKXtcbiAgICAgIGxldCBkYXRhID0gbmV3IEZvcm1EYXRhKClcbiAgICAgIGRhdGEuYXBwZW5kKCdzZWN0aW9ucycsIEpTT04uc3RyaW5naWZ5KHRoaXMucGFnZS5zZWN0aW9ucykpO1xuICAgICAgZGF0YS5hcHBlbmQoJ19jc3JmVG9rZW4nLCB3aW5kb3cuZ2V0Q3NyZlRva2VuKCkpXG4gICAgICBjbGllbnQucG9zdCh0aGlzLnVybCsnYWRtaW4vcGFnZXMvUGFnZXMvb3JkZXJQYWdlQ29udGVudC5qc29uJywgZGF0YSlcbiAgICAgIC50aGVuKHRoaXMuc2F2ZU5ld09yZGVyU3VjY2VzcywgdGhpcy5lcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuICAgIHNhdmVOZXdPcmRlclN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICB9LFxuICAgIGVycm9yQ2FsbGJhY2s6IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgIGFsZXJ0KCdBbiBlcnJvciBvY2N1cmVkIScpO1xuICAgIH0sXG4gIH1cbn1cbjwvc2NyaXB0PlxuPHN0eWxlIGxhbmc9XCJzY3NzXCIgc2NvcGVkPlxuPC9zdHlsZT5cbiIsImltcG9ydCBtb2QgZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXS51c2UhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9QYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIjsgZXhwb3J0IGRlZmF1bHQgbW9kOyBleHBvcnQgKiBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdLnVzZSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1BhZ2UudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9QYWdlLnZ1ZT92dWUmdHlwZT10ZW1wbGF0ZSZpZD0zOTQ1Mjg4NCZzY29wZWQ9dHJ1ZSZcIlxuaW1wb3J0IHNjcmlwdCBmcm9tIFwiLi9QYWdlLnZ1ZT92dWUmdHlwZT1zY3JpcHQmbGFuZz1qcyZcIlxuZXhwb3J0ICogZnJvbSBcIi4vUGFnZS52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBcIjM5NDUyODg0XCIsXG4gIG51bGxcbiAgXG4pXG5cbi8qIGhvdCByZWxvYWQgKi9cbmlmIChtb2R1bGUuaG90KSB7XG4gIHZhciBhcGkgPSByZXF1aXJlKFwiL1VzZXJzL2FudG9pbmUvU2l0ZXMvY2FrZXBocC1hcHAvbm9kZV9tb2R1bGVzL3Z1ZS1ob3QtcmVsb2FkLWFwaS9kaXN0L2luZGV4LmpzXCIpXG4gIGFwaS5pbnN0YWxsKHJlcXVpcmUoJ3Z1ZScpKVxuICBpZiAoYXBpLmNvbXBhdGlibGUpIHtcbiAgICBtb2R1bGUuaG90LmFjY2VwdCgpXG4gICAgaWYgKCFhcGkuaXNSZWNvcmRlZCgnMzk0NTI4ODQnKSkge1xuICAgICAgYXBpLmNyZWF0ZVJlY29yZCgnMzk0NTI4ODQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbG9hZCgnMzk0NTI4ODQnLCBjb21wb25lbnQub3B0aW9ucylcbiAgICB9XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXCIuL1BhZ2UudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTM5NDUyODg0JnNjb3BlZD10cnVlJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzM5NDUyODg0Jywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJ2ZW5kb3IvM3h3L2Nha2VwaHAtcGFnZXMvcmVzb3VyY2VzL2Fzc2V0cy9jb21wb25lbnRzL1BhZ2UudnVlXCJcbmV4cG9ydCBkZWZhdWx0IGNvbXBvbmVudC5leHBvcnRzIiwidmFyIHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgX3ZtID0gdGhpc1xuICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnRcbiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gIHJldHVybiBfdm0uc2hvd1xuICAgID8gX2MoXG4gICAgICAgIFwiZGl2XCIsXG4gICAgICAgIHtcbiAgICAgICAgICBzdGF0aWNDbGFzczogXCJtb2RhbC1tYXNrXCIsXG4gICAgICAgICAgYXR0cnM6IHsgaWQ6IFwicGFnZXMtc2VjdGlvbi1tb2RhbFwiLCB0cmFuc2l0aW9uOiBcIm1vZGFsXCIgfVxuICAgICAgICB9LFxuICAgICAgICBbXG4gICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJtb2RhbC13cmFwcGVyXCIgfSwgW1xuICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJtb2RhbC1jb250YWluZXIgY29udGFpbmVyXCIgfSwgW1xuICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImN1c3RvbS1tb2RhbC1oZWFkZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgX3ZtLl92KFwiXFxuICAgICAgICBTZWN0aW9uIHNlbGVjdGlvblxcbiAgICAgIFwiKVxuICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgXCJkaXZcIixcbiAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImN1c3RvbS1tb2RhbC1ib2R5XCIgfSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICBfdm0uX2woX3ZtLmVycm9ycywgZnVuY3Rpb24oZXJyb3IsIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfYyhcbiAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImFsZXJ0IGFsZXJ0LXdhcm5pbmcgYWxlcnQtZGlzbWlzc2libGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IFwidHJhY2stYnlcIjogXCIkaW5kZXhcIiwgcm9sZTogXCJhbGVydFwiIH1cbiAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImJ1dHRvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiY2xvc2VcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyB0eXBlOiBcImJ1dHRvblwiLCBcImFyaWEtbGFiZWxcIjogXCJDbG9zZVwiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLmVycm9ycyA9IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJzcGFuXCIsIHsgYXR0cnM6IHsgXCJhcmlhLWhpZGRlblwiOiBcInRydWVcIiB9IH0sIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIsOXXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICBfYyhcInN0cm9uZ1wiLCBbX3ZtLl92KFwiV2F0Y2ggb3V0IVwiKV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiICsgX3ZtLl9zKGVycm9yKSArIFwiXFxuICAgICAgICBcIilcbiAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF92bS5sb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgID8gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRpdlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0aWNDbGFzczogXCJhdHRhY2htZW50LWxvYWRpbmctY29udGFpbmVyXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJpbWdcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOiBcImltZy1yZXNwb25zaXZlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgc3JjOiBfdm0udXJsICsgXCJpbWcvYWRtaW4vbG9hZGluZy5naWZcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICFfdm0ubG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICA/IF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwicm93XCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJkaXZcIiwgeyBzdGF0aWNDbGFzczogXCJjb2wteHMtMTJcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGFibGVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0aWNDbGFzczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1zdHJpcGVkIHRhYmxlLWNvbmRlbnNlZCB0YWJsZS1ob3ZlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX20oMCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl9sKF92bS5zZWN0aW9uVHlwZXMsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWN0aW9uVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0clwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgYXR0cnM6IHsgaWQ6IFwic2VjdGlvbi10eXBlLVwiICsgaW5kZXggfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgICBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3Moc2VjdGlvblR5cGUubmFtZSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXCIgXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXCJ0ZFwiLCBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiYnRuLWdyb3VwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRpY0NsYXNzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYnRuIGJ0bi14cyBidG4tZmlsbCBidG4taW5mb1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6IFwiI1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IFwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3ZtLmFkZFNlY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rpb25UeXBlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0uX3YoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcXG4gICAgICAgICAgICAgICAgICAgICAgU2VsZWN0XFxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidHJcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcInRkXCIsIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImlucHV0LWdyb3VwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3BhblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHN0YXRpY0NsYXNzOiBcImlucHV0LWdyb3VwLWFkZG9uXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW192bS5fdihcIlNlY3Rpb24gdHlwZSBuYW1lIMKgwqBcIildXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiaW5wdXRcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVzOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJtb2RlbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF3TmFtZTogXCJ2LW1vZGVsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX3ZtLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uOiBcIm5hbWVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6IFwiZm9ybS1jb250cm9sXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzOiB7IHR5cGU6IFwidGV4dFwiLCBwbGFjZWhvbGRlcjogXCJcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb21Qcm9wczogeyB2YWx1ZTogX3ZtLm5hbWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdm0ubmFtZSA9ICRldmVudC50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwidGRcIiwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiYnRuLWdyb3VwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImJ0biBidG4teHMgYnRuLWZpbGwgYnRuLXN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyczogeyBocmVmOiBcIiNcIiwgcm9sZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oJGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY3JlYXRlU2VjdGlvblR5cGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92bS5fdihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXFxuICAgICAgICAgICAgICAgICAgICAgIE9yIGNyZWF0ZVxcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgICAgICAgICA6IF92bS5fZSgpLFxuICAgICAgICAgICAgICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgICAgICAgICAgICAgIF9jKFwicFwiKSxcbiAgICAgICAgICAgICAgICAgIF92bS5fdihcIiBcIiksXG4gICAgICAgICAgICAgICAgICBfYyhcImRpdlwiLCB7IHN0YXRpY0NsYXNzOiBcImN1c3RvbS1tb2RhbC1mb290ZXJcIiB9LCBbXG4gICAgICAgICAgICAgICAgICAgIF9jKFwiZGl2XCIsIHsgc3RhdGljQ2xhc3M6IFwiYnRuLWdyb3VwXCIgfSwgW1xuICAgICAgICAgICAgICAgICAgICAgIF9jKFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJidXR0b25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGljQ2xhc3M6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtb2RhbC1kZWZhdWx0LWJ1dHRvbiBidG4gYnRuLWZpbGwgYnRuLXdhcm5pbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnM6IHsgdHlwZTogXCJidXR0b25cIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigkZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdm0uY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtfdm0uX3YoXCJcXG4gICAgICAgICAgICAgIENsb3NlXFxuICAgICAgICAgICAgXCIpXVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAgIF0pXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAyXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF0pXG4gICAgICAgICAgXSlcbiAgICAgICAgXVxuICAgICAgKVxuICAgIDogX3ZtLl9lKClcbn1cbnZhciBzdGF0aWNSZW5kZXJGbnMgPSBbXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdm0gPSB0aGlzXG4gICAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50XG4gICAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oXG4gICAgcmV0dXJuIF9jKFwidHJcIiwgW1xuICAgICAgX2MoXCJ0aFwiLCBbX3ZtLl92KFwiTmFtZVwiKV0pLFxuICAgICAgX3ZtLl92KFwiIFwiKSxcbiAgICAgIF9jKFwidGhcIiwgW192bS5fdihcIkFjdGlvbnNcIildKVxuICAgIF0pXG4gIH1cbl1cbnJlbmRlci5fd2l0aFN0cmlwcGVkID0gdHJ1ZVxuXG5leHBvcnQgeyByZW5kZXIsIHN0YXRpY1JlbmRlckZucyB9IiwiPHRlbXBsYXRlPlxuICA8ZGl2IGlkPVwicGFnZXMtc2VjdGlvbi1tb2RhbFwiIGNsYXNzPVwibW9kYWwtbWFza1wiIHYtaWY9XCJzaG93XCIgdHJhbnNpdGlvbj1cIm1vZGFsXCI+XG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLXdyYXBwZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250YWluZXIgY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjdXN0b20tbW9kYWwtaGVhZGVyXCI+XG4gICAgICAgICAgU2VjdGlvbiBzZWxlY3Rpb25cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjdXN0b20tbW9kYWwtYm9keVwiPlxuXG4gICAgICAgICAgPCEtLSBXQVJOSU5HUyAtLT5cbiAgICAgICAgICA8ZGl2IHYtZm9yPVwiKGVycm9yLCBpbmRleCkgaW4gZXJyb3JzXCIgdHJhY2stYnk9XCIkaW5kZXhcIiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmcgYWxlcnQtZGlzbWlzc2libGVcIiByb2xlPVwiYWxlcnRcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiY2xvc2VcIiAgYXJpYS1sYWJlbD1cIkNsb3NlXCIgQGNsaWNrPVwiZXJyb3JzID0gW11cIiA+PHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+JnRpbWVzOzwvc3Bhbj48L2J1dHRvbj5cbiAgICAgICAgICAgIDxzdHJvbmc+V2F0Y2ggb3V0ITwvc3Ryb25nPiB7e2Vycm9yfX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwhLS0gbG9hZGluZyAtLT5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCJsb2FkaW5nXCIgY2xhc3M9XCJhdHRhY2htZW50LWxvYWRpbmctY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8aW1nIHYtYmluZDpzcmM9XCJ1cmwrJ2ltZy9hZG1pbi9sb2FkaW5nLmdpZidcIiBjbGFzcz1cImltZy1yZXNwb25zaXZlXCIgLz5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDwhLS0gc2VjdGlvblR5cGVzIHNlbGVjdGlvbiAtLT5cbiAgICAgICAgICA8ZGl2IHYtaWY9XCIhbG9hZGluZ1wiIGNsYXNzPVwicm93XCIgPlxuICAgICAgICAgICAgPCEtLSBsaXN0IG9wdGlvbiAtLT5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wteHMtMTJcIj5cbiAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtc3RyaXBlZCB0YWJsZS1jb25kZW5zZWQgdGFibGUtaG92ZXJcIj5cbiAgICAgICAgICAgICAgICA8IS0tIHJvdyAtLT5cbiAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XG4gICAgICAgICAgICAgICAgICA8dGg+QWN0aW9uczwvdGg+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8dHIgdi1mb3I9XCIoc2VjdGlvblR5cGUsIGluZGV4KSBpbiBzZWN0aW9uVHlwZXNcIiA6aWQ9XCInc2VjdGlvbi10eXBlLScraW5kZXhcIj5cbiAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAge3tzZWN0aW9uVHlwZS5uYW1lfX1cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIGRhdGEgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWZpbGwgYnRuLWluZm9cIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwiYWRkU2VjdGlvbihzZWN0aW9uVHlwZS5pZClcIiA+XG4gICAgICAgICAgICAgICAgICAgICAgICBTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC90ZD5cblxuICAgICAgICAgICAgICAgIDwvdHI+XG5cbiAgICAgICAgICAgICAgICA8IS0tIGFkZCBvbmUgLS0+XG4gICAgICAgICAgICAgICAgPHRyID5cbiAgICAgICAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlNlY3Rpb24gdHlwZSBuYW1lICZuYnNwOyZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdi1tb2RlbD1cIm5hbWVcIiB0eXBlPVwidGV4dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCIgcGxhY2Vob2xkZXI9XCJcIj5cblxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8IS0tIGRhdGEgLS0+XG4gICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cImJ0biBidG4teHMgYnRuLWZpbGwgYnRuLXN1Y2Nlc3NcIiByb2xlPVwiYnV0dG9uXCIgQGNsaWNrPVwiY3JlYXRlU2VjdGlvblR5cGUoKVwiID5cbiAgICAgICAgICAgICAgICAgICAgICAgIE9yIGNyZWF0ZVxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuXG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPHA+PC9wPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjdXN0b20tbW9kYWwtZm9vdGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYnRuLWdyb3VwXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibW9kYWwtZGVmYXVsdC1idXR0b24gYnRuIGJ0bi1maWxsIGJ0bi13YXJuaW5nXCIgQGNsaWNrPVwiY2xvc2UoKVwiPlxuICAgICAgICAgICAgICAgIENsb3NlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0PlxuaW1wb3J0IHsgY2xpZW50IH0gZnJvbSAnQC9odHRwL2NsaWVudC5qcydcblxuZXhwb3J0IGRlZmF1bHRcbntcbiAgbmFtZTogJ3BhZ2VzLXNlY3Rpb24tbW9kYWwnLFxuICBkYXRhOiBmdW5jdGlvbigpe1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAnJyxcbiAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICBzaG93OiBmYWxzZSxcbiAgICAgIGVycm9yczogW10sXG4gICAgICBzZWN0aW9uVHlwZXM6IFtdLFxuICAgICAgcGFnaW5hdGlvbjoge1xuICAgICAgICBcInBhZ2VfY291bnRcIjogMSxcbiAgICAgICAgXCJjdXJyZW50X3BhZ2VcIjogMSxcbiAgICAgICAgXCJoYXNfbmV4dF9wYWdlXCI6IGZhbHNlLFxuICAgICAgICBcImhhc19wcmV2X3BhZ2VcIjogZmFsc2UsXG4gICAgICAgIFwiY291bnRcIjogMCxcbiAgICAgICAgXCJsaW1pdFwiOiAxMDBcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBwcm9wczoge1xuICAgIHVybDpTdHJpbmcsXG4gICAgcGFnZTogT2JqZWN0LFxuICB9LFxuICBjcmVhdGVkOiBmdW5jdGlvbigpe1xuICAgIGlmKHdpbmRvdy5tYWluRXZlbnRIdWJbJ3BhZ2UnXSA9PSB1bmRlZmluZWQpIHdpbmRvdy5tYWluRXZlbnRIdWJbJ3BhZ2UnXSA9IG5ldyBWdWUoKTtcbiAgICB3aW5kb3cubWFpbkV2ZW50SHViWydwYWdlJ10uJG9uKCdvcGVuLXNlY3Rpb24tbW9kYWwnLCB0aGlzLm9wZW4pO1xuICB9LFxuICBtb3VudGVkOiBmdW5jdGlvbigpe1xuICAgIC8vZ2V0IHNlY3Rpb24gdHlwZXMgaGVyZSBvciBub3RcbiAgfSxcbiAgbWV0aG9kczoge1xuXG4gICAgY2xvc2U6IGZ1bmN0aW9uKCl7XG4gICAgICB0aGlzLnNob3cgPSBmYWxzZTtcbiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgd2luZG93Lm1haW5FdmVudEh1YlsncGFnZSddLiRlbWl0KCdwYWdlLXNlY3Rpb24tbW9kYWwtY2xvc2VkJyk7XG4gICAgfSxcbiAgICBvcGVuOiBmdW5jdGlvbigpe1xuICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuc2hvdyA9IHRydWU7XG4gICAgICB0aGlzLmdldFNlY3Rpb25UeXBlcygpO1xuICAgIH0sXG4gICAgZ2V0U2VjdGlvblR5cGVzOiBmdW5jdGlvbigpe1xuICAgICAgdGhpcy5uYW1lID0gJyc7XG4gICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgdmFyIHBhcmFtcyA9IHtwYWdlOiB0aGlzLnBhZ2luYXRpb24uY3VycmVudF9wYWdlfTtcbiAgICAgIGNsaWVudC5nZXQodGhpcy51cmwrJ2FkbWluL3BhZ2VzL1NlY3Rpb25UeXBlcy5qc29uJywgeyBwYXJhbXM6IHBhcmFtcyB9KVxuICAgICAgLnRoZW4odGhpcy5nZXRTZWN0aW9uVHlwZXNTdWNjZXNzQ2FsbGJhY2ssIHRoaXMuZXJyb3JDYWxsYmFjayk7XG4gICAgfSxcbiAgICBhZGRTZWN0aW9uOiBmdW5jdGlvbihpZCl7XG4gICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgICAgZGF0YS5hcHBlbmQoJ3BhZ2VfaWQnLCB0aGlzLnBhZ2UuaWQpXG4gICAgICBkYXRhLmFwcGVuZCgnc2VjdGlvbl90eXBlX2lkJywgaWQpXG4gICAgICBkYXRhLmFwcGVuZCgnX2NzcmZUb2tlbicsIHdpbmRvdy5nZXRDc3JmVG9rZW4oKSlcbiAgICAgIGNsaWVudC5wb3N0KHRoaXMudXJsKydhZG1pbi9wYWdlcy9TZWN0aW9ucy9hZGQuanNvbicsIGRhdGEpXG4gICAgICAudGhlbih0aGlzLmNyZWF0ZVNlY3Rpb25UeXBlU3VjY2Vzc0NhbGxiYWNrLCB0aGlzLmVycm9yQ2FsbGJhY2spO1xuICAgIH0sXG4gICAgY3JlYXRlU2VjdGlvblR5cGU6IGZ1bmN0aW9uKCl7XG4gICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgICAgbGV0IGRhdGEgPSBuZXcgRm9ybURhdGEoKVxuICAgICAgZGF0YS5hcHBlbmQoJ25hbWUnLCB0aGlzLm5hbWUpXG4gICAgICBkYXRhLmFwcGVuZCgnX2NzcmZUb2tlbicsIHdpbmRvdy5nZXRDc3JmVG9rZW4oKSlcbiAgICAgIGNsaWVudC5wb3N0KHRoaXMudXJsKydhZG1pbi9wYWdlcy9TZWN0aW9uVHlwZXMvYWRkLmpzb24nLCBkYXRhKVxuICAgICAgLnRoZW4odGhpcy5nZXRTZWN0aW9uVHlwZXMsIHRoaXMuZXJyb3JDYWxsYmFjayk7XG4gICAgfSxcbiAgICBjcmVhdGVTZWN0aW9uVHlwZVN1Y2Nlc3NDYWxsYmFjazogZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTtcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcbiAgICAgIGNsaWVudC5nZXQodGhpcy51cmwrJ2FkbWluL3BhZ2VzL1NlY3Rpb25zL3ZpZXcvJytyZXNwb25zZS5kYXRhLmRhdGEuaWQrJy5qc29uJylcbiAgICAgIC50aGVuKHRoaXMuZ2V0U2VjdGlvblN1Y2Nlc3NDYWxsYmFjaywgdGhpcy5lcnJvckNhbGxiYWNrKTtcbiAgICB9LFxuICAgIGdldFNlY3Rpb25TdWNjZXNzQ2FsbGJhY2s6IGZ1bmN0aW9uKHJlc3BvbnNlKXtcbiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgdmFyIHNlY3Rpb24gPSByZXNwb25zZS5kYXRhLmRhdGE7XG4gICAgICB0aGlzLnBhZ2Uuc2VjdGlvbnMucHVzaChzZWN0aW9uKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9LFxuICAgIGdldFNlY3Rpb25UeXBlc1N1Y2Nlc3NDYWxsYmFjazogZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLnNlY3Rpb25UeXBlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTtcbiAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbjtcblxuICAgIH0sXG4gICAgZXJyb3JDYWxsYmFjazogZnVuY3Rpb24ocmVzcG9uc2Upe1xuICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7XG4gICAgICB2YXIgbWVzc2FnZSA9ICggcmVzcG9uc2UuZGF0YSApPyByZXNwb25zZS5kYXRhLmRhdGEubWVzc2FnZSA6ICdZb3VyIHNlc3Npb24gaXMgbG9zdCwgcGxlYXNlIGxvZ2luIGFnYWluISc7XG4gICAgICB0aGlzLmVycm9ycy5wdXNoKG1lc3NhZ2UpO1xuICAgIH0sXG4gIH1cbn1cbjwvc2NyaXB0PlxuIiwiaW1wb3J0IG1vZCBmcm9tIFwiLSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvYmFiZWwtbG9hZGVyL2xpYi9pbmRleC5qcz8/Y2xvbmVkUnVsZVNldC0xWzBdLnJ1bGVzWzBdLnVzZSEuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdnVlLWxvYWRlci9saWIvaW5kZXguanM/P3Z1ZS1sb2FkZXItb3B0aW9ucyEuL1NlY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCI7IGV4cG9ydCBkZWZhdWx0IG1vZDsgZXhwb3J0ICogZnJvbSBcIi0hLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2JhYmVsLWxvYWRlci9saWIvaW5kZXguanM/P2Nsb25lZFJ1bGVTZXQtMVswXS5ydWxlc1swXS51c2UhLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Z1ZS1sb2FkZXIvbGliL2luZGV4LmpzPz92dWUtbG9hZGVyLW9wdGlvbnMhLi9TZWN0aW9uTW9kYWwudnVlP3Z1ZSZ0eXBlPXNjcmlwdCZsYW5nPWpzJlwiIiwiaW1wb3J0IHsgcmVuZGVyLCBzdGF0aWNSZW5kZXJGbnMgfSBmcm9tIFwiLi9TZWN0aW9uTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ2YTNlNzNkJlwiXG5pbXBvcnQgc2NyaXB0IGZyb20gXCIuL1NlY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcbmV4cG9ydCAqIGZyb20gXCIuL1NlY3Rpb25Nb2RhbC52dWU/dnVlJnR5cGU9c2NyaXB0Jmxhbmc9anMmXCJcblxuXG4vKiBub3JtYWxpemUgY29tcG9uZW50ICovXG5pbXBvcnQgbm9ybWFsaXplciBmcm9tIFwiIS4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy92dWUtbG9hZGVyL2xpYi9ydW50aW1lL2NvbXBvbmVudE5vcm1hbGl6ZXIuanNcIlxudmFyIGNvbXBvbmVudCA9IG5vcm1hbGl6ZXIoXG4gIHNjcmlwdCxcbiAgcmVuZGVyLFxuICBzdGF0aWNSZW5kZXJGbnMsXG4gIGZhbHNlLFxuICBudWxsLFxuICBudWxsLFxuICBudWxsXG4gIFxuKVxuXG4vKiBob3QgcmVsb2FkICovXG5pZiAobW9kdWxlLmhvdCkge1xuICB2YXIgYXBpID0gcmVxdWlyZShcIi9Vc2Vycy9hbnRvaW5lL1NpdGVzL2Nha2VwaHAtYXBwL25vZGVfbW9kdWxlcy92dWUtaG90LXJlbG9hZC1hcGkvZGlzdC9pbmRleC5qc1wiKVxuICBhcGkuaW5zdGFsbChyZXF1aXJlKCd2dWUnKSlcbiAgaWYgKGFwaS5jb21wYXRpYmxlKSB7XG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoKVxuICAgIGlmICghYXBpLmlzUmVjb3JkZWQoJzQ2YTNlNzNkJykpIHtcbiAgICAgIGFwaS5jcmVhdGVSZWNvcmQoJzQ2YTNlNzNkJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZWxvYWQoJzQ2YTNlNzNkJywgY29tcG9uZW50Lm9wdGlvbnMpXG4gICAgfVxuICAgIG1vZHVsZS5ob3QuYWNjZXB0KFwiLi9TZWN0aW9uTW9kYWwudnVlP3Z1ZSZ0eXBlPXRlbXBsYXRlJmlkPTQ2YTNlNzNkJlwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBhcGkucmVyZW5kZXIoJzQ2YTNlNzNkJywge1xuICAgICAgICByZW5kZXI6IHJlbmRlcixcbiAgICAgICAgc3RhdGljUmVuZGVyRm5zOiBzdGF0aWNSZW5kZXJGbnNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxufVxuY29tcG9uZW50Lm9wdGlvbnMuX19maWxlID0gXCJ2ZW5kb3IvM3h3L2Nha2VwaHAtcGFnZXMvcmVzb3VyY2VzL2Fzc2V0cy9jb21wb25lbnRzL1NlY3Rpb25Nb2RhbC52dWVcIlxuZXhwb3J0IGRlZmF1bHQgY29tcG9uZW50LmV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9
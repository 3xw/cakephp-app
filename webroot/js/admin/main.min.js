/*! For license information please see main.min.js.LICENSE.txt */
!function webpackUniversalModuleDefinition(l,d){if("object"==typeof exports&&"object"==typeof module)module.exports=d(require("axios"),require("moment"),require("sortablejs"),require("vue"),require("vuex"));else if("function"==typeof define&&define.amd)define(["axios","moment","sortablejs","vue","vuex"],d);else{var p="object"==typeof exports?d(require("axios"),require("moment"),require("sortablejs"),require("vue"),require("vuex")):d(l.axios,l.moment,l.sortablejs,l.vue,l.vuex);for(var h in p)("object"==typeof exports?exports:l)[h]=p[h]}}(self,((l,d,p,h,m)=>(()=>{var g,v,_={102:()=>{var l=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],d=function filterFormat(d,p){return(d/Math.pow(1024,p)).toFixed(2)+l[p]};Vue.filter("smart-file-size",(function(p){p=parseFloat(p,10);for(var h=0;h<l.length;h++)if(p<Math.pow(1024,h))return l[h-1]?d(p,h-1):p+l[h];return d(p,h-1)}))},32:()=>{window.getCsrfToken||(window.getCsrfToken=function(){for(var l="csrfToken=",d=decodeURIComponent(document.cookie).split(";"),p=0;p<d.length;p++){for(var h=d[p];" "==h.charAt(0);)h=h.substring(1);if(0==h.indexOf(l))return h.substring(l.length,h.length)}return""})},993:()=>{Vue.directive("sortable",(function(l,d){options=d.value||{},window.Sortable.create(l,options)}))},554:()=>{Vue.filter("inputName",(function(l){return l.split(".").reduce((function(l,d){return l+"["+d+"]"}))})),Vue.filter("bytesToMegaBytes",(function(l){return l/1024/1024})),Vue.filter("sqlDate",(function(l){return l.replace("T","")})),Vue.filter("decimal",(function(l,d){if(isNaN(l))return l;var p="1"+Array(+(d>0&&d+1)).join("0");return Math.round(l*p)/p})),Vue.filter("truncate",(function(l,d){return l?l.length<d?l:(d-=3,l.substring(0,d)+"..."):""})),Vue.filter("icon",(function(l){if(l.aarchive)if("COMPLETED"===l.aarchive.state)input="aarchive/completed";else input="aarchive/progress";else input=l.type+"/"+l.subtype;switch(!0){case"aarchive/progress"==input:return'<i class="material-icons rotating">cached</i>';case"aarchive/completed"==input:return'<i class="material-icons">cloud_done</i>';case"image/jpeg"==input:case"image/png"==input:case"image/gif"==input:return'<i class="material-icons">photo</i>';case-1!=input.lastIndexOf("embed"):return'<i class="material-icons">code</i>';case"application/pdf"==input:return'<i class="material-icons">picture_as_pdf</i>';case"video/mp4"==input:case"video/ogg"==input:return'<i class="material-icons">videocam</i>';case"audio/mp3"==input:case"audio/ogg"==input:return'<i class="material-icons">audiotrack</i>';default:return'<i class="material-icons">insert_drive_file</i>'}})),Vue.filter("isNiceImage",(function(l){switch(l.type+"/"+l.subtype){case"image/jpeg":case"image/png":case"image/gif":return!0;default:return!1}})),Vue.filter("isEmbed",(function(l){return"embed"===l.type})),Vue.filter("isNotEmbed",(function(l){return"embed"!==l.type})),Vue.filter("isThumbable",(function(l){var d=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(l.type+"/"+l.subtype){case"image/jpeg":case"image/png":case"image/gif":return!0;case"video/mp4":case"video/webm":case"video/mov":case"video/avi":case"video/ogg":case"video/mkv":case"application/pdf":return d;case"embed/youtube":case"embed/vimeo":return!!l.path;default:return!1}})),Vue.filter("isNotThumbable",(function(l){switch(l.type+"/"+l.subtype){case"image/jpeg":case"image/png":case"image/gif":return!1;case"embed/youtube":case"embed/vimeo":return!l.path;default:return!0}}))},758:()=>{window.getCsrfToken||(window.getCsrfToken=function(){for(var l="csrfToken=",d=decodeURIComponent(document.cookie).split(";"),p=0;p<d.length;p++){for(var h=d[p];" "==h.charAt(0);)h=h.substring(1);if(0==h.indexOf(l))return h.substring(l.length,h.length)}return""})},265:function(l,d,p){var h;l.exports=(h=p(748),function(l){function e(p){if(d[p])return d[p].exports;var h=d[p]={exports:{},id:p,loaded:!1};return l[p].call(h.exports,h,h.exports,e),h.loaded=!0,h.exports}var d={};return e.m=l,e.c=d,e.p="/",e(0)}([function(l,d,p){var h,m,g,v;v=function(l,d,p,h,m,g){"use strict";function s(l){return l&&l.__esModule?l:{default:l}}function u(l,d){var p=l.length;if(p!=d.length)return!1;for(var h=0;h<p;h++){var m=l[h],g=d[h];if(m.img!==g.img||m.src!==g.src)return!1}return!0}function c(l){if("function"!=typeof l)throw"imageLoaded directive error: objet "+l+" should be a function "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")}function f(l,d){var p=d.value,h=d.arg,m=d.modifiers;if(!h)return c(p),void l.on("always",(function(l){return setTimeout((function(){return p(l)}))}));var g=!!m&&!!(0,_.default)(m).length,v=g?m:p,b=g?function(l){return p}:function(l){return p[l]},f=function(){var d=b(y);c(d,g?"":"property "+y+" of "+p),l[h](y,(function(l,p){return setTimeout((function(){return d(l,p)}))}))};for(var y in v)f()}function a(l,d){var p=(0,b.default)(l),h=p.images.map((function(l){return{img:l.img,src:l.img.src}}));u(l.__imagesLoaded__.context,h)||(f(p,d),(0,v.default)(l.__imagesLoaded__,{context:h,imageLoaded:p}))}Object.defineProperty(d,"__esModule",{value:!0});var v=s(p),_=s(h),b=s(m),y=s(g);d.default={bind:function(l){l.__imagesLoaded__={context:[]}},inserted:function(l,d){a(l,d)},componentUpdated:function(l,d){y.default.nextTick((function(){a(l,d)}))},unbind:function(l,d){l.__imagesLoaded__=null}},l.exports=d.default},m=[l,d,p(13),p(14),p(43),p(44)],void 0===(g="function"==typeof(h=v)?h.apply(d,m):h)||(l.exports=g)},function(l,d){var p=l.exports={version:"2.4.0"};"number"==typeof __e&&(__e=p)},function(l,d){l.exports=function(l){try{return!!l()}catch(l){return!0}}},function(l,d,p){l.exports=!p(2)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(l,d){var p=l.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=p)},function(l,d){l.exports=function(l){return"object"==typeof l?null!==l:"function"==typeof l}},function(l,d){l.exports=function(l){if(null==l)throw TypeError("Can't call method on  "+l);return l}},function(l,d,p){var h=p(4),m=p(1),g=p(21),v=p(25),_="prototype",c=function(l,d,p){var b,y,w,C=l&c.F,x=l&c.G,S=l&c.S,k=l&c.P,P=l&c.B,O=l&c.W,j=x?m:m[d]||(m[d]={}),T=j[_],E=x?h:S?h[d]:(h[d]||{})[_];for(b in x&&(p=d),p)(y=!C&&E&&void 0!==E[b])&&b in j||(w=y?E[b]:p[b],j[b]=x&&"function"!=typeof E[b]?p[b]:P&&y?g(w,h):O&&E[b]==w?function(l){var e=function(d,p,h){if(this instanceof l){switch(arguments.length){case 0:return new l;case 1:return new l(d);case 2:return new l(d,p)}return new l(d,p,h)}return l.apply(this,arguments)};return e[_]=l[_],e}(w):k&&"function"==typeof w?g(Function.call,w):w,k&&((j.virtual||(j.virtual={}))[b]=w,l&c.R&&T&&!T[b]&&v(T,b,w)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,l.exports=c},function(l,d,p){var h=p(20);l.exports=Object("z").propertyIsEnumerable(0)?Object:function(l){return"String"==h(l)?l.split(""):Object(l)}},function(l,d,p){var h=p(30),m=p(23);l.exports=Object.keys||function(l){return h(l,m)}},function(l,d){var p=Math.ceil,h=Math.floor;l.exports=function(l){return isNaN(l=+l)?0:(l>0?h:p)(l)}},function(l,d,p){var h=p(8),m=p(6);l.exports=function(l){return h(m(l))}},function(l,d,p){var h=p(6);l.exports=function(l){return Object(h(l))}},function(l,d,p){l.exports={default:p(15),__esModule:!0}},function(l,d,p){l.exports={default:p(16),__esModule:!0}},function(l,d,p){p(40),l.exports=p(1).Object.assign},function(l,d,p){p(41),l.exports=p(1).Object.keys},function(l,d){l.exports=function(l){if("function"!=typeof l)throw TypeError(l+" is not a function!");return l}},function(l,d,p){var h=p(5);l.exports=function(l){if(!h(l))throw TypeError(l+" is not an object!");return l}},function(l,d,p){var h=p(11),m=p(37),g=p(36);l.exports=function(l){return function(d,p,v){var _,b=h(d),y=m(b.length),w=g(v,y);if(l&&p!=p){for(;y>w;)if((_=b[w++])!=_)return!0}else for(;y>w;w++)if((l||w in b)&&b[w]===p)return l||w||0;return!l&&-1}}},function(l,d){var p={}.toString;l.exports=function(l){return p.call(l).slice(8,-1)}},function(l,d,p){var h=p(17);l.exports=function(l,d,p){if(h(l),void 0===d)return l;switch(p){case 1:return function(p){return l.call(d,p)};case 2:return function(p,h){return l.call(d,p,h)};case 3:return function(p,h,m){return l.call(d,p,h,m)}}return function(){return l.apply(d,arguments)}}},function(l,d,p){var h=p(5),m=p(4).document,g=h(m)&&h(m.createElement);l.exports=function(l){return g?m.createElement(l):{}}},function(l,d){l.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(l,d){var p={}.hasOwnProperty;l.exports=function(l,d){return p.call(l,d)}},function(l,d,p){var h=p(28),m=p(33);l.exports=p(3)?function(l,d,p){return h.f(l,d,m(1,p))}:function(l,d,p){return l[d]=p,l}},function(l,d,p){l.exports=!p(3)&&!p(2)((function(){return 7!=Object.defineProperty(p(22)("div"),"a",{get:function(){return 7}}).a}))},function(l,d,p){"use strict";var h=p(9),m=p(29),g=p(31),v=p(12),_=p(8),b=Object.assign;l.exports=!b||p(2)((function(){var l={},d={},p=Symbol(),h="abcdefghijklmnopqrst";return l[p]=7,h.split("").forEach((function(l){d[l]=l})),7!=b({},l)[p]||Object.keys(b({},d)).join("")!=h}))?function(l,d){for(var p=v(l),b=arguments.length,y=1,w=m.f,C=g.f;b>y;)for(var x,S=_(arguments[y++]),k=w?h(S).concat(w(S)):h(S),P=k.length,O=0;P>O;)C.call(S,x=k[O++])&&(p[x]=S[x]);return p}:b},function(l,d,p){var h=p(18),m=p(26),g=p(38),v=Object.defineProperty;d.f=p(3)?Object.defineProperty:function(l,d,p){if(h(l),d=g(d,!0),h(p),m)try{return v(l,d,p)}catch(l){}if("get"in p||"set"in p)throw TypeError("Accessors not supported!");return"value"in p&&(l[d]=p.value),l}},function(l,d){d.f=Object.getOwnPropertySymbols},function(l,d,p){var h=p(24),m=p(11),g=p(19)(!1),v=p(34)("IE_PROTO");l.exports=function(l,d){var p,_=m(l),b=0,y=[];for(p in _)p!=v&&h(_,p)&&y.push(p);for(;d.length>b;)h(_,p=d[b++])&&(~g(y,p)||y.push(p));return y}},function(l,d){d.f={}.propertyIsEnumerable},function(l,d,p){var h=p(7),m=p(1),g=p(2);l.exports=function(l,d){var p=(m.Object||{})[l]||Object[l],v={};v[l]=d(p),h(h.S+h.F*g((function(){p(1)})),"Object",v)}},function(l,d){l.exports=function(l,d){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:d}}},function(l,d,p){var h=p(35)("keys"),m=p(39);l.exports=function(l){return h[l]||(h[l]=m(l))}},function(l,d,p){var h=p(4),m="__core-js_shared__",g=h[m]||(h[m]={});l.exports=function(l){return g[l]||(g[l]={})}},function(l,d,p){var h=p(10),m=Math.max,g=Math.min;l.exports=function(l,d){return(l=h(l))<0?m(l+d,0):g(l,d)}},function(l,d,p){var h=p(10),m=Math.min;l.exports=function(l){return l>0?m(h(l),9007199254740991):0}},function(l,d,p){var h=p(5);l.exports=function(l,d){if(!h(l))return l;var p,m;if(d&&"function"==typeof(p=l.toString)&&!h(m=p.call(l)))return m;if("function"==typeof(p=l.valueOf)&&!h(m=p.call(l)))return m;if(!d&&"function"==typeof(p=l.toString)&&!h(m=p.call(l)))return m;throw TypeError("Can't convert object to primitive value")}},function(l,d){var p=0,h=Math.random();l.exports=function(l){return"Symbol(".concat(void 0===l?"":l,")_",(++p+h).toString(36))}},function(l,d,p){var h=p(7);h(h.S+h.F,"Object",{assign:p(27)})},function(l,d,p){var h=p(12),m=p(9);p(32)("keys",(function(){return function(l){return m(h(l))}}))},function(l,d,p){var h,m,g;"undefined"!=typeof window&&window,g=function(){"use strict";function t(){}var l=t.prototype;return l.on=function(l,d){if(l&&d){var p=this._events=this._events||{},h=p[l]=p[l]||[];return-1==h.indexOf(d)&&h.push(d),this}},l.once=function(l,d){if(l&&d){this.on(l,d);var p=this._onceEvents=this._onceEvents||{};return(p[l]=p[l]||{})[d]=!0,this}},l.off=function(l,d){var p=this._events&&this._events[l];if(p&&p.length){var h=p.indexOf(d);return-1!=h&&p.splice(h,1),this}},l.emitEvent=function(l,d){var p=this._events&&this._events[l];if(p&&p.length){var h=0,m=p[h];d=d||[];for(var g=this._onceEvents&&this._onceEvents[l];m;){var v=g&&g[m];v&&(this.off(l,m),delete g[m]),m.apply(this,d),m=p[h+=v?0:1]}return this}},t},void 0===(m="function"==typeof(h=g)?h.call(d,p,d,l):h)||(l.exports=m)},function(l,d,p){var h,m;!function(g,v){"use strict";h=[p(42)],m=function(l){return v(g,l)}.apply(d,h),void 0===m||(l.exports=m)}(window,(function(l,d){"use strict";function n(l,d){for(var p in d)l[p]=d[p];return l}function r(l){var d=[];if(Array.isArray(l))d=l;else if("number"==typeof l.length)for(var p=0;p<l.length;p++)d.push(l[p]);else d.push(l);return d}function o(l,d,h){return this instanceof o?("string"==typeof l&&(l=document.querySelectorAll(l)),this.elements=r(l),this.options=n({},this.options),"function"==typeof d?h=d:n(this.options,d),h&&this.on("always",h),this.getImages(),p&&(this.jqDeferred=new p.Deferred),void setTimeout(function(){this.check()}.bind(this))):new o(l,d,h)}function i(l){this.img=l}function s(l,d){this.url=l,this.element=d,this.img=new Image}var p=l.jQuery,h=l.console;o.prototype=Object.create(d.prototype),o.prototype.options={},o.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},o.prototype.addElementImages=function(l){"IMG"==l.nodeName&&this.addImage(l),!0===this.options.background&&this.addElementBackgroundImages(l);var d=l.nodeType;if(d&&m[d]){for(var p=l.querySelectorAll("img"),h=0;h<p.length;h++){var g=p[h];this.addImage(g)}if("string"==typeof this.options.background){var v=l.querySelectorAll(this.options.background);for(h=0;h<v.length;h++){var _=v[h];this.addElementBackgroundImages(_)}}}};var m={1:!0,9:!0,11:!0};return o.prototype.addElementBackgroundImages=function(l){var d=getComputedStyle(l);if(d)for(var p=/url\((['"])?(.*?)\1\)/gi,h=p.exec(d.backgroundImage);null!==h;){var m=h&&h[2];m&&this.addBackground(m,l),h=p.exec(d.backgroundImage)}},o.prototype.addImage=function(l){var d=new i(l);this.images.push(d)},o.prototype.addBackground=function(l,d){var p=new s(l,d);this.images.push(p)},o.prototype.check=function(){function t(d,p,h){setTimeout((function(){l.progress(d,p,h)}))}var l=this;return this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?void this.images.forEach((function(l){l.once("progress",t),l.check()})):void this.complete()},o.prototype.progress=function(l,d,p){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!l.isLoaded,this.emitEvent("progress",[this,l,d]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,l),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&h&&h.log("progress: "+p,l,d)},o.prototype.complete=function(){var l=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(l,[this]),this.emitEvent("always",[this]),this.jqDeferred){var d=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[d](this)}},i.prototype=Object.create(d.prototype),i.prototype.check=function(){return this.getIsImageComplete()?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),void(this.proxyImage.src=this.img.src))},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(l,d){this.isLoaded=l,this.emitEvent("progress",[this,this.img,d])},i.prototype.handleEvent=function(l){var d="on"+l.type;this[d]&&this[d](l)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype=Object.create(i.prototype),s.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},s.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},s.prototype.confirm=function(l,d){this.isLoaded=l,this.emitEvent("progress",[this,this.element,d])},o.makeJQueryPlugin=function(d){(d=d||l.jQuery)&&((p=d).fn.imagesLoaded=function(l,d){return new o(this,l,d).jqDeferred.promise(p(this))})},o.makeJQueryPlugin(),o}))},function(l,d){l.exports=h}]))},269:(l,d,p)=>{"use strict";p.r(d),p.d(d,{default:()=>g});var h=function render(){var l=this;return(0,l._self._c)(l.componentInstance,l._b({tag:"component"},"component",l.attributes,!1))};h._withStripped=!0;const m={props:{name:{type:String,default:"null"},props:{type:String}},computed:{componentInstance:function componentInstance(){if("null"==this.name)return null;var l=this.camelize(this.name.substring(this.name.indexOf("-")+1));return function(){return p(889)("./".concat(l,".vue"))}},attributes:function attributes(){var l=JSON.parse(this.props),d={};for(var p in l){if(":"==p.substr(0,1))d[p.substr(1)]=l[p];else d[p]=l[p]}return console.log(d),d}},methods:{camelize:function camelize(l){return l.replace(/(?:^\w|[A-Z]|-|\b\w)/g,(function(l,d){return l.toUpperCase()})).replace(/\s+/g,"")}}};const g=(0,p(900).Z)(m,h,[],!1,null,null,null).exports},900:(l,d,p)=>{"use strict";function normalizeComponent(l,d,p,h,m,g,v,_){var b,y="function"==typeof l?l.options:l;if(d&&(y.render=d,y.staticRenderFns=p,y._compiled=!0),h&&(y.functional=!0),g&&(y._scopeId="data-v-"+g),v?(b=function(l){(l=l||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(l=__VUE_SSR_CONTEXT__),m&&m.call(this,l),l&&l._registeredComponents&&l._registeredComponents.add(v)},y._ssrRegister=b):m&&(b=_?function(){m.call(this,(y.functional?this.parent:this).$root.$options.shadowRoot)}:m),b)if(y.functional){y._injectStyles=b;var w=y.render;y.render=function renderWithStyleInjection(l,d){return b.call(d),w(l,d)}}else{var C=y.beforeCreate;y.beforeCreate=C?[].concat(C,b):[b]}return{exports:l,options:y}}p.d(d,{Z:()=>normalizeComponent})},980:function(l,d,p){!function webpackUniversalModuleDefinition(d,h){l.exports=h(p(876))}("undefined"!=typeof self&&self,(function(l){return function(l){var d={};function __nested_webpack_require_688__(p){if(d[p])return d[p].exports;var h=d[p]={i:p,l:!1,exports:{}};return l[p].call(h.exports,h,h.exports,__nested_webpack_require_688__),h.l=!0,h.exports}return __nested_webpack_require_688__.m=l,__nested_webpack_require_688__.c=d,__nested_webpack_require_688__.d=function(l,d,p){__nested_webpack_require_688__.o(l,d)||Object.defineProperty(l,d,{enumerable:!0,get:p})},__nested_webpack_require_688__.r=function(l){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},__nested_webpack_require_688__.t=function(l,d){if(1&d&&(l=__nested_webpack_require_688__(l)),8&d)return l;if(4&d&&"object"==typeof l&&l&&l.__esModule)return l;var p=Object.create(null);if(__nested_webpack_require_688__.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:l}),2&d&&"string"!=typeof l)for(var h in l)__nested_webpack_require_688__.d(p,h,function(d){return l[d]}.bind(null,h));return p},__nested_webpack_require_688__.n=function(l){var d=l&&l.__esModule?function getDefault(){return l.default}:function getModuleExports(){return l};return __nested_webpack_require_688__.d(d,"a",d),d},__nested_webpack_require_688__.o=function(l,d){return Object.prototype.hasOwnProperty.call(l,d)},__nested_webpack_require_688__.p="",__nested_webpack_require_688__(__nested_webpack_require_688__.s="fb15")}({"01f9":function(l,d,p){"use strict";var h=p("2d00"),m=p("5ca1"),g=p("2aba"),v=p("32e9"),_=p("84f2"),b=p("41a0"),y=p("7f20"),w=p("38fd"),C=p("2b4c")("iterator"),x=!([].keys&&"next"in[].keys()),S="keys",k="values",returnThis=function(){return this};l.exports=function(l,d,p,P,O,j,T){b(p,d,P);var E,A,L,getMethod=function(l){if(!x&&l in I)return I[l];switch(l){case S:return function keys(){return new p(this,l)};case k:return function values(){return new p(this,l)}}return function entries(){return new p(this,l)}},F=d+" Iterator",$=O==k,D=!1,I=l.prototype,M=I[C]||I["@@iterator"]||O&&I[O],U=M||getMethod(O),R=O?$?getMethod("entries"):U:void 0,N="Array"==d&&I.entries||M;if(N&&(L=w(N.call(new l)))!==Object.prototype&&L.next&&(y(L,F,!0),h||"function"==typeof L[C]||v(L,C,returnThis)),$&&M&&M.name!==k&&(D=!0,U=function values(){return M.call(this)}),h&&!T||!x&&!D&&I[C]||v(I,C,U),_[d]=U,_[F]=returnThis,O)if(E={values:$?U:getMethod(k),keys:j?U:getMethod(S),entries:R},T)for(A in E)A in I||g(I,A,E[A]);else m(m.P+m.F*(x||D),d,E);return E}},"02f4":function(l,d,p){var h=p("4588"),m=p("be13");l.exports=function(l){return function(d,p){var g,v,_=String(m(d)),b=h(p),y=_.length;return b<0||b>=y?l?"":void 0:(g=_.charCodeAt(b))<55296||g>56319||b+1===y||(v=_.charCodeAt(b+1))<56320||v>57343?l?_.charAt(b):g:l?_.slice(b,b+2):v-56320+(g-55296<<10)+65536}}},"0390":function(l,d,p){"use strict";var h=p("02f4")(!0);l.exports=function(l,d,p){return d+(p?h(l,d).length:1)}},"0bfb":function(l,d,p){"use strict";var h=p("cb7c");l.exports=function(){var l=h(this),d="";return l.global&&(d+="g"),l.ignoreCase&&(d+="i"),l.multiline&&(d+="m"),l.unicode&&(d+="u"),l.sticky&&(d+="y"),d}},"0d58":function(l,d,p){var h=p("ce10"),m=p("e11e");l.exports=Object.keys||function keys(l){return h(l,m)}},1495:function(l,d,p){var h=p("86cc"),m=p("cb7c"),g=p("0d58");l.exports=p("9e1e")?Object.defineProperties:function defineProperties(l,d){m(l);for(var p,v=g(d),_=v.length,b=0;_>b;)h.f(l,p=v[b++],d[p]);return l}},"214f":function(l,d,p){"use strict";p("b0c5");var h=p("2aba"),m=p("32e9"),g=p("79e5"),v=p("be13"),_=p("2b4c"),b=p("520a"),y=_("species"),w=!g((function(){var l=/./;return l.exec=function(){var l=[];return l.groups={a:"7"},l},"7"!=="".replace(l,"$<a>")})),C=function(){var l=/(?:)/,d=l.exec;l.exec=function(){return d.apply(this,arguments)};var p="ab".split(l);return 2===p.length&&"a"===p[0]&&"b"===p[1]}();l.exports=function(l,d,p){var x=_(l),S=!g((function(){var d={};return d[x]=function(){return 7},7!=""[l](d)})),k=S?!g((function(){var d=!1,p=/a/;return p.exec=function(){return d=!0,null},"split"===l&&(p.constructor={},p.constructor[y]=function(){return p}),p[x](""),!d})):void 0;if(!S||!k||"replace"===l&&!w||"split"===l&&!C){var P=/./[x],O=p(v,x,""[l],(function maybeCallNative(l,d,p,h,m){return d.exec===b?S&&!m?{done:!0,value:P.call(d,p,h)}:{done:!0,value:l.call(p,d,h)}:{done:!1}})),j=O[0],T=O[1];h(String.prototype,l,j),m(RegExp.prototype,x,2==d?function(l,d){return T.call(l,this,d)}:function(l){return T.call(l,this)})}}},"230e":function(l,d,p){var h=p("d3f4"),m=p("7726").document,g=h(m)&&h(m.createElement);l.exports=function(l){return g?m.createElement(l):{}}},"23c6":function(l,d,p){var h=p("2d95"),m=p("2b4c")("toStringTag"),g="Arguments"==h(function(){return arguments}());l.exports=function(l){var d,p,v;return void 0===l?"Undefined":null===l?"Null":"string"==typeof(p=function(l,d){try{return l[d]}catch(l){}}(d=Object(l),m))?p:g?h(d):"Object"==(v=h(d))&&"function"==typeof d.callee?"Arguments":v}},2621:function(l,d){d.f=Object.getOwnPropertySymbols},"2aba":function(l,d,p){var h=p("7726"),m=p("32e9"),g=p("69a8"),v=p("ca5a")("src"),_=p("fa5b"),b="toString",y=(""+_).split(b);p("8378").inspectSource=function(l){return _.call(l)},(l.exports=function(l,d,p,_){var b="function"==typeof p;b&&(g(p,"name")||m(p,"name",d)),l[d]!==p&&(b&&(g(p,v)||m(p,v,l[d]?""+l[d]:y.join(String(d)))),l===h?l[d]=p:_?l[d]?l[d]=p:m(l,d,p):(delete l[d],m(l,d,p)))})(Function.prototype,b,(function toString(){return"function"==typeof this&&this[v]||_.call(this)}))},"2aeb":function(l,d,p){var h=p("cb7c"),m=p("1495"),g=p("e11e"),v=p("613b")("IE_PROTO"),Empty=function(){},createDict=function(){var l,d=p("230e")("iframe"),h=g.length;for(d.style.display="none",p("fab2").appendChild(d),d.src="javascript:",(l=d.contentWindow.document).open(),l.write("<script>document.F=Object<\/script>"),l.close(),createDict=l.F;h--;)delete createDict.prototype[g[h]];return createDict()};l.exports=Object.create||function create(l,d){var p;return null!==l?(Empty.prototype=h(l),p=new Empty,Empty.prototype=null,p[v]=l):p=createDict(),void 0===d?p:m(p,d)}},"2b4c":function(l,d,p){var h=p("5537")("wks"),m=p("ca5a"),g=p("7726").Symbol,v="function"==typeof g;(l.exports=function(l){return h[l]||(h[l]=v&&g[l]||(v?g:m)("Symbol."+l))}).store=h},"2d00":function(l,d){l.exports=!1},"2d95":function(l,d){var p={}.toString;l.exports=function(l){return p.call(l).slice(8,-1)}},"2fdb":function(l,d,p){"use strict";var h=p("5ca1"),m=p("d2c8"),g="includes";h(h.P+h.F*p("5147")(g),"String",{includes:function includes(l){return!!~m(this,l,g).indexOf(l,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(l,d,p){var h=p("86cc"),m=p("4630");l.exports=p("9e1e")?function(l,d,p){return h.f(l,d,m(1,p))}:function(l,d,p){return l[d]=p,l}},"38fd":function(l,d,p){var h=p("69a8"),m=p("4bf8"),g=p("613b")("IE_PROTO"),v=Object.prototype;l.exports=Object.getPrototypeOf||function(l){return l=m(l),h(l,g)?l[g]:"function"==typeof l.constructor&&l instanceof l.constructor?l.constructor.prototype:l instanceof Object?v:null}},"41a0":function(l,d,p){"use strict";var h=p("2aeb"),m=p("4630"),g=p("7f20"),v={};p("32e9")(v,p("2b4c")("iterator"),(function(){return this})),l.exports=function(l,d,p){l.prototype=h(v,{next:m(1,p)}),g(l,d+" Iterator")}},"456d":function(l,d,p){var h=p("4bf8"),m=p("0d58");p("5eda")("keys",(function(){return function keys(l){return m(h(l))}}))},4588:function(l,d){var p=Math.ceil,h=Math.floor;l.exports=function(l){return isNaN(l=+l)?0:(l>0?h:p)(l)}},4630:function(l,d){l.exports=function(l,d){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:d}}},"4bf8":function(l,d,p){var h=p("be13");l.exports=function(l){return Object(h(l))}},5147:function(l,d,p){var h=p("2b4c")("match");l.exports=function(l){var d=/./;try{"/./"[l](d)}catch(p){try{return d[h]=!1,!"/./"[l](d)}catch(l){}}return!0}},"520a":function(l,d,p){"use strict";var h,m,g=p("0bfb"),v=RegExp.prototype.exec,_=String.prototype.replace,b=v,y=(h=/a/,m=/b*/g,v.call(h,"a"),v.call(m,"a"),0!==h.lastIndex||0!==m.lastIndex),w=void 0!==/()??/.exec("")[1];(y||w)&&(b=function exec(l){var d,p,h,m,b=this;return w&&(p=new RegExp("^"+b.source+"$(?!\\s)",g.call(b))),y&&(d=b.lastIndex),h=v.call(b,l),y&&h&&(b.lastIndex=b.global?h.index+h[0].length:d),w&&h&&h.length>1&&_.call(h[0],p,(function(){for(m=1;m<arguments.length-2;m++)void 0===arguments[m]&&(h[m]=void 0)})),h}),l.exports=b},"52a7":function(l,d){d.f={}.propertyIsEnumerable},5537:function(l,d,p){var h=p("8378"),m=p("7726"),g="__core-js_shared__",v=m[g]||(m[g]={});(l.exports=function(l,d){return v[l]||(v[l]=void 0!==d?d:{})})("versions",[]).push({version:h.version,mode:p("2d00")?"pure":"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(l,d,p){var h=p("7726"),m=p("8378"),g=p("32e9"),v=p("2aba"),_=p("9b43"),$export=function(l,d,p){var b,y,w,C,x=l&$export.F,S=l&$export.G,k=l&$export.S,P=l&$export.P,O=l&$export.B,j=S?h:k?h[d]||(h[d]={}):(h[d]||{}).prototype,T=S?m:m[d]||(m[d]={}),E=T.prototype||(T.prototype={});for(b in S&&(p=d),p)w=((y=!x&&j&&void 0!==j[b])?j:p)[b],C=O&&y?_(w,h):P&&"function"==typeof w?_(Function.call,w):w,j&&v(j,b,w,l&$export.U),T[b]!=w&&g(T,b,C),P&&E[b]!=w&&(E[b]=w)};h.core=m,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,l.exports=$export},"5eda":function(l,d,p){var h=p("5ca1"),m=p("8378"),g=p("79e5");l.exports=function(l,d){var p=(m.Object||{})[l]||Object[l],v={};v[l]=d(p),h(h.S+h.F*g((function(){p(1)})),"Object",v)}},"5f1b":function(l,d,p){"use strict";var h=p("23c6"),m=RegExp.prototype.exec;l.exports=function(l,d){var p=l.exec;if("function"==typeof p){var g=p.call(l,d);if("object"!=typeof g)throw new TypeError("RegExp exec method returned something other than an Object or null");return g}if("RegExp"!==h(l))throw new TypeError("RegExp#exec called on incompatible receiver");return m.call(l,d)}},"613b":function(l,d,p){var h=p("5537")("keys"),m=p("ca5a");l.exports=function(l){return h[l]||(h[l]=m(l))}},"626a":function(l,d,p){var h=p("2d95");l.exports=Object("z").propertyIsEnumerable(0)?Object:function(l){return"String"==h(l)?l.split(""):Object(l)}},6762:function(l,d,p){"use strict";var h=p("5ca1"),m=p("c366")(!0);h(h.P,"Array",{includes:function includes(l){return m(this,l,arguments.length>1?arguments[1]:void 0)}}),p("9c6c")("includes")},6821:function(l,d,p){var h=p("626a"),m=p("be13");l.exports=function(l){return h(m(l))}},"69a8":function(l,d){var p={}.hasOwnProperty;l.exports=function(l,d){return p.call(l,d)}},"6a99":function(l,d,p){var h=p("d3f4");l.exports=function(l,d){if(!h(l))return l;var p,m;if(d&&"function"==typeof(p=l.toString)&&!h(m=p.call(l)))return m;if("function"==typeof(p=l.valueOf)&&!h(m=p.call(l)))return m;if(!d&&"function"==typeof(p=l.toString)&&!h(m=p.call(l)))return m;throw TypeError("Can't convert object to primitive value")}},7333:function(l,d,p){"use strict";var h=p("0d58"),m=p("2621"),g=p("52a7"),v=p("4bf8"),_=p("626a"),b=Object.assign;l.exports=!b||p("79e5")((function(){var l={},d={},p=Symbol(),h="abcdefghijklmnopqrst";return l[p]=7,h.split("").forEach((function(l){d[l]=l})),7!=b({},l)[p]||Object.keys(b({},d)).join("")!=h}))?function assign(l,d){for(var p=v(l),b=arguments.length,y=1,w=m.f,C=g.f;b>y;)for(var x,S=_(arguments[y++]),k=w?h(S).concat(w(S)):h(S),P=k.length,O=0;P>O;)C.call(S,x=k[O++])&&(p[x]=S[x]);return p}:b},7726:function(l,d){var p=l.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=p)},"77f1":function(l,d,p){var h=p("4588"),m=Math.max,g=Math.min;l.exports=function(l,d){return(l=h(l))<0?m(l+d,0):g(l,d)}},"79e5":function(l,d){l.exports=function(l){try{return!!l()}catch(l){return!0}}},"7f20":function(l,d,p){var h=p("86cc").f,m=p("69a8"),g=p("2b4c")("toStringTag");l.exports=function(l,d,p){l&&!m(l=p?l:l.prototype,g)&&h(l,g,{configurable:!0,value:d})}},8378:function(l,d){var p=l.exports={version:"2.6.5"};"number"==typeof __e&&(__e=p)},"84f2":function(l,d){l.exports={}},"86cc":function(l,d,p){var h=p("cb7c"),m=p("c69a"),g=p("6a99"),v=Object.defineProperty;d.f=p("9e1e")?Object.defineProperty:function defineProperty(l,d,p){if(h(l),d=g(d,!0),h(p),m)try{return v(l,d,p)}catch(l){}if("get"in p||"set"in p)throw TypeError("Accessors not supported!");return"value"in p&&(l[d]=p.value),l}},"9b43":function(l,d,p){var h=p("d8e8");l.exports=function(l,d,p){if(h(l),void 0===d)return l;switch(p){case 1:return function(p){return l.call(d,p)};case 2:return function(p,h){return l.call(d,p,h)};case 3:return function(p,h,m){return l.call(d,p,h,m)}}return function(){return l.apply(d,arguments)}}},"9c6c":function(l,d,p){var h=p("2b4c")("unscopables"),m=Array.prototype;null==m[h]&&p("32e9")(m,h,{}),l.exports=function(l){m[h][l]=!0}},"9def":function(l,d,p){var h=p("4588"),m=Math.min;l.exports=function(l){return l>0?m(h(l),9007199254740991):0}},"9e1e":function(l,d,p){l.exports=!p("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(d,p){d.exports=l},a481:function(l,d,p){"use strict";var h=p("cb7c"),m=p("4bf8"),g=p("9def"),v=p("4588"),_=p("0390"),b=p("5f1b"),y=Math.max,w=Math.min,C=Math.floor,x=/\$([$&`']|\d\d?|<[^>]*>)/g,S=/\$([$&`']|\d\d?)/g;p("214f")("replace",2,(function(l,d,p,k){return[function replace(h,m){var g=l(this),v=null==h?void 0:h[d];return void 0!==v?v.call(h,g,m):p.call(String(g),h,m)},function(l,d){var m=k(p,l,this,d);if(m.done)return m.value;var C=h(l),x=String(this),S="function"==typeof d;S||(d=String(d));var P=C.global;if(P){var O=C.unicode;C.lastIndex=0}for(var j=[];;){var T=b(C,x);if(null===T)break;if(j.push(T),!P)break;""===String(T[0])&&(C.lastIndex=_(x,g(C.lastIndex),O))}for(var E,A="",L=0,F=0;F<j.length;F++){T=j[F];for(var $=String(T[0]),D=y(w(v(T.index),x.length),0),I=[],M=1;M<T.length;M++)I.push(void 0===(E=T[M])?E:String(E));var U=T.groups;if(S){var R=[$].concat(I,D,x);void 0!==U&&R.push(U);var N=String(d.apply(void 0,R))}else N=getSubstitution($,x,D,I,U,d);D>=L&&(A+=x.slice(L,D)+N,L=D+$.length)}return A+x.slice(L)}];function getSubstitution(l,d,h,g,v,_){var b=h+l.length,y=g.length,w=S;return void 0!==v&&(v=m(v),w=x),p.call(_,w,(function(p,m){var _;switch(m.charAt(0)){case"$":return"$";case"&":return l;case"`":return d.slice(0,h);case"'":return d.slice(b);case"<":_=v[m.slice(1,-1)];break;default:var w=+m;if(0===w)return p;if(w>y){var x=C(w/10);return 0===x?p:x<=y?void 0===g[x-1]?m.charAt(1):g[x-1]+m.charAt(1):p}_=g[w-1]}return void 0===_?"":_}))}}))},aae3:function(l,d,p){var h=p("d3f4"),m=p("2d95"),g=p("2b4c")("match");l.exports=function(l){var d;return h(l)&&(void 0!==(d=l[g])?!!d:"RegExp"==m(l))}},ac6a:function(l,d,p){for(var h=p("cadf"),m=p("0d58"),g=p("2aba"),v=p("7726"),_=p("32e9"),b=p("84f2"),y=p("2b4c"),w=y("iterator"),C=y("toStringTag"),x=b.Array,S={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},k=m(S),P=0;P<k.length;P++){var O,j=k[P],T=S[j],E=v[j],A=E&&E.prototype;if(A&&(A[w]||_(A,w,x),A[C]||_(A,C,j),b[j]=x,T))for(O in h)A[O]||g(A,O,h[O],!0)}},b0c5:function(l,d,p){"use strict";var h=p("520a");p("5ca1")({target:"RegExp",proto:!0,forced:h!==/./.exec},{exec:h})},be13:function(l,d){l.exports=function(l){if(null==l)throw TypeError("Can't call method on  "+l);return l}},c366:function(l,d,p){var h=p("6821"),m=p("9def"),g=p("77f1");l.exports=function(l){return function(d,p,v){var _,b=h(d),y=m(b.length),w=g(v,y);if(l&&p!=p){for(;y>w;)if((_=b[w++])!=_)return!0}else for(;y>w;w++)if((l||w in b)&&b[w]===p)return l||w||0;return!l&&-1}}},c649:function(l,d,p){"use strict";(function(l){p.d(d,"c",(function(){return insertNodeAt})),p.d(d,"a",(function(){return g})),p.d(d,"b",(function(){return h})),p.d(d,"d",(function(){return removeNode}));p("a481");var h=function getConsole(){return"undefined"!=typeof window?window.console:l.console}();var m=/-(\w)/g,g=function cached(l){var d=Object.create(null);return function cachedFn(p){return d[p]||(d[p]=l(p))}}((function(l){return l.replace(m,(function(l,d){return d?d.toUpperCase():""}))}));function removeNode(l){null!==l.parentElement&&l.parentElement.removeChild(l)}function insertNodeAt(l,d,p){var h=0===p?l.children[0]:l.children[p-1].nextSibling;l.insertBefore(d,h)}}).call(this,p("c8ba"))},c69a:function(l,d,p){l.exports=!p("9e1e")&&!p("79e5")((function(){return 7!=Object.defineProperty(p("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(l,d){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch(l){"object"==typeof window&&(p=window)}l.exports=p},ca5a:function(l,d){var p=0,h=Math.random();l.exports=function(l){return"Symbol(".concat(void 0===l?"":l,")_",(++p+h).toString(36))}},cadf:function(l,d,p){"use strict";var h=p("9c6c"),m=p("d53b"),g=p("84f2"),v=p("6821");l.exports=p("01f9")(Array,"Array",(function(l,d){this._t=v(l),this._i=0,this._k=d}),(function(){var l=this._t,d=this._k,p=this._i++;return!l||p>=l.length?(this._t=void 0,m(1)):m(0,"keys"==d?p:"values"==d?l[p]:[p,l[p]])}),"values"),g.Arguments=g.Array,h("keys"),h("values"),h("entries")},cb7c:function(l,d,p){var h=p("d3f4");l.exports=function(l){if(!h(l))throw TypeError(l+" is not an object!");return l}},ce10:function(l,d,p){var h=p("69a8"),m=p("6821"),g=p("c366")(!1),v=p("613b")("IE_PROTO");l.exports=function(l,d){var p,_=m(l),b=0,y=[];for(p in _)p!=v&&h(_,p)&&y.push(p);for(;d.length>b;)h(_,p=d[b++])&&(~g(y,p)||y.push(p));return y}},d2c8:function(l,d,p){var h=p("aae3"),m=p("be13");l.exports=function(l,d,p){if(h(d))throw TypeError("String#"+p+" doesn't accept regex!");return String(m(l))}},d3f4:function(l,d){l.exports=function(l){return"object"==typeof l?null!==l:"function"==typeof l}},d53b:function(l,d){l.exports=function(l,d){return{value:d,done:!!l}}},d8e8:function(l,d){l.exports=function(l){if("function"!=typeof l)throw TypeError(l+" is not a function!");return l}},e11e:function(l,d){l.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(l,d,p){"use strict";var h=p("5ca1"),m=p("9def"),g=p("d2c8"),v="startsWith",_="".startsWith;h(h.P+h.F*p("5147")(v),"String",{startsWith:function startsWith(l){var d=g(this,l,v),p=m(Math.min(arguments.length>1?arguments[1]:void 0,d.length)),h=String(l);return _?_.call(d,h,p):d.slice(p,p+h.length)===h}})},f6fd:function(l,d){!function(l){var d="currentScript",p=l.getElementsByTagName("script");d in l||Object.defineProperty(l,d,{get:function(){try{throw new Error}catch(h){var l,d=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(h.stack)||[!1])[1];for(l in p)if(p[l].src==d||"interactive"==p[l].readyState)return p[l];return null}}})}(document)},f751:function(l,d,p){var h=p("5ca1");h(h.S+h.F,"Object",{assign:p("7333")})},fa5b:function(l,d,p){l.exports=p("5537")("native-function-to-string",Function.toString)},fab2:function(l,d,p){var h=p("7726").document;l.exports=h&&h.documentElement},fb15:function(l,d,p){"use strict";var h;(p.r(d),"undefined"!=typeof window)&&(p("f6fd"),(h=window.document.currentScript)&&(h=h.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(p.p=h[1]));p("f751"),p("f559"),p("ac6a"),p("cadf"),p("456d");function _arrayLikeToArray(l,d){(null==d||d>l.length)&&(d=l.length);for(var p=0,h=new Array(d);p<d;p++)h[p]=l[p];return h}function _unsupportedIterableToArray(l,d){if(l){if("string"==typeof l)return _arrayLikeToArray(l,d);var p=Object.prototype.toString.call(l).slice(8,-1);return"Object"===p&&l.constructor&&(p=l.constructor.name),"Map"===p||"Set"===p?Array.from(l):"Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p)?_arrayLikeToArray(l,d):void 0}}function _slicedToArray(l,d){return function _arrayWithHoles(l){if(Array.isArray(l))return l}(l)||function _iterableToArrayLimit(l,d){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(l)){var p=[],h=!0,m=!1,g=void 0;try{for(var v,_=l[Symbol.iterator]();!(h=(v=_.next()).done)&&(p.push(v.value),!d||p.length!==d);h=!0);}catch(l){m=!0,g=l}finally{try{h||null==_.return||_.return()}finally{if(m)throw g}}return p}}(l,d)||_unsupportedIterableToArray(l,d)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}p("6762"),p("2fdb");function _toConsumableArray(l){return function _arrayWithoutHoles(l){if(Array.isArray(l))return _arrayLikeToArray(l)}(l)||function _iterableToArray(l){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(l))return Array.from(l)}(l)||_unsupportedIterableToArray(l)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=p("a352"),g=p.n(m),v=p("c649");function emit(l,d){var p=this;this.$nextTick((function(){return p.$emit(l.toLowerCase(),d)}))}function delegateAndEmit(l){var d=this;return function(p){null!==d.realList&&d["onDrag"+l](p),emit.call(d,l,p)}}function isTransitionName(l){return["transition-group","TransitionGroup"].includes(l)}function getSlot(l,d,p){return l[p]||(d[p]?d[p]():void 0)}var _=["Start","Add","Remove","Update","End"],b=["Choose","Unchoose","Sort","Filter","Clone"],y=["Move"].concat(_,b).map((function(l){return"on"+l})),w=null,C={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function _default(l){return l}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function data(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function render(l){var d=this.$slots.default;this.transitionMode=function vuedraggable_isTransition(l){if(!l||1!==l.length)return!1;var d=_slicedToArray(l,1)[0].componentOptions;return!!d&&isTransitionName(d.tag)}(d);var p=function computeChildrenAndOffsets(l,d,p){var h=0,m=0,g=getSlot(d,p,"header");g&&(h=g.length,l=l?[].concat(_toConsumableArray(g),_toConsumableArray(l)):_toConsumableArray(g));var v=getSlot(d,p,"footer");return v&&(m=v.length,l=l?[].concat(_toConsumableArray(l),_toConsumableArray(v)):_toConsumableArray(v)),{children:l,headerOffset:h,footerOffset:m}}(d,this.$slots,this.$scopedSlots),h=p.children,m=p.headerOffset,g=p.footerOffset;this.headerOffset=m,this.footerOffset=g;var v=function getComponentAttributes(l,d){var p=null,h=function update(l,d){p=function buildAttribute(l,d,p){return void 0===p||((l=l||{})[d]=p),l}(p,l,d)};if(h("attrs",Object.keys(l).filter((function(l){return"id"===l||l.startsWith("data-")})).reduce((function(d,p){return d[p]=l[p],d}),{})),!d)return p;var m=d.on,g=d.props,v=d.attrs;return h("on",m),h("props",g),Object.assign(p.attrs,v),p}(this.$attrs,this.componentData);return l(this.getTag(),v,h)},created:function created(){null!==this.list&&null!==this.value&&v.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&v.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&v.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function mounted(){var l=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var d={};_.forEach((function(p){d["on"+p]=delegateAndEmit.call(l,p)})),b.forEach((function(p){d["on"+p]=emit.bind(l,p)}));var p=Object.keys(this.$attrs).reduce((function(d,p){return d[Object(v.a)(p)]=l.$attrs[p],d}),{}),h=Object.assign({},this.options,p,d,{onMove:function onMove(d,p){return l.onDragMove(d,p)}});!("draggable"in h)&&(h.draggable=">*"),this._sortable=new g.a(this.rootContainer,h),this.computeIndexes()},beforeDestroy:function beforeDestroy(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function rootContainer(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function realList(){return this.list?this.list:this.value}},watch:{options:{handler:function handler(l){this.updateOptions(l)},deep:!0},$attrs:{handler:function handler(l){this.updateOptions(l)},deep:!0},realList:function realList(){this.computeIndexes()}},methods:{getIsFunctional:function getIsFunctional(){var l=this._vnode.fnOptions;return l&&l.functional},getTag:function getTag(){return this.tag||this.element},updateOptions:function updateOptions(l){for(var d in l){var p=Object(v.a)(d);-1===y.indexOf(p)&&this._sortable.option(p,l[d])}},getChildrenNodes:function getChildrenNodes(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var l=this.$slots.default;return this.transitionMode?l[0].child.$slots.default:l},computeIndexes:function computeIndexes(){var l=this;this.$nextTick((function(){l.visibleIndexes=function _computeIndexes(l,d,p,h){if(!l)return[];var m=l.map((function(l){return l.elm})),g=d.length-h,v=_toConsumableArray(d).map((function(l,d){return d>=g?m.length:m.indexOf(l)}));return p?v.filter((function(l){return-1!==l})):v}(l.getChildrenNodes(),l.rootContainer.children,l.transitionMode,l.footerOffset)}))},getUnderlyingVm:function getUnderlyingVm(l){var d=function computeVmIndex(l,d){return l.map((function(l){return l.elm})).indexOf(d)}(this.getChildrenNodes()||[],l);return-1===d?null:{index:d,element:this.realList[d]}},getUnderlyingPotencialDraggableComponent:function getUnderlyingPotencialDraggableComponent(l){var d=l.__vue__;return d&&d.$options&&isTransitionName(d.$options._componentTag)?d.$parent:!("realList"in d)&&1===d.$children.length&&"realList"in d.$children[0]?d.$children[0]:d},emitChanges:function emitChanges(l){var d=this;this.$nextTick((function(){d.$emit("change",l)}))},alterList:function alterList(l){if(this.list)l(this.list);else{var d=_toConsumableArray(this.value);l(d),this.$emit("input",d)}},spliceList:function spliceList(){var l=arguments,spliceList=function spliceList(d){return d.splice.apply(d,_toConsumableArray(l))};this.alterList(spliceList)},updatePosition:function updatePosition(l,d){var updatePosition=function updatePosition(p){return p.splice(d,0,p.splice(l,1)[0])};this.alterList(updatePosition)},getRelatedContextFromMoveEvent:function getRelatedContextFromMoveEvent(l){var d=l.to,p=l.related,h=this.getUnderlyingPotencialDraggableComponent(d);if(!h)return{component:h};var m=h.realList,g={list:m,component:h};if(d!==p&&m&&h.getUnderlyingVm){var v=h.getUnderlyingVm(p);if(v)return Object.assign(v,g)}return g},getVmIndex:function getVmIndex(l){var d=this.visibleIndexes,p=d.length;return l>p-1?p:d[l]},getComponent:function getComponent(){return this.$slots.default[0].componentInstance},resetTransitionData:function resetTransitionData(l){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[l].data=null;var d=this.getComponent();d.children=[],d.kept=void 0}},onDragStart:function onDragStart(l){this.context=this.getUnderlyingVm(l.item),l.item._underlying_vm_=this.clone(this.context.element),w=l.item},onDragAdd:function onDragAdd(l){var d=l.item._underlying_vm_;if(void 0!==d){Object(v.d)(l.item);var p=this.getVmIndex(l.newIndex);this.spliceList(p,0,d),this.computeIndexes();var h={element:d,newIndex:p};this.emitChanges({added:h})}},onDragRemove:function onDragRemove(l){if(Object(v.c)(this.rootContainer,l.item,l.oldIndex),"clone"!==l.pullMode){var d=this.context.index;this.spliceList(d,1);var p={element:this.context.element,oldIndex:d};this.resetTransitionData(d),this.emitChanges({removed:p})}else Object(v.d)(l.clone)},onDragUpdate:function onDragUpdate(l){Object(v.d)(l.item),Object(v.c)(l.from,l.item,l.oldIndex);var d=this.context.index,p=this.getVmIndex(l.newIndex);this.updatePosition(d,p);var h={element:this.context.element,oldIndex:d,newIndex:p};this.emitChanges({moved:h})},updateProperty:function updateProperty(l,d){l.hasOwnProperty(d)&&(l[d]+=this.headerOffset)},computeFutureIndex:function computeFutureIndex(l,d){if(!l.element)return 0;var p=_toConsumableArray(d.to.children).filter((function(l){return"none"!==l.style.display})),h=p.indexOf(d.related),m=l.component.getVmIndex(h);return-1!==p.indexOf(w)||!d.willInsertAfter?m:m+1},onDragMove:function onDragMove(l,d){var p=this.move;if(!p||!this.realList)return!0;var h=this.getRelatedContextFromMoveEvent(l),m=this.context,g=this.computeFutureIndex(h,l);return Object.assign(m,{futureIndex:g}),p(Object.assign({},l,{relatedContext:h,draggedContext:m}),d)},onDragEnd:function onDragEnd(){this.computeIndexes(),w=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",C);var x=C;d.default=x}}).default}))},889:(l,d,p)=>{var h={"./ComponentLaoder.vue":[269],"./Exemple.vue":[424,914]};function webpackAsyncContext(l){if(!p.o(h,l))return Promise.resolve().then((()=>{var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}));var d=h[l],m=d[0];return Promise.all(d.slice(1).map(p.e)).then((()=>p(m)))}webpackAsyncContext.keys=()=>Object.keys(h),webpackAsyncContext.id=889,l.exports=webpackAsyncContext},300:d=>{"use strict";d.exports=l},192:l=>{"use strict";l.exports=d},876:l=>{"use strict";l.exports=p},748:l=>{"use strict";l.exports=h},342:l=>{"use strict";l.exports=m}},b={};function __webpack_require__(l){var d=b[l];if(void 0!==d)return d.exports;var p=b[l]={exports:{}};return _[l].call(p.exports,p,p.exports,__webpack_require__),p.exports}__webpack_require__.m=_,__webpack_require__.n=l=>{var d=l&&l.__esModule?()=>l.default:()=>l;return __webpack_require__.d(d,{a:d}),d},__webpack_require__.d=(l,d)=>{for(var p in d)__webpack_require__.o(d,p)&&!__webpack_require__.o(l,p)&&Object.defineProperty(l,p,{enumerable:!0,get:d[p]})},__webpack_require__.f={},__webpack_require__.e=l=>Promise.all(Object.keys(__webpack_require__.f).reduce(((d,p)=>(__webpack_require__.f[p](l,d),d)),[])),__webpack_require__.u=l=>"js/admin/components/"+__webpack_require__.h()+".Exemple-vue.min.js",__webpack_require__.miniCssF=l=>{},__webpack_require__.h=()=>"cce1356c9a7ac468a9b6",__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(l){if("object"==typeof window)return window}}(),__webpack_require__.o=(l,d)=>Object.prototype.hasOwnProperty.call(l,d),g={},v="cake-webpack:",__webpack_require__.l=(l,d,p,h)=>{if(g[l])g[l].push(d);else{var m,_;if(void 0!==p)for(var b=document.getElementsByTagName("script"),y=0;y<b.length;y++){var w=b[y];if(w.getAttribute("src")==l||w.getAttribute("data-webpack")==v+p){m=w;break}}m||(_=!0,(m=document.createElement("script")).charset="utf-8",m.timeout=120,__webpack_require__.nc&&m.setAttribute("nonce",__webpack_require__.nc),m.setAttribute("data-webpack",v+p),m.src=l),g[l]=[d];var onScriptComplete=(d,p)=>{m.onerror=m.onload=null,clearTimeout(C);var h=g[l];if(delete g[l],m.parentNode&&m.parentNode.removeChild(m),h&&h.forEach((l=>l(p))),d)return d(p)},C=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:m}),12e4);m.onerror=onScriptComplete.bind(null,m.onerror),m.onload=onScriptComplete.bind(null,m.onload),_&&document.head.appendChild(m)}},__webpack_require__.r=l=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},(()=>{var l;__webpack_require__.g.importScripts&&(l=__webpack_require__.g.location+"");var d=__webpack_require__.g.document;if(!l&&d&&(d.currentScript&&(l=d.currentScript.src),!l)){var p=d.getElementsByTagName("script");p.length&&(l=p[p.length-1].src)}if(!l)throw new Error("Automatic publicPath is not supported in this browser");l=l.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=l+"../../"})(),(()=>{var l={179:0};__webpack_require__.f.j=(d,p)=>{var h=__webpack_require__.o(l,d)?l[d]:void 0;if(0!==h)if(h)p.push(h[2]);else{var m=new Promise(((p,m)=>h=l[d]=[p,m]));p.push(h[2]=m);var g=__webpack_require__.p+__webpack_require__.u(d),v=new Error;__webpack_require__.l(g,(p=>{if(__webpack_require__.o(l,d)&&(0!==(h=l[d])&&(l[d]=void 0),h)){var m=p&&("load"===p.type?"missing":p.type),g=p&&p.target&&p.target.src;v.message="Loading chunk "+d+" failed.\n("+m+": "+g+")",v.name="ChunkLoadError",v.type=m,v.request=g,h[1](v)}}),"chunk-"+d,d)}};var webpackJsonpCallback=(d,p)=>{var h,m,[g,v,_]=p,b=0;if(g.some((d=>0!==l[d]))){for(h in v)__webpack_require__.o(v,h)&&(__webpack_require__.m[h]=v[h]);if(_)_(__webpack_require__)}for(d&&d(p);b<g.length;b++)m=g[b],__webpack_require__.o(l,m)&&l[m]&&l[m][0](),l[m]=0},d=self.webpackChunkcake_webpack=self.webpackChunkcake_webpack||[];d.forEach(webpackJsonpCallback.bind(null,0)),d.push=webpackJsonpCallback.bind(null,d.push.bind(d))})();var y={};return(()=>{"use strict";var l=__webpack_require__(269),d=__webpack_require__(342),p=__webpack_require__.n(d);function getType(l){return Object.prototype.toString.call(l).slice(8,-1)}function isUndefined(l){return"Undefined"===getType(l)}function isNull(l){return"Null"===getType(l)}function isPlainObject(l){return"Object"===getType(l)&&(l.constructor===Object&&Object.getPrototypeOf(l)===Object.prototype)}function isObject(l){return isPlainObject(l)}function index_esm_isArray(l){return"Array"===getType(l)}function isString(l){return"String"===getType(l)}function isSymbol(l){return"Symbol"===getType(l)}(function isOneOf(l,d,p,h,m){return function(g){return l(g)||d(g)||!!p&&p(g)||!!h&&h(g)||!!m&&m(g)}})(isNull,isUndefined);var h=__webpack_require__(748),m=__webpack_require__.n(h);function __spreadArrays(){for(var l=0,d=0,p=arguments.length;d<p;d++)l+=arguments[d].length;var h=Array(l),m=0;for(d=0;d<p;d++)for(var g=arguments[d],v=0,_=g.length;v<_;v++,m++)h[m]=g[v];return h}function assignProp(l,d,p,h){var m=h.propertyIsEnumerable(d)?"enumerable":"nonenumerable";"enumerable"===m&&(l[d]=p),"nonenumerable"===m&&Object.defineProperty(l,d,{value:p,enumerable:!1,writable:!0,configurable:!0})}function mergeRecursively(l,d,p){if(!isPlainObject(d))return p&&index_esm_isArray(p)&&p.forEach((function(p){d=p(l,d)})),d;var h={};isPlainObject(l)&&(h=__spreadArrays(Object.getOwnPropertyNames(l),Object.getOwnPropertySymbols(l)).reduce((function(p,h){var m=l[h];return(!isSymbol(h)&&!Object.getOwnPropertyNames(d).includes(h)||isSymbol(h)&&!Object.getOwnPropertySymbols(d).includes(h))&&assignProp(p,h,m,l),p}),{}));return __spreadArrays(Object.getOwnPropertyNames(d),Object.getOwnPropertySymbols(d)).reduce((function(h,m){var g=d[m],v=isPlainObject(l)?l[m]:void 0;return p&&index_esm_isArray(p)&&p.forEach((function(l){g=l(v,g)})),void 0!==v&&isPlainObject(g)&&(g=mergeRecursively(v,g,p)),assignProp(h,m,g,d),h}),h)}const g=function merge(l){for(var d=[],p=1;p<arguments.length;p++)d[p-1]=arguments[p];var h=null,m=l;return isPlainObject(l)&&l.extensions&&1===Object.keys(l).length&&(m={},h=l.extensions),d.reduce((function(l,d){return mergeRecursively(l,d,h)}),m)};var v={setter:"set",getter:"get",deletor:"delete",vuexEasyFirestore:!1,ignorePrivateProps:!0,ignoreProps:[],pattern:"simple"};function error(l,d,p,h){void 0===d&&(d={});var m=function getErrors(l,d,p){var h=d||p?"problem with prop: `"+p+"` at path: `"+d+"`":"",m="traditional"===l.pattern,g=l.setter,v=l.deletor,_="items",b=m?"SET_"+_.toUpperCase():_,y="\n    Correct usage examples:\n    // From Vue-components:\n    "+g+"('items.*', {'123': {name: 'the best item'}})\n\n    // From the Vuex store:\n    dispatch('"+g+"/items.*', {'123': {name: 'the best item'}})\n    // or\n    commit('"+b+".*', {'123': {name: 'the best item'}})",w="\n    Correct usage examples:\n    // From Vue-components:\n    "+g+"('items.*.tags.*', ['123', {water: true}])\n\n    // From the Vuex store:\n    dispatch('"+g+"/items.*.tags.*', ['123', {water: true}])\n    // or\n    commit('"+b+".*.tags.*', ['123', {water: true}])";return{mutationSetterNoId:h+"\n      The payload needs to be an object with an `id` field.\n      "+y,mutationSetterPropPathWildcardMissingItemDoesntExist:h+"\n      The item does not exist! Make sure you first set the item.\n      "+y,mutationSetterPropPathWildcardIdCount:h+"\n      The amount of ids and wildcards `'*'` are not equal.\n      If you have multiple wildcards you need to pass an array, where each item is an ID and the last is the property you want to set.\n      "+w+"\n      ",mutationDeleteNoId:h+"\n      The payload needs to be an object with an `id` field.\n      \n    Correct usage examples:\n    // From Vue-components:\n    "+v+"('items.*', '123')\n\n    // From the Vuex store:\n    dispatch('"+v+"/items.*', '123')\n    // or\n    commit('"+(m?"DELETE_"+_.toUpperCase():_)+".*', '123')\n      ",wildcardFormatWrong:h+"\n      There was something wrong with the payload passed when using a path with wildcards.\n\n      A) Path with wildcard:\n      "+y+"\n\n      B) Path with multiple wildcards:\n      "+w+"\n    ",missingDeleteMutation:"\n      There is no mutation set for '"+d+"'.\n      Something went wrong with your vuex-easy-access setup.\n      Did you manually add `...defaultMutations(state)` to your modules?\n      See the documentation here:\n        https://github.com/mesqueeb/VuexEasyAccess#setup\n\n\n      // You can also manually add a mutation like so in the correct module (not recommended!!):\n      mutations: {\n        '"+(m?"DELETE_"+p.toUpperCase():"-"+p)+"': (state, payload) => {\n          this._vm.$delete(state."+p+")\n        }\n      }\n    ",missingSetterMutation:"\n      There is no mutation set for '"+d+"'.\n      Something went wrong with your vuex-easy-access setup.\n      Did you manually add `...defaultMutations(state)` to your modules?\n      See the documentation here:\n        https://github.com/mesqueeb/VuexEasyAccess#setup\n\n\n      // You can also manually add a mutation like so in the correct module (not recommended!!):\n      mutations: {\n        '"+(m?"SET_"+p.toUpperCase():p)+"': (state, payload) => {\n          state."+p+" = payload\n        }\n      }\n    "}}(Object.assign({},v,d),p,h);return console.error("[vuex-easy-access] Error!",m[l]),l}function getId(l,d,p,h){if(isObject(l)){if("id"in l)return l.id;if(1===Object.keys(l).length)return Object.keys(l)[0]}return isString(l)?l:(error("wildcardFormatWrong",d,p),"")}function getIdsFromPayload(l,d,p){return l.map((function(l){return getId(l,d,p)}))}function getValueFromPayloadPiece(l){return isObject(l)&&!("id"in l)&&1===Object.keys(l).length?Object.values(l)[0]:l}function checkIdWildcardRatio(l,d,p){var h=d.match(/\*/g),m=index_esm_isArray(h)?h.length:0;return l.length===m||(error("mutationSetterPropPathWildcardIdCount",p),!1)}function fillinPathWildcards(l,d,p,h){var m=d.endsWith("*")?l[l.length-1]:null;return l.forEach((function(l,g,v){var _=d.indexOf("*"),b=d.substring(0,_);if(m!==l&&p&&h&&void 0===(b?getDeepRef(p,b):p)[l])return error("mutationSetterPropPathWildcardMissingItemDoesntExist",h,b,l);d=d.split("").map((function(d,p){return p===_?l:d})).join("")})),d}function getKeysFromPath(l){return l?l.match(/[^\/^\.]+/g):[]}function getDeepRef(l,d){void 0===l&&(l={});var p=getKeysFromPath(d);if(!p.length)return l;for(var h=l;h&&p.length>1;)h=h[p.shift()];var m=p.shift();return h&&h.hasOwnProperty(m)?h[m]:void 0}function setDeepValue(l,d,p){var h=getKeysFromPath(d),m=h.pop(),g=getDeepRef(l,h.join("."));return g&&g.hasOwnProperty(m)&&(g[m]=p),l}function executeArrayMutation(l,d,p,h,m){var g,v;if(h.includes("*")){index_esm_isArray(d)||"splice"===p||(d=[d]),"pop"!==p&&"shift"!==p&&(g=d.pop());var _=getIdsFromPayload(d,m,h);if(!checkIdWildcardRatio(_,h,m))return;v=fillinPathWildcards(_,h,l,m)}else g=d,v=h;return"push"===p?function pushDeepValue(l,d,p){var h=getDeepRef(l,d);if(index_esm_isArray(h))return h.push(p)}(l,v,g):"pop"===p?function popDeepValue(l,d){var p=getDeepRef(l,d);if(index_esm_isArray(p))return p.pop()}(l,v):"shift"===p?function shiftDeepValue(l,d){var p=getDeepRef(l,d);if(index_esm_isArray(p))return p.shift()}(l,v):"splice"===p?function spliceDeepValue(l,d,p,h,m){void 0===p&&(p=0),void 0===h&&(h=0);var g=getDeepRef(l,d);if(index_esm_isArray(g))return void 0===m?g.splice(p,h):g.splice(p,h,m)}(l,v,g[0],g[1],g[2]):void 0}function makeMutationsForAllProps(l,d,p,h){return isObject(l)?Object.keys(l).reduce((function(v,_){var b=d?d+"."+_:_;if(p.ignorePrivateProps&&"_"===_[0])return v;if(p.ignoreProps.some((function(l){var d=/(.*?)\/([^\/]*?)$/.exec(l),p=d?d[1]+"/":"",m=d?d[2]:l;return!h&&m===b||h&&h.moduleNamespace===p&&m===b})))return v;var y=l[_],w="traditional"===p.pattern?"SET_"+b.toUpperCase():b,C="traditional"===p.pattern?"DELETE_"+b.toUpperCase():"-"+b;(b.includes("*")?"*"!==_&&(v[w]=function(l,d){return function MUTATE_PROP_x_SUBPROP(l,d,p,h){index_esm_isArray(d)||(d=[d]);var m=d.pop(),g=getIdsFromPayload(d,h,p);if(checkIdWildcardRatio(g,p,h))return setDeepValue(l,fillinPathWildcards(g,p,l,h),m)}(l,d,b,p)},v[C]=function(l,d){return function DELETE_PROP_x_SUBPROP(l,d,p,h){var g=p.includes(".")?p.split("."):[p],v=g.pop(),_=g.join("."),b=d;if(checkIdWildcardRatio(b,_,h)){var y=getDeepRef(l,fillinPathWildcards(b,_,l,h));return m().delete(y,v)}}(l,d,b,p)}):(v[w]=function(l,d){return function SET_PROP_SUBPROP(l,d,p){return setDeepValue(l,p,d)}(l,d,b)},v[C]=function(l){return function DELETE_PROP_SUBPROP(l,d){var p=d.includes(".")?d.split("."):[d],h=p.pop(),g=getDeepRef(l,p.join("."));return m().delete(g,h)}(l,b)}),"*"===_&&(v[w]=function(l,d){return function MUTATE_PROP_x(l,d,p,h,v){index_esm_isArray(d)||(d=[d]);var _=getIdsFromPayload(d,h,p);if(checkIdWildcardRatio(_,p,h)){var b=_.pop(),y=getDeepRef(l,fillinPathWildcards(_,p.slice(0,-1),l,h)),w=getValueFromPayloadPiece(d.pop());return isObject(w)&&(w.id=b),isObject(v)&&(w=g(v,w)),m().set(y,b,w)}}(l,d,b,p,y)},v[C]=function(l,d){return function DELETE_PROP_x(l,d,p,h){if(!d)return error("mutationDeleteNoId",h,p);var g=index_esm_isArray(d)?d:[d];if(checkIdWildcardRatio(g,p,h)){var v=g.pop(),_=getDeepRef(l,fillinPathWildcards(g,p.endsWith("*")?p.slice(0,-1):p,l,h));return m().delete(_,v)}}(l,d,b,p)}),index_esm_isArray(y))&&(v["traditional"===p.pattern?"PUSH_"+b.toUpperCase():b+".push"]=function(l,d){return executeArrayMutation(l,d,"push",b,p)},v["traditional"===p.pattern?"POP_"+b.toUpperCase():b+".pop"]=function(l,d){return executeArrayMutation(l,d,"pop",b,p)},v["traditional"===p.pattern?"SHIFT_"+b.toUpperCase():b+".shift"]=function(l,d){return executeArrayMutation(l,d,"shift",b,p)},v["traditional"===p.pattern?"SPLICE_"+b.toUpperCase():b+".splice"]=function(l,d){return executeArrayMutation(l,d,"splice",b,p)});if(isObject(y)&&Object.keys(y).length){var x=makeMutationsForAllProps(y,b,p,h);Object.assign(v,x)}return v}),{}):{}}function defaultGetter(l,d){return d.getters.hasOwnProperty(l)?d.getters[l]:function getDeepValue(l,d){return getDeepRef(l,d)}(d.state,l)}function defaultSetter(l,d,p,h){void 0===h&&(h={});var m=function formatSetter(l,d,p,h){void 0===h&&(h={});var m=Object.assign({},v,h),g=l.split("/"),_=g.pop(),b=g.length?g.join("/")+"/":"",y="traditional"===m.pattern?"set"+_[0].toUpperCase()+_.substring(1):_,w=b+y;if(p._actions[w])return{command:"dispatch",_path:w,_payload:d};var C=!b&&_&&!_.includes(".")&&m.vuexEasyFirestore?_+"/":b,x=p._modulesNamespaceMap[C],S=x?x.state._conf:null;if(m.vuexEasyFirestore&&S){var k=C+"set";if(p._actions[k]){var P=S.statePropName,O=P&&_.startsWith(P+".")?_.replace(P+".",""):_,j=!O||!b&&O&&!O.includes(".")?d:function createObjectFromPath(l,d,p,h){var m;if("*"===l)return d;if(!l.includes(".")&&!l.includes("/"))return(m={})[l]=d,m;var g=d;if(l.includes("*")){index_esm_isArray(d)||(d=[d]);var v=d.pop(),_=d;if(l.endsWith("*")||(g=v),l.endsWith("*")){var b=getId(v,h,l);_.push(b),isObject(g=getValueFromPayloadPiece(v))&&(g.id=b)}if(!checkIdWildcardRatio(_=_.map((function(l){return(l=l.replace(".","_____dot_____")).replace("/","_____slash_____")})),l,h))return;l=fillinPathWildcards(_,l,p,h)}var y={};return l.match(/[^\/^\.]+/g).reduce((function(l,d,p,h){d=(d=d.replace("_____dot_____",".")).replace("_____slash_____","/");var m=p===h.length-1?g:{};return l[d]=m,m}),y),y}(O,d);return{command:"dispatch",_path:k,_payload:j}}}var T="traditional"===m.pattern?"SET_"+_.toUpperCase():_,E=b+T;if(p._mutations[E])return{command:"commit",_path:E,_payload:d};return{command:"error",_payload:error("missingSetterMutation",m,E,_)}}(l,d,p,h),g=m.command,_=m._path,b=m._payload;return"error"===g?b:p[g](_,b)}function defaultDeletor(l,d,p,h){void 0===h&&(h={});var m=function formatDeletor(l,d,p,h){void 0===h&&(h={});var m=Object.assign({},v,h),g=l.split("/"),_=g.pop(),b=g.length?g.join("/")+"/":"",y="traditional"===m.pattern?"delete"+_[0].toUpperCase()+_.substring(1):"-"+_,w=b+y;if(p._actions[w])return{command:"dispatch",_path:w,_payload:d};var C=p._modulesNamespaceMap[b],x=C?C.state._conf:null;if(m.vuexEasyFirestore&&x){var S=x.statePropName,k=S&&_.startsWith(S+".")?_.replace(S+".",""):_,P=k;if(k.includes("*"))P=fillinPathWildcards(getIdsFromPayload(index_esm_isArray(d)?d:[d]),k);if(P)return{command:"dispatch",_path:b+"delete",_payload:P}}var O="traditional"===m.pattern?"DELETE_"+_.toUpperCase():"-"+_,j=b+O;if(p._mutations[j])return{command:"commit",_path:j,_payload:d};return{command:"error",_payload:error("missingDeleteMutation",m,j,_)}}(l,d,p,h),g=m.command,_=m._path,b=m._payload;return"error"===g?b:p[g](_,b)}function createSetterModule(l,d,p,h){void 0===d&&(d="");var m=function getSetters(l,m){return void 0===m&&(m=""),Object.keys(l).reduce((function(g,v){var _=m?m+"."+v:v,b=d+_;if(h.ignorePrivateProps&&"_"===v[0])return g;if(h.ignoreProps.includes(b))return g;if(p._modulesNamespaceMap[b+"/"])return g;g[_]=function(l,d){return defaultSetter(b,d,p,h)};var y=l[v];if(index_esm_isArray(y)&&(g[_+".push"]=function(l,d){return defaultSetter(b+".push",d,p,h)},g[_+".pop"]=function(l,d){return defaultSetter(b+".pop",d,p,h)},g[_+".shift"]=function(l,d){return defaultSetter(b+".shift",d,p,h)},g[_+".splice"]=function(l,d){return defaultSetter(b+".splice",d,p,h)}),isObject(y)&&Object.keys(y).length){var w=getSetters(y,_);Object.assign(g,w)}return g}),{})}(l);return{actions:m,namespaced:!0}}function createDeleteModule(l,d,p,h){void 0===d&&(d="");var m=function getDeletors(l,m){return void 0===m&&(m=""),Object.keys(l).reduce((function(g,v){var _=m?m+"."+v:v,b=d+_;if(h.ignorePrivateProps&&"_"===v[0])return g;if(h.ignoreProps.includes(b))return g;if(p._modulesNamespaceMap[b+"/"])return g;var y=l[v];if(g[_]=function(l,d){return defaultDeletor(b,d,p,h)},isObject(y)&&Object.keys(y).length){var w=getDeletors(y,_);Object.assign(g,w)}return g}),{})}(l);return{actions:m,namespaced:!0}}function createEasyAccess(l){void 0===l&&(l={});var d=Object.assign({},v,l);return function(l){!function generateSetterModules(l,d){void 0===d&&(d={});var p=l._modulesNamespaceMap,h=Object.assign({},v,d);Object.keys(p).forEach((function(d){var m=p[d],g=getKeysFromPath(d+h.setter),v=createSetterModule(m.state,d,l,h);l.registerModule(g,v);var _=createDeleteModule(m.state,d,l,h),b=getKeysFromPath(d+h.deletor);l.registerModule(b,_)}));var m=h.setter,g=createSetterModule(l.state,"",l,h);l.registerModule(m,g);var _=h.deletor,b=createDeleteModule(l.state,"",l,h);l.registerModule(_,b)}(l,d),l[d.setter]=function(p,h){return defaultSetter(p,h,l,d)},l[d.getter]=function(d){return defaultGetter(d,l)},l[d.deletor]=function(p,h){return defaultDeletor(p,h,l,d)}}}var _;function _typeof(l){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},_typeof(l)}function ownKeys(l,d){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(l);d&&(h=h.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),p.push.apply(p,h)}return p}function _defineProperty(l,d,p){return(d=function _toPropertyKey(l){var d=function _toPrimitive(l,d){if("object"!==_typeof(l)||null===l)return l;var p=l[Symbol.toPrimitive];if(void 0!==p){var h=p.call(l,d||"default");if("object"!==_typeof(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===_typeof(d)?d:String(d)}(d))in l?Object.defineProperty(l,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[d]=p,l}Vue.use(p());var b=createEasyAccess(),y={};const w=new(p().Store)((_defineProperty(_={state:y,plugins:[b],mutations:{},actions:{}},"mutations",function _objectSpread(l){for(var d=1;d<arguments.length;d++){var p=null!=arguments[d]?arguments[d]:{};d%2?ownKeys(Object(p),!0).forEach((function(d){_defineProperty(l,d,p[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):ownKeys(Object(p)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(p,d))}))}return l}({},function defaultMutations(l,d,p){return void 0===d&&(d={}),makeMutationsForAllProps(l,null,Object.assign({},v,d),p)}(y))),_defineProperty(_,"modules",{}),_));__webpack_require__(102),__webpack_require__(32);var C=function init(){!function collapseIconChange(){$('[data-bs-toggle="collapse"]:not(.navbar-toggler)').click((function(){var l=$(this).find("i:last-child");"expand_more"==l.text()?l.text("expand_less"):l.text("expand_more")}))}(),function reduceMenu(){$(".sidebar__toggler").click((function(){$(this).hasClass("actived")?($(this).removeClass("actived"),$(".row-sidebar").addClass("utils__sidebar--simple")):($(this).addClass("actived"),$(".row-sidebar").removeClass("utils__sidebar--simple"))}))}(),function goMenuIfSmall(){$('.sidebar__menu [data-bs-toggle="collapse"]').click((function(){$(".sidebar__toggler").hasClass("actived")||($(".sidebar__toggler").addClass("actived"),$(".row-sidebar").removeClass("utils__sidebar--simple"))})),$('a [data-bs-toggle="collapse"]').click((function(){$(".sidebar__toggler").hasClass("actived")||($(".sidebar__toggler").addClass("actived"),$(".row-sidebar").removeClass("utils__sidebar--simple"))}))}()},x=function hideShowLanguagesInputs(l){for(var d in $(".locale-"+l).parents(".form-group").show(),window.languages)window.languages[d]!=l&&$(".locale-"+window.languages[d]).parents(".form-group").hide()},S=function handleI18nTabs(l){l.preventDefault();var d=$(this).html();$(".locale-selector-li").removeClass("active"),$(".locale-selector-li--"+d).addClass("active"),x(d)},k=function init(){!function initSelect(){$("select").select2()}(),setTimeout((function(){!function initI18n(){window.language&&(x(window.language),$("#locale-selector-ul a").click(S))}()}),1e3)},P=function render(){var l=this,d=l._self._c;return d("div",{staticClass:"input form-group textarea",class:{required:l.init.required}},[l.init.label?d("label",[l._v(l._s(l.init.label))]):l._e(),l._v(" "),d("div",{class:l.init.class,attrs:{id:l.name}},[l._t("default")],2)])};P._withStripped=!0;const O={name:"tinymce-textarea",props:{field:String,init:Object,entity:Object,setFiled:Function},data:function data(){return{editor:null,plugins:[],config:{paste_enable_default_filters:!0,relative_urls:!1,remove_script_host:!1,convert_urls:!0}}},created:function created(){window.vueTinymce[this.name]=this},mounted:function mounted(){this.editor=new window.tinymce.Editor(this.name,this.settings,window.tinymce.EditorManager),this.editor.render(),this.editor.on("init",this.update),this.editor.on("Change",this.update)},beforeDestroy:function beforeDestroy(){this.editor.destroy(),this.plugins.map((function(l){l.$destroy(),l.$el.parentNode.removeChild(l.$el)})),delete window.vueTinymce[this.name]},computed:{name:function name(){for(var l=this.field.split("."),name="",d=0;d<l.length;d++)name+=d>0?"["+l[d]+"]":l[d];return name},settings:function settings(){return Object.assign({},this.config,this.init,{paste_preprocess:this.pastePreprocess})}},methods:{appendPlugin:function appendPlugin(l){this.plugins.push(l),this.$el.appendChild(l.$el)},update:function update(l){this.entity&&(this.entity[this.field]=this.editor.getContent(),this.setFiled(this.entity[this.field])),window.tinymce.triggerSave()},pastePreprocess:function pastePreprocess(l,d){d.content=d.content.replace(/<[^>]*>/g,(function(l){return l=l.replace(/ ([^=]+)="[^"]*"/g,(function(l,d){return-1!==["alt","href","src","title","target"].indexOf(d)?l:""}))})),d.content=d.content.replace(/<(div|style|meta|link|pclass|span|svg|path|pre|code|text).*?>/gi,"")}}};var j=__webpack_require__(900);var T=[(0,j.Z)(O,P,[],!1,null,null,null).exports];const E={version:"4.0.0",install:function install(l,d){d.store;window.tinymce.baseURL="https://static.3xw.ch/tinymce/5.10",window.tinymce.suffix=".min",window.vueTinymce={},T.forEach((function(d){return l.component(d.name,d)}))}};var A=function render(){var l=this,d=l._self._c;return d("main",["input"==l.mode?d("div",{staticClass:"input form-group"},[d("label",[l._v(l._s(l.settings.label))]),l._v(" "),d("div",{staticClass:"attachment-input"},[d("div",{staticClass:"btn-group",attrs:{"data-intro":"Ajouter des mÃ©dias Ã  l'aide de ces boutons","data-position":"right"}},[d("button",{staticClass:"btn btn-fill btn-xs btn-info",attrs:{type:"button"},on:{click:function click(d){l.mode="browse"}}},[d("i",{staticClass:"fa fa-cloud",attrs:{"aria-hidden":"true"}}),l._v("Browse\n          ")])]),l._v(" "),d("div",[d("draggable",{staticClass:"row",on:{start:function start(d){l.drag=!0},end:function end(d){l.drag=!1}},model:{value:l.selectedFiles,callback:function callback(d){l.selectedFiles=d},expression:"selectedFiles"}},l._l(l.selectedFiles,(function(p,h){return d("div",{key:p.id,staticClass:"col-12",class:l.settings.cols},[d("attachment",{attrs:{index:h,aid:l.aid,mode:"input",attachment:p,settings:l.settings}})],1)})),0),l._v(" "),0==l.selectedFiles.length?d("div",["belongsTo"==l.settings.relation?d("input",{attrs:{type:"hidden",name:l.settings.field,value:""}}):l._e(),l._v(" "),"belongsTo"!=l.settings.relation?d("input",{attrs:{type:"hidden",name:"attachments[]",value:""}}):l._e()]):l._e()],1),l._v(" "),l._l(l.settings.errors,(function(p,h){return d("div",{key:h,staticClass:"error-message"},[l._v(l._s(p))])}))],2)]):l._e(),l._v(" "),"input"!=l.mode?d("div",{staticClass:"section-attachment--container",class:{"attachment-overlay-full":l.settings.overlay,"d-none":"hidden"==l.mode}},[l.settings.overlay?d("section",{},[d("div",{staticClass:"text-right"},[d("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode=l.tinymce?l.selectedFiles.length?"editor-options":"hidden":"input"}}},[l._v("FERMER")])])]):l._e(),l._v(" "),"browse"==l.mode?d("section",{staticClass:"section-attachment--browse"},[d("div",{staticClass:"row no-gutters g-0"},[d("div",{staticClass:"w-100"}),l._v(" "),d("div",{staticClass:"col-md-3 col-xl-2"},[d("div",{staticClass:"section__side"},[-1!=l.settings.groupActions.indexOf("add")?d("div",{staticClass:"section__add section--blue-light color--blue-dark action pointer d-flex flex-row align-items-center",on:{click:function click(d){l.mode="upload",l.$forceUpdate()}}},[d("icon-add"),l._v("Â Â Â Â "),d("p",{staticClass:"mb-0"},[l._v("Ajouter des fichiers")])],1):l._e(),l._v(" "),d("div",{staticClass:"section__nav"},[d("div",{staticClass:"d-flex flex-row align-items-center filter-title"},[d("icon-filter"),l._v("Â Â Â Â "),d("p",{staticClass:"mb-0"},[l._v("Filtres et tags")])],1),l._v(" "),d("div",{staticClass:"utils--spacer-semi"}),l._v(" "),d("attachment-atags",{attrs:{aid:l.aid,upload:!1,filters:l.settings.browse.filters,options:l.settings.options}})],1)])]),l._v(" "),d("div",{staticClass:"col-md-9 col-xl-10"},[d("attachments",{attrs:{aid:l.aid,settings:l.settings}})],1)])]):l._e(),l._v(" "),"upload"==l.mode?d("section",{staticClass:"section-attachment--upload"},[d("div",{staticClass:"row"},[d("div",{staticClass:"col-md-12"},[d("div",{staticClass:"section__nav"},[d("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[d("h1",[l._v("Ajouter des fichiers")]),l._v(" "),d("div",{staticClass:"btn-group"},[-1!=l.reIndexOf(l.settings.types,/embed/gm)&&-1==l.settings.groupActions.indexOf("tinymce")?d("button",{staticClass:"btn btn--blue color--white",attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="embed"}}},[l._v("\n                  AJOUTER UN CODE EMBED\n                ")]):l._e(),l._v(" "),d("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="browse"}}},[l._v("ANNULER")])])]),l._v(" "),d("div",{staticClass:"utils--spacer-semi"}),l._v(" "),d("div",{staticClass:"row"},[d("div",{staticClass:"col-12 col-md-3"},[d("label",[l._v("Ajouter des tags")]),l._v(" "),d("attachment-atags",{attrs:{aid:l.aid,upload:!0,filters:l.settings.browse.filters,options:l.settings.options}})],1),l._v(" "),d("div",{staticClass:"col-12 col-md-9"},[d("attachment-upload",{attrs:{aid:l.aid}})],1)])])])])]):l._e(),l._v(" "),"embed"==l.mode?d("section",{staticClass:"section-attachment--embed"},[d("div",{staticClass:"row"},[d("div",{staticClass:"col-md-12"},[d("div",{staticClass:"section__nav"},[d("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[d("h1",[l._v("Ajouter un code embed")]),l._v(" "),d("div",{staticClass:"btn-group"},[d("button",{staticClass:"btn btn--blue color--white",attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="upload"}}},[l._v("\n                UPLOADER UN FICHIER\n              ")]),l._v(" "),d("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="browse"}}},[l._v("ANNULER")])])]),l._v(" "),d("div",{staticClass:"utils--spacer-semi"}),l._v(" "),d("div",{staticClass:"row"},[d("div",{staticClass:"col-12 col-md-3"},[d("label",[l._v("Tags")]),l._v(" "),d("attachment-atags",{attrs:{aid:l.aid,upload:!0,filters:l.settings.browse.filters,options:l.settings.options}})],1),l._v(" "),d("div",{staticClass:"col-12 col-md-9"},[d("attachment-embed",{attrs:{aid:l.aid}})],1)])])])])]):l._e(),l._v(" "),"edit"==l.mode?d("section",{staticClass:"section-attachment--upload"},[d("div",{staticClass:"row"},[d("div",{staticClass:"col-md-12"},[d("div",{staticClass:"section__nav"},[d("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[d("h1",[l._v("Editer des fichiers")]),l._v(" "),d("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="browse"}}},[l._v("ANNULER")])]),l._v(" "),d("div",{staticClass:"utils--spacer-semi"}),l._v(" "),d("div",{staticClass:"row"},[d("div",{staticClass:"col-12 col-md-3"},[d("label",[l._v("Tags")]),l._v(" "),d("attachment-atags",{attrs:{aid:l.aid,upload:!0,filters:l.settings.browse.filters,options:l.settings.options}})],1),l._v(" "),d("div",{staticClass:"col-12 col-md-9"},[d("attachment-edit",{attrs:{aid:l.aid,settings:l.settings}})],1)])])])])]):l._e(),l._v(" "),"editor-options"==l.mode?d("section",{staticClass:"section-attachment--editor-options"},[d("inline-options",{attrs:{file:!!l.selectedFiles&&l.selectedFiles[0],aid:l.aid,settings:l.settings}})],1):l._e()]):l._e()])};A._withStripped=!0;var L=__webpack_require__(300),F=__webpack_require__.n(L);const D=F();function _toConsumableArray(l){return function _arrayWithoutHoles(l){if(Array.isArray(l))return _arrayLikeToArray(l)}(l)||function _iterableToArray(l){if("undefined"!=typeof Symbol&&null!=l[Symbol.iterator]||null!=l["@@iterator"])return Array.from(l)}(l)||function _unsupportedIterableToArray(l,d){if(!l)return;if("string"==typeof l)return _arrayLikeToArray(l,d);var p=Object.prototype.toString.call(l).slice(8,-1);"Object"===p&&l.constructor&&(p=l.constructor.name);if("Map"===p||"Set"===p)return Array.from(l);if("Arguments"===p||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return _arrayLikeToArray(l,d)}(l)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(l,d){(null==d||d>l.length)&&(d=l.length);for(var p=0,h=new Array(d);p<d;p++)h[p]=l[p];return h}const I=function createActions(l){var d=l.actions,p=l.rootUrl,h=l.client,m=l.only,g=l.parseList,v=l.parseSingle,_=l.parseError,b="FETCH_LIST",y="FETCH_SINGLE",w="CREATE",C="UPDATE",x="REPLACE",S="DESTROY",k={},P="function"==typeof p,O=function urlGetter(l){var d=l.customUrl,h=l.customUrlFnArgs,m=l.id,g=l.type;if("string"==typeof d)return d;if(P){var v=Array.isArray(h)?h:[h],_=[m||null,g||null].concat(v);return p.apply(void 0,_toConsumableArray(_))}return m?"".concat(p,"/").concat(m):p};return m.includes(b)&&Object.assign(k,{fetchList:function fetchList(l){var d=l.commit,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.config,v=p.customUrl,y=p.customUrlFnArgs,w=void 0===y?[]:y;return d("fetchListStart"),h.get(O({customUrl:v,customUrlFnArgs:w,type:b}),m).then((function(l){var p=g(l);return d("fetchListSuccess",p),p})).catch((function(l){var p=_(l);return d("fetchListError",p),Promise.reject(p)}))}}),m.includes(y)&&Object.assign(k,{fetchSingle:function fetchSingle(l){var d=l.commit,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.id,g=p.config,b=p.customUrl,w=p.customUrlFnArgs,C=void 0===w?[]:w;return d("fetchSingleStart"),h.get(O({id:m,customUrl:b,customUrlFnArgs:C,type:y}),g).then((function(l){var p=v(l);return d("fetchSingleSuccess",p),l})).catch((function(l){var p=_(l);return d("fetchSingleError",p),Promise.reject(p)}))}}),m.includes(w)&&Object.assign(k,{create:function create(l){var d=l.commit,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.data,g=p.config,b=p.customUrl,y=p.customUrlFnArgs,C=void 0===y?[]:y;return d("createStart"),h.post(O({customUrl:b,customUrlFnArgs:C,type:w}),m,g).then((function(l){var p=v(l);return d("createSuccess",p),p})).catch((function(l){var p=_(l);return d("createError",p),Promise.reject(p)}))}}),m.includes(C)&&Object.assign(k,{update:function update(l){var d=l.commit,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.id,g=p.data,b=p.config,y=p.customUrl,w=p.customUrlFnArgs,x=void 0===w?[]:w;return d("updateStart"),h.patch(O({id:m,customUrl:y,customUrlFnArgs:x,type:C}),g,b).then((function(l){var p=v(l);return d("updateSuccess",p),p})).catch((function(l){var p=_(l);return d("updateError",p),Promise.reject(p)}))}}),m.includes(x)&&Object.assign(k,{replace:function replace(l){var d=l.commit,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.id,g=p.data,b=p.config,y=p.customUrl,w=p.customUrlFnArgs,C=void 0===w?[]:w;return d("replaceStart"),h.put(O({id:m,customUrl:y,customUrlFnArgs:C,type:x}),g,b).then((function(l){var p=v(l);return d("replaceSuccess",p),p})).catch((function(l){var p=_(l);return d("replaceError",p),Promise.reject(p)}))}}),m.includes(S)&&Object.assign(k,{destroy:function destroy(l){var d=l.commit,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=p.id,g=p.config,b=p.customUrl,y=p.customUrlFnArgs,w=void 0===y?[]:y;return d("destroyStart"),h.delete(O({id:m,customUrl:b,customUrlFnArgs:w,type:S}),g).then((function(l){var p=v(l);return d("destroySuccess",m,p),p})).catch((function(l){var p=_(l);return d("destroyError",p),Promise.reject(p)}))}}),Object.assign(k,d)};const M=function createGetters(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=l.getters;return Object.assign({},{list:function list(l){return l.list.map((function(d){return l.entities[d.toString()]}))},byId:function byId(l){return function(d){return l.entities[d.toString()]}},isError:function isError(l){return null!==l.fetchListError||null!==l.fetchSingleError||null!==l.createError||null!==l.updateError||null!==l.replaceError||null!==l.destroyError},isLoading:function isLoading(l){return l.isFetchingList||l.isFetchingSingle||l.isCreating||l.isUpdating||l.isReplacing||l.isDestroying}},d)};const U=function createMutations(l){var d=l.mutations,p=l.only,h=l.idAttribute,g=l.onFetchListStart,v=l.onFetchListSuccess,_=l.onFetchListError,b=l.onFetchSingleStart,y=l.onFetchSingleSuccess,w=l.onFetchSingleError,C=l.onCreateStart,x=l.onCreateSuccess,S=l.onCreateError,k=l.onUpdateStart,P=l.onUpdateSuccess,O=l.onUpdateError,j=l.onReplaceStart,T=l.onReplaceSuccess,E=l.onReplaceError,A=l.onDestroyStart,L=l.onDestroySuccess,F=l.onDestroyError,$={};return p.includes("FETCH_LIST")&&Object.assign($,{fetchListStart:function fetchListStart(l){l.isFetchingList=!0,g(l)},fetchListSuccess:function fetchListSuccess(l,d){var p=d.data;p.forEach((function(d){m().set(l.entities,d[h].toString(),d)})),l.list=p.map((function(l){return l[h].toString()})),l.isFetchingList=!1,l.fetchListError=null,v(l,d)},fetchListError:function fetchListError(l,d){l.list=[],l.fetchListError=d,l.isFetchingList=!1,_(l,d)}}),p.includes("FETCH_SINGLE")&&Object.assign($,{fetchSingleStart:function fetchSingleStart(l){l.isFetchingSingle=!0,b(l)},fetchSingleSuccess:function fetchSingleSuccess(l,d){var p=d.data,g=p[h].toString();m().set(l.entities,g,p),l.isFetchingSingle=!1,l.fetchSingleError=null,y(l,d)},fetchSingleError:function fetchSingleError(l,d){l.fetchSingleError=d,l.isFetchingSingle=!1,w(l,d)}}),p.includes("CREATE")&&Object.assign($,{createStart:function createStart(l){l.isCreating=!0,C(l)},createSuccess:function createSuccess(l,d){var p=d.data,g=p[h].toString();m().set(l.entities,g,p),l.isCreating=!1,l.createError=null,x(l,d)},createError:function createError(l,d){l.createError=d,l.isCreating=!1,S(l,d)}}),p.includes("UPDATE")&&Object.assign($,{updateStart:function updateStart(l){l.isUpdating=!0,k(l)},updateSuccess:function updateSuccess(l,d){var p=d.data,g=p[h].toString();m().set(l.entities,g,p);var v=l.list.indexOf(g);v>=0&&m().set(l.list,v,g),l.isUpdating=!1,l.updateError=null,P(l,d)},updateError:function updateError(l,d){l.updateError=d,l.isUpdating=!1,O(l,d)}}),p.includes("REPLACE")&&Object.assign($,{replaceStart:function replaceStart(l){l.isReplacing=!0,j(l)},replaceSuccess:function replaceSuccess(l,d){var p=d.data,g=p[h].toString();m().set(l.entities,g,p);var v=l.list.indexOf(g);v>=0&&m().set(l.list,v,g),l.isReplacing=!1,l.replaceError=null,T(l,d)},replaceError:function replaceError(l,d){l.replaceError=d,l.isReplacing=!1,E(l,d)}}),p.includes("DESTROY")&&Object.assign($,{destroyStart:function destroyStart(l){l.isDestroying=!0,A(l)},destroySuccess:function destroySuccess(l,d,p){var h=l.list.indexOf(d.toString());h>=0&&m().delete(l.list,h),m().delete(l.entities,d.toString()),l.isDestroying=!1,l.destroyError=null,L(l,p)},destroyError:function destroyError(l,d){l.destroyError=d,l.isDestroying=!1,F(l,d)}}),Object.assign($,d)};const R=function createState(l){var d=l.state,p=l.only,h={entities:{},list:[]};return p.includes("FETCH_LIST")&&Object.assign(h,{isFetchingList:!1,fetchListError:null}),p.includes("FETCH_SINGLE")&&Object.assign(h,{isFetchingSingle:!1,fetchSingleError:null}),p.includes("CREATE")&&Object.assign(h,{isCreating:!1,createError:null}),p.includes("UPDATE")&&Object.assign(h,{isUpdating:!1,updateError:null}),p.includes("REPLACE")&&Object.assign(h,{isReplacing:!1,replaceError:null}),p.includes("DESTROY")&&Object.assign(h,{isDestroying:!1,destroyError:null}),Object.assign(h,d)};const N=function createCrud(){var l,d,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},h=p.idAttribute,m=void 0===h?"id":h,g=p.resource,v=p.urlRoot,_=p.customUrlFn,b=void 0===_?null:_,y=p.state,w=void 0===y?{}:y,C=p.actions,x=void 0===C?{}:C,S=p.mutations,k=void 0===S?{}:S,P=p.getters,O=void 0===P?{}:P,j=p.client,T=void 0===j?D:j,E=p.onFetchListStart,A=void 0===E?function(){}:E,L=p.onFetchListSuccess,F=void 0===L?function(){}:L,$=p.onFetchListError,N=void 0===$?function(){}:$,q=p.onFetchSingleStart,B=void 0===q?function(){}:q,V=p.onFetchSingleSuccess,W=void 0===V?function(){}:V,H=p.onFetchSingleError,Z=void 0===H?function(){}:H,z=p.onCreateStart,K=void 0===z?function(){}:z,G=p.onCreateSuccess,Y=void 0===G?function(){}:G,J=p.onCreateError,Q=void 0===J?function(){}:J,X=p.onUpdateStart,tt=void 0===X?function(){}:X,et=p.onUpdateSuccess,nt=void 0===et?function(){}:et,it=p.onUpdateError,rt=void 0===it?function(){}:it,at=p.onReplaceStart,st=void 0===at?function(){}:at,ot=p.onReplaceSuccess,ct=void 0===ot?function(){}:ot,lt=p.onReplaceError,ut=void 0===lt?function(){}:lt,dt=p.onDestroyStart,pt=void 0===dt?function(){}:dt,ft=p.onDestroySuccess,ht=void 0===ft?function(){}:ft,mt=p.onDestroyError,gt=void 0===mt?function(){}:mt,vt=p.only,_t=void 0===vt?["FETCH_LIST","FETCH_SINGLE","CREATE","UPDATE","REPLACE","DESTROY"]:vt,bt=p.parseList,yt=void 0===bt?function(l){return l}:bt,wt=p.parseSingle,Ct=void 0===wt?function(l){return l}:wt,xt=p.parseError,St=void 0===xt?function(l){return l}:xt;if(!g)throw new Error("Resource name must be specified");return l="function"==typeof b?b:"string"==typeof v?"/"===(d=v).substr(-1)?d.slice(0,-1):d:"/api/".concat(g),{namespaced:!0,state:R({state:w,only:_t}),actions:I({actions:x,rootUrl:l,only:_t,client:T,parseList:yt,parseSingle:Ct,parseError:St}),mutations:U({mutations:k,idAttribute:m,only:_t,onFetchListStart:A,onFetchListSuccess:F,onFetchListError:N,onFetchSingleStart:B,onFetchSingleSuccess:W,onFetchSingleError:Z,onCreateStart:K,onCreateSuccess:Y,onCreateError:Q,onUpdateStart:tt,onUpdateSuccess:nt,onUpdateError:rt,onReplaceStart:st,onReplaceSuccess:ct,onReplaceError:ut,onDestroyStart:pt,onDestroySuccess:ht,onDestroyError:gt}),getters:M({getters:O})}};function client_typeof(l){return client_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},client_typeof(l)}function _defineProperties(l,d){for(var p=0;p<d.length;p++){var h=d[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,(m=h.key,g=void 0,g=function client_toPrimitive(l,d){if("object"!==client_typeof(l)||null===l)return l;var p=l[Symbol.toPrimitive];if(void 0!==p){var h=p.call(l,d||"default");if("object"!==client_typeof(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(m,"string"),"symbol"===client_typeof(g)?g:String(g)),h)}var m,g}function _classCallCheck(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}function _setPrototypeOf(l,d){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(l,d){return l.__proto__=d,l},_setPrototypeOf(l,d)}function _createSuper(l){var d=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(l){return!1}}();return function _createSuperInternal(){var p,h=_getPrototypeOf(l);if(d){var m=_getPrototypeOf(this).constructor;p=Reflect.construct(h,arguments,m)}else p=h.apply(this,arguments);return _possibleConstructorReturn(this,p)}}function _possibleConstructorReturn(l,d){if(d&&("object"===client_typeof(d)||"function"==typeof d))return d;if(void 0!==d)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}(l)}function _getPrototypeOf(l){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(l){return l.__proto__||Object.getPrototypeOf(l)},_getPrototypeOf(l)}var q=function(l){!function _inherits(l,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(d&&d.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),d&&_setPrototypeOf(l,d)}(client,l);var d=_createSuper(client);function client(){return _classCallCheck(this,client),d.apply(this,arguments)}return function _createClass(l,d,p){return d&&_defineProperties(l.prototype,d),p&&_defineProperties(l,p),Object.defineProperty(l,"prototype",{writable:!1}),l}(client)}(F().create({headers:{"X-CSRF-TOKEN":window.getCsrfToken(),Accept:"application/json","Content-Type":"application/json"}})),B=function parseResponse(l){return{data:l.data.data}},V=function parseResponseWithPaginate(l){var d=l.data;return Object.assign({},l,{data:d.data,pagination:d.pagination})},W=function parseTags(l){var d={};for(var p in l.data.data){var h=l.data.data[p],m=h.atag_type?h.atag_type:{id:0,name:"Autres",exclusive:!1,order:1e3};d[m.name]||(d[m.name]=Object.assign({atags:[]},m)),d[m.name].atags.push(h)}var g=Object.keys(d).sort((function(l,p){return d[l].order-d[p].order})),v=[];for(var _ in g)v.push(d[g[_]]);return{data:v}};const H={namespaced:!0,state:function state(){return{selection:{files:[],token:""},upload:{atags:[],files:[],inputs:{}},aParams:{uuid:"",atags:"",filters:"",type:"",sort:"date",direction:"desc",search:"",date:"",refresh:"",page:1},tParams:{uuid:""},pagination:{},settings:{},preview:{},infos:{},aarchives:[]}},mutations:{addFileToSelection:function addFileToSelection(l,d){l.selection.files.length>0&&"belongsTo"==l.settings.relation&&(l.selection.files=[]),l.selection.files.push(d)},removeFileFromSelection:function removeFileFromSelection(l,d){var p=l.selection.files.findIndex((function(l){return l.id===d.id}));l.selection.files.splice(p,1)},flushSelection:function flushSelection(l,d){l.selection.files=[]},"selection.files":function selectionFiles(l,d){l.selection.files=d},"selection.token":function selectionToken(l,d){l.selection.token=d},addUploadedFile:function addUploadedFile(l,d){l.upload.files.push(d)},flushUploadedFiles:function flushUploadedFiles(l,d){l.upload.files=[]},upload:function upload(l,d){l.upload=d},aParams:function aParams(l,d){l.aParams=d},pagination:function pagination(l,d){l.pagination=d},settings:function settings(l,d){l.settings=d},preview:function preview(l,d){l.preview=d},infos:function infos(l,d){l.infos=d},aarchives:function aarchives(l,d){l.aarchives=d},addAarchives:function addAarchives(l,d){l.aarchives.push(d)},flushAarchives:function flushAarchives(l,d){l.aarchives=[]}}},Z={props:{aid:String,settings:Object},data:function data(){return{mode:"browse",overlay:!1,loading:!1}},created:function created(){var l=this;this.aid=this.aid.replace(/\./g,""),this.$store.registerModule(this.aid,Object.assign({},H)),this.$store.registerModule(this.aid+"/attachments",N({resource:"attachments",urlRoot:this.settings.url+"attachment/attachments",client:q,parseSingle:B,parseList:V,onFetchListStart:function onFetchListStart(){l.loading=!0},onFetchListSuccess:function onFetchListSuccess(d,p){l.loading=!1,l.$store.set(l.aid+"/pagination",p.pagination)}})),this.$store.registerModule(this.aid+"/atags",N({resource:"atags",urlRoot:this.settings.url+"attachment/atags",client:q,parseSingle:B,parseList:W})),this.$store.registerModule(this.aid+"/token",N({resource:"token",only:["CREATE"],urlRoot:this.settings.url+"attachment/download/get-zip-token",client:q,idAttribute:"token",onCreateSuccess:function onCreateSuccess(d,p){l.$store.set(l.aid+"/selection.token",p.data.token)}})),this.$store.registerModule(this.aid+"/size",N({resource:"size",urlRoot:this.settings.url+"attachment/attachments/get-size",client:q,parseList:B,idAttribute:"uuid"})),this.$store.registerModule(this.aid+"/aarchives",N({resource:"aarchives",only:["CREATE"],urlRoot:this.settings.url+"attachment/aarchives",client:q,parseSingle:B})),this.overlay=this.settings.overlay,this.mode=this.settings.mode,this.$store.set(this.aid+"/settings",this.settings),"input"==this.mode&&this.settings.attachments.length>0&&this.$store.set(this.aid+"/selection.files",this.settings.attachments),q.baseURL=this.settings.url},beforeDestroy:function beforeDestroy(){this.$store.unregisterModule(this.aid),this.$store.unregisterModule(this.aid+"/attachments"),this.$store.unregisterModule(this.aid+"/atags"),this.$store.unregisterModule(this.aid+"/token"),this.$store.unregisterModule(this.aid+"/aarchives")}};var z=__webpack_require__(980),K=__webpack_require__.n(z),G=function render(){var l=this,d=l._self._c;return d("section",{staticClass:"section-attachment--atags"},[l.atagTypes?d("ul",{staticClass:"list-unstyled section-attachment__list"},[l._l(l.filters,(function(p,h){return l.upload||l.visibility.hiddenValues.filters.includes(p.slug)?l._e():d("li",[d("div",{staticClass:"section-attachment__list-title d-flex flex-row justify-content-between"},[d("p",{staticClass:"text--upper mb-0 color--grey-light-text"},[l._v(l._s(p.label))])]),l._v(" "),d("ul",{staticClass:"list-unstyled section-attachment__sublist"},l._l(p.options,(function(p,m){return d("li",{key:m,staticClass:"d-flex flex-row justify-content-between align-items-center",class:{active:l.checkFilterActive(h,m,p.slug)},on:{click:function click(d){p.isActive=!p.isActive,l.$forceUpdate(),l.filterOption(p.slug)}}},[l._v("\n          "+l._s(p.label)+" "),d("input",{attrs:{type:"checkbox"},domProps:{checked:l.checkFilterActive(h,m,p.slug)}})])})),0)])})),l._v(" "),l._l(l.atagTypes,(function(p,h){return l.visibility.hiddenValues.atagTypes.includes(p.slug)?l._e():d("li",[d("div",{staticClass:"section-attachment__list-title d-flex flex-row justify-content-between"},[d("p",{staticClass:"text--upper mb-0 color--grey-light-text"},[l._v(l._s(p.name))])]),l._v(" "),d("ul",{staticClass:"list-unstyled section-attachment__sublist"},l._l(p.atags,(function(p,m){return l.visibility.hiddenValues.atags.includes(p.slug)?l._e():d("li",{staticClass:"d-flex flex-row justify-content-between align-items-center",class:{active:l.upload?p.isActive:l.checkActive(h,m,p.name)},on:{click:function click(d){return l.toggle(h,m)}}},[l._v("\n          "+l._s(p.name)+" "),d("input",{attrs:{type:"checkbox"},domProps:{checked:l.upload?p.isActive:l.checkActive(h,m,p.name)}})])})),0)])}))],2):l._e()])};G._withStripped=!0;const Y={name:"attachment-atags",props:{aid:String,upload:Boolean,filters:Array,options:Object},data:function data(){return{visibility:{default:{visible:!0,model:"*",slug:"*",atags:"*",types:"*",filters:"*"},hiddenValues:{filters:[],atagTypes:[],atags:[]}}}},computed:{atagTypes:function atagTypes(){return this.$store.get(this.aid+"/atags/list").map((function(l,d){var p=l.atags.map((function(l,d){return Object.assign({index:d},l)}));return Object.assign({index:d},l,{atags:p,isActive:!1})}))},aParams:function aParams(){return this.$store.get(this.aid+"/aParams")},visibilityParams:function visibilityParams(){for(var visibilityParams=[this.visibility.default],l=0;l<this.options.visibility.length;l++){var d=Object.assign({},this.visibility.default);visibilityParams.push(Object.assign(d,this.options.visibility[l]))}return visibilityParams}},watch:{aParams:{handler:function handler(){this.checkForHiddenOptions(),this.removeTagsActived(),this.checkAllActived()},deep:!0}},created:function created(){},mounted:function mounted(){this.checkForHiddenOptions()},methods:{toggle:function toggle(l,d){if(this.atagTypes[l].exclusive&&this.upload)for(var p in this.atagTypes[l].atags)p!=d&&(this.atagTypes[l].atags[p].isActive=!1);this.atagTypes[l].atags[d].isActive?this.atagTypes[l].atags[d].isActive=!1:this.atagTypes[l].atags[d].isActive=!0,this.$forceUpdate();var h=[];for(var m in this.atagTypes)for(var g in this.atagTypes[m].atags)this.atagTypes[m].atags[g].isActive&&h.push(this.atagTypes[m].atags[g].name);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:h.join(","),page:1})),this.upload&&(this.$store.set(this.aid+"/upload",Object.assign(this.$store.get(this.aid+"/upload"),{atags:h})),this.checkForHiddenOptions())},filterOption:function filterOption(l){if(!this.upload){var d=[];for(var p in this.filters)for(var h in this.filters[p].options)this.filters[p].options[h].isActive&&d.push(this.filters[p].options[h].slug);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{filters:d.join(","),page:1}))}},checkActive:function checkActive(l,d,p){return this.atagTypes[l].atags[d].isActive=1==this.aParams.atags.split(",").includes(p),1==this.aParams.atags.split(",").includes(p)},checkAllActived:function checkAllActived(){for(var l=0;l<this.atagTypes.length;l++)for(var d=0;d<this.atagTypes[l].atags.length;d++)this.atagTypes[l].atags[d].isActive=1==this.aParams.atags.split(",").includes(this.atagTypes[l].atags[d].name)},checkFilterActive:function checkFilterActive(l,d,p){return this.filters[l].options[d].isActive=-1!==this.aParams.filters.indexOf(p),-1!==this.aParams.filters.indexOf(p)},removeTagsActived:function removeTagsActived(){var l=this,d=!1;if(this.visibility.hiddenValues.atagTypes.length>0){d=!0;for(var p=function _loop(d){var p=l.visibility.hiddenValues.atagTypes[d],h=l.atagTypes.find((function(l){return l.slug===p}));if(h)for(var m=0;m<h.atags.length;m++)h.atags[m].isActive=!1},h=0;h<this.visibility.hiddenValues.atagTypes.length;h++)p(h)}if(d){var m=[],g=this;setTimeout((function(){for(var l in g.atagTypes)for(var d in g.atagTypes[l].atags)g.atagTypes[l].atags[d].isActive&&m.push(g.atagTypes[l].atags[d].name);g.$store.set(g.aid+"/aParams",Object.assign(g.$store.get(g.aid+"/aParams"),{atags:m.join(","),page:1}))}),0)}},checkForHiddenOptions:function checkForHiddenOptions(){var l=this;if("browse"==this.$parent.mode)for(var d=this.visibility.hiddenValues,p=function _loop2(){var p=l.visibilityParams[h],m=1;if("*"!=p.atags)for(var g=0;g<p.atags.length;g++)if(!l.aParams.atags.split(",").includes(p.atags[g])){m=0;break}if("*"!=p.types&&m)for(var v=0;v<p.types.length;v++)if(!l.aParams.type.split(",").includes(p.types[v])){m=0;break}if("*"!=p.filters&&m)for(var _=0;_<p.filters.length;_++)if(!l.aParams.filters.split(",").includes(p.filters[_])){m=0;break}if(m)switch(p.model){case"*":d.filters=[],d.atagTypes=[],d.atags=[];break;case"Filters":p.visible?d.filters=d.filters.filter((function(l){return l!=p.slug})):-1==d.filters.indexOf(p.slug)&&d.filters.push(p.slug);break;case"AtagTypes":p.visible?d.atagTypes=d.atagTypes.filter((function(l){return l!=p.slug})):-1==d.atagTypes.indexOf(p.slug)&&d.atagTypes.push(p.slug);break;case"Atags":if(p.visible)d.atags=d.atags.filter((function(l){return l!=p.slug}));else for(var b=0;b<p.slug.length;b++)-1==d.atags.indexOf(p.slug[b])&&d.atags.push(p.slug[b])}},h=0;h<this.visibilityParams.length;h++)p();this.$forceUpdate()}}},J=Y;const Q=(0,j.Z)(J,G,[],!1,null,null,null).exports;var X=function render(){var l=this,d=l._self._c;return d("thumbInfo"==l.mode?"tbody":"div",{tag:"div",on:{mouseover:function mouseover(d){l.hover=!0},mouseleave:function mouseleave(d){l.hover=!1}}},["input"==l.mode?d("div",[d("div",{staticClass:"card attachment-input"},[d("div",{staticClass:"attachment-input__icon-container"},[d("div",[l.$options.filters.isThumbable(l.attachment,l.hasCustomThumbService)?d("img",{staticClass:"card-img-top",attrs:{src:l.thumbBaseUrl("w678c4-3q90",l.attachment)}}):l._e(),l._v(" "),d("span",{domProps:{innerHTML:l._s(l.$options.filters.icon(l.attachment))}}),l._v(" "),d("div",{staticClass:"attachment-thumb__hover"},[l.isSelected(l.attachment.id)?d("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[d("icon-check"),l._v(" "),d("div",{staticClass:"utils--spacer-mini"}),l._v("\n              fichier selectionnÃ©\n            ")],1):l._e(),l._v(" "),l.hover?d("div",{staticClass:"attachment-thumb__actions d-flex flex-column justify-content-end align-items-end"},[d("div",{staticClass:"btn-group"},[l.settings.groupActions.length>0?d("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter Ã  la sÃ©lection",alt:"Ajouter Ã  la sÃ©lection"},on:{click:function click(d){return l.toggleFile(l.attachment)}}},[l.isSelected(l.attachment.id)?d("i",{staticClass:"material-icons"},[l._v(" remove_circle ")]):d("i",{staticClass:"material-icons"},[l._v(" add_circle ")])]):l._e()])]):l._e()])])]),l._v(" "),d("div",{staticClass:"card-body"},[d("p",{staticClass:"card-text small"},[l.attachment.title?d("span",[l._v(l._s(l.attachment.title)),d("br")]):l._e(),l._v("\n          "+l._s(l.attachment.name)),d("br")]),l._v(" "),"belongsToMany"==l.settings.relation?d("input",{attrs:{type:"hidden",name:"attachments["+l.index+"][id]"},domProps:{value:l.attachment.id}}):l._e(),l._v(" "),"belongsToMany"==l.settings.relation?d("input",{attrs:{type:"hidden",name:"attachments["+l.index+"][_joinData][order]"},domProps:{value:l.index}}):l._e(),l._v(" "),"belongsToMany"!=l.settings.relation?d("input",{attrs:{type:"hidden",name:l.settings.field},domProps:{value:l.attachment.id}}):l._e()])])]):"thumb"==l.mode?d("div",[d("div",{staticClass:"card attachment-thumb"},[d("div",{staticClass:"attachment-thumb__icon-container"},[d("div",[l.$options.filters.isThumbable(l.attachment,l.hasCustomThumbService)?d("img",{staticClass:"card-img-top",attrs:{alt:"",src:l.thumbBaseUrl("w678c4-3q90",l.attachment)}}):l._e(),l._v(" "),d("span",{domProps:{innerHTML:l._s(l.$options.filters.icon(l.attachment))}}),l._v(" "),d("div",{staticClass:"attachment-thumb__hover",on:{click:function click(d){return l.previewThumb(d,l.attachment)}}},[l.isSelected(l.attachment.id)?d("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[d("icon-check"),l._v(" "),d("div",{staticClass:"utils--spacer-mini"}),l._v("\n              fichier selectionnÃ©\n            ")],1):l._e(),l._v(" "),l.hover?d("div",{staticClass:"attachment-thumb__actions d-flex flex-column justify-content-end align-items-end"},[d("div",{staticClass:"btn-group"},[d("div",{staticClass:"btn btn--grey color--white",attrs:{title:"Infos",alt:"Infos"},on:{click:function click(d){return l.infos(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v("info")])]),l._v(" "),d("div",{staticClass:"btn btn--green color--white",attrs:{title:"AperÃ§u",alt:"AperÃ§u"},on:{click:function click(d){return l.preview(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" remove_red_eye")])]),l._v(" "),-1!=l.settings.actions.indexOf("download")?d("div",{staticClass:"btn btn--blue color--white",attrs:{title:"TÃ©lÃ©charger",alt:"TÃ©lÃ©charger"},on:{click:function click(d){return l.downloadFile(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" cloud_download ")])]):l._e(),l._v(" "),l.settings.groupActions.length>0?d("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter Ã  la sÃ©lection",alt:"Ajouter Ã  la sÃ©lection"},on:{click:function click(d){return l.toggleFile(l.attachment)}}},[l.isSelected(l.attachment.id)?d("i",{staticClass:"material-icons"},[l._v(" remove_circle ")]):d("i",{staticClass:"material-icons"},[l._v(" add_circle ")])]):l._e()])]):l._e()])])]),l._v(" "),d("div",{staticClass:"card-body"},[d("p",{staticClass:"card-text small"},[l.attachment.title?d("span",[l._v(l._s(l.attachment.title)),d("br")]):l._e(),l._v("\n          "+l._s(l.attachment.name)),d("br")])])])]):"thumbInfo"==l.mode?d("tr",[d("td",[d("div",{staticClass:"attachment-thumb__icon-container table"},[d("div",[l.$options.filters.isThumbable(l.attachment,l.hasCustomThumbService)?d("img",{staticClass:"card-img-top",attrs:{alt:"",src:l.thumbBaseUrl("w60c1-1q75",l.attachment),width:"60"}}):l._e(),l._v(" "),d("span",{domProps:{innerHTML:l._s(l.$options.filters.icon(l.attachment))}})])])]),l._v(" "),d("td",[l.attachment.title?d("span",[l._v(l._s(l.attachment.title)+" | ")]):l._e(),l._v("\n      "+l._s(l.attachment.name)),d("br"),l._v("\n      "+l._s(l.attachment.date)),d("br"),l._v("\n      "+l._s(l._f("decimal")(l._f("bytesToMegaBytes")(l.attachment.size),2))+" MB\n    ")]),l._v(" "),d("td",{staticClass:"text-right"},[d("div",{staticClass:"btn-group attachment__actions"},[d("div",{staticClass:"btn btn--grey color--white",attrs:{title:"Infos",alt:"Infos"},on:{click:function click(d){return l.infos(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v("info")])]),l._v(" "),"application"!=l.attachment.type||"application"==l.attachment.type&&"pdf"==l.attachment.subtype?d("div",{staticClass:"btn btn--green color--white",attrs:{title:"AperÃ§u",alt:"AperÃ§u"},on:{click:function click(d){return l.preview(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" remove_red_eye ")])]):l._e(),l._v(" "),d("div",{staticClass:"btn btn--blue color--white",attrs:{title:"TÃ©lÃ©charger",alt:"TÃ©lÃ©charger"},on:{click:function click(d){return l.downloadFile(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" cloud_download ")])]),l._v(" "),d("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter Ã  la sÃ©lection",alt:"Ajouter Ã  la sÃ©lection"},on:{click:function click(d){return l.toggleFile(l.attachment)}}},[l.isSelected(l.attachment.id)?d("i",{staticClass:"material-icons"},[l._v(" remove_circle ")]):d("i",{staticClass:"material-icons"},[l._v(" add_circle ")])])])])]):"mosaic"==l.mode?d("div",{staticClass:"attachment-thumb"},[l.$options.filters.isThumbable(l.attachment,l.hasCustomThumbService)?d("img",{staticClass:"img-fluid",attrs:{alt:"",src:l.thumbBaseUrl("w678q90",l.attachment)}}):l._e(),l._v(" "),d("div",{staticClass:"attachment-thumb__hover"},[l.isSelected(l.attachment.id)?d("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[d("icon-check"),l._v(" "),d("div",{staticClass:"utils--spacer-mini"}),l._v("\n        fichier selectionnÃ©\n      ")],1):l._e(),l._v(" "),l.hover?d("div",{staticClass:"attachment-thumb__actions d-flex flex-column justify-content-end align-items-end"},[d("div",{staticClass:"btn-group"},[d("div",{staticClass:"btn btn--grey color--white",attrs:{title:"Infos",alt:"Infos"},on:{click:function click(d){return l.infos(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v("info")])]),l._v(" "),"application"!=l.attachment.type||"application"==l.attachment.type&&"pdf"==l.attachment.subtype?d("div",{staticClass:"btn btn--green color--white",attrs:{title:"AperÃ§u",alt:"AperÃ§u"},on:{click:function click(d){return l.preview(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" remove_red_eye ")])]):l._e(),l._v(" "),d("div",{staticClass:"btn btn--blue color--white",attrs:{title:"TÃ©lÃ©charger",alt:"TÃ©lÃ©charger"},on:{click:function click(d){return l.downloadFile(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" cloud_download ")])]),l._v(" "),d("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter Ã  la sÃ©lÃ©ction",alt:"Ajouter Ã  la sÃ©lÃ©ction"},on:{click:function click(d){return l.toggleFile(l.attachment)}}},[l.isSelected(l.attachment.id)?d("i",{staticClass:"material-icons"},[l._v(" remove_circle ")]):d("i",{staticClass:"material-icons"},[l._v(" add_circle ")])])])]):l._e()])]):l._e()])};X._withStripped=!0;var tt=function render(){var l=this._self._c;return l("svg",{attrs:{width:"11px",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[l("polygon",{attrs:{points:"4.0228267 8.0304708 0.4925532 4.5001974 1.5531 3.4396503 4.0228267 5.9093771 9.4925528 0.4396504 10.5530996 1.5001973"}})])};tt._withStripped=!0;const et={};function Attachmentvue_type_script_lang_js_typeof(l){return Attachmentvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Attachmentvue_type_script_lang_js_typeof(l)}function Attachmentvue_type_script_lang_js_ownKeys(l,d){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(l);d&&(h=h.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),p.push.apply(p,h)}return p}function Attachmentvue_type_script_lang_js_objectSpread(l){for(var d=1;d<arguments.length;d++){var p=null!=arguments[d]?arguments[d]:{};d%2?Attachmentvue_type_script_lang_js_ownKeys(Object(p),!0).forEach((function(d){Attachmentvue_type_script_lang_js_defineProperty(l,d,p[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):Attachmentvue_type_script_lang_js_ownKeys(Object(p)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(p,d))}))}return l}function Attachmentvue_type_script_lang_js_defineProperty(l,d,p){return(d=function Attachmentvue_type_script_lang_js_toPropertyKey(l){var d=function Attachmentvue_type_script_lang_js_toPrimitive(l,d){if("object"!==Attachmentvue_type_script_lang_js_typeof(l)||null===l)return l;var p=l[Symbol.toPrimitive];if(void 0!==p){var h=p.call(l,d||"default");if("object"!==Attachmentvue_type_script_lang_js_typeof(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===Attachmentvue_type_script_lang_js_typeof(d)?d:String(d)}(d))in l?Object.defineProperty(l,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[d]=p,l}const nt={name:"attachment",components:{"icon-check":(0,j.Z)(et,tt,[],!1,null,null,null).exports},props:{attachment:Object,index:Number,aid:String,mode:String},data:function data(){return{hover:!1,requestArchive:0,hasCustomThumbService:"thumbnails"!==this.$store.get(this.aid+"/settings.profiles."+this.attachment.profile).thumbnails}},computed:{settings:function settings(){return this.$store.get(this.aid+"/settings")},selectedFiles:function selectedFiles(){return this.$store.get(this.aid+"/selection.files")}},mounted:function mounted(){this.checkForArchiveProcessing()},methods:Attachmentvue_type_script_lang_js_objectSpread(Attachmentvue_type_script_lang_js_objectSpread({},(0,d.mapActions)({fetchAttachment:function fetchAttachment(l,d){return l(this.aid+"/attachments/fetchSingle",d)}})),{},{thumbBaseUrl:function thumbBaseUrl(l,d){var p="string"==typeof d?__WEBROOT__+"thumbnails/":this.$store.get(this.aid+"/settings.baseUrls."+d.profile+".thumbnails"),h=d.thumb_params?d.thumb_params:"";return p+("string"==typeof d?"default/"+l+"/"+d:d.profile+"/"+l+"/"+d.path+h)},toggleFile:function toggleFile(l){-1==this.selectedFiles.findIndex((function(d){return d.id===l.id}))?this.$store.commit(this.aid+"/addFileToSelection",l):this.$store.commit(this.aid+"/removeFileFromSelection",l)},isSelected:function isSelected(l){return-1!==this.selectedFiles.findIndex((function(d){return d.id===l}))},forceFileDownload:function forceFileDownload(l,d){if(navigator.appVersion.toString().indexOf(".NET")>0)window.navigator.msSaveBlob(new Blob([l.data],{type:l.headers["content-type"]}),d.name);else{var p=window.URL.createObjectURL(new Blob([l.data],{type:l.headers["content-type"]})),h=document.createElement("a");h.href=p,h.setAttribute("download",d.name),document.body.appendChild(h),h.click()}},downloadFile:function downloadFile(l){var d=this;q.get(l.url,{responseType:"arraybuffer"}).then((function(p){d.forceFileDownload(p,l)})).catch((function(l){return console.log(l)}))},previewThumb:function previewThumb(l,d){console.log(l.target.tagName),"DIV"===l.target.tagName&&(this.$store.set(this.aid+"/preview",d),this.$forceUpdate())},preview:function preview(l){this.$store.set(this.aid+"/preview",l),this.$forceUpdate()},infos:function infos(l){this.$store.set(this.aid+"/infos",l),this.$forceUpdate()},checkForArchiveProcessing:function checkForArchiveProcessing(){this.attachment.aarchive&&"PROCESSING"==this.attachment.aarchive.state&&setTimeout(function(){this.checkStatus()}.bind(this),5e3)},checkStatus:function checkStatus(){var l=this;this.requestArchive++,this.requestArchive<=30&&this.fetchAttachment({customUrl:this.settings.url+"attachment/attachments/view/"+this.attachment.id}).then((function(d){var p=d.data.data;"PROCESSING"==p.aarchive.state?setTimeout(function(){this.checkStatus()}.bind(l),5e3):(l.attachment=p,l.$forceUpdate())})).catch((function(){return console.log("error occured")}))}})},it=nt;const rt=(0,j.Z)(it,X,[],!1,null,null,null).exports;var at=function render(){var l=this,d=l._self._c;return d("section",{staticClass:"section-attachment--index"},[d("div",{staticClass:"section__header"},[d("attachment-search-bar",{attrs:{aid:l.aid}}),l._v(" "),d("div",{staticClass:"utils--spacer-semi"}),l._v(" "),d("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[d("ul",{staticClass:"list-unstyled"},[d("li",[d("ul",{staticClass:"list-unstyled list-inline"},l._l(l.settings.browse.types,(function(p,h){return d("li",{key:h,staticClass:"text--upper list-inline-item pointer",class:{active:l.types.current==p.mime.join(",")},on:{click:function click(d){l.types.current=p.mime.join(","),l.$forceUpdate(),l.filterType()}}},[d("strong",[l._v(l._s(p.label))])])})),0)])]),l._v(" "),d("div",{staticClass:"d-flex flex-row align-items-center"},[l._v("\n        "+l._s(l.selectedFiles.length)+" fichier(s) selectionnÃ©(s)Â Â \n        "),d("div",{staticClass:"btn-group"},[d("form",{ref:"dform",attrs:{action:l.$store.get(this.aid+"/settings.url")+"attachment/download/files",method:"POST"}},[d("input",{directives:[{name:"model",rawName:"v-model",value:l.downloadToken,expression:"downloadToken"}],attrs:{type:"hidden",name:"token"},domProps:{value:l.downloadToken},on:{input:function input(d){d.target.composing||(l.downloadToken=d.target.value)}}})]),l._v(" "),l.selectedFiles.length>0&&-1!=l.settings.groupActions.indexOf("select")?d("button",{staticClass:"btn btn--blue mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:l.confirmSelection}},[l._v("\n            CHOISIR\n          ")]):l._e(),l._v(" "),l.selectedFiles.length>0&&-1!=l.settings.groupActions.indexOf("archive")?d("button",{staticClass:"btn btn--blue mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:l.requestArchive}},[l._v("\n            TÃLÃCHARGER\n          ")]):l._e(),l._v(" "),l.selectedFiles.length>0&&-1!=l.settings.groupActions.indexOf("edit")?d("button",{staticClass:"btn btn--orange mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:l.editSelection}},[l._v("\n            EDITER\n          ")]):l._e(),l._v(" "),l.selectedFiles.length>0&&-1!=l.settings.groupActions.indexOf("tinymce")?d("button",{staticClass:"btn btn--orange mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:l.editorOptions}},[l._v("\n            AJOUTER A L'ÃDITEUR\n          ")]):l._e(),l._v(" "),l.selectedFiles.length>0&&-1!=l.settings.groupActions.indexOf("delete")?d("button",{staticClass:"btn btn--red mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:l.deleteSelection}},[l._v("\n            SUPPRIMER\n          ")]):l._e()])])]),l._v(" "),d("div",{staticClass:"utils--spacer-semi"}),l._v(" "),d("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[d("div",[l.aParams.atags||l.aParams.filters?d("div",{staticClass:"f-flex flex-row"},[d("p",{staticClass:"small color--grey d-inline-block"},[l._v("Filtre(s): ")]),l._v(" "),l._l(l.aParams.atags.split(","),(function(p){return l.aParams.atags?d("span",{key:p,staticClass:"badge badge-secondary",on:{click:function click(d){return l.removeAtag(p)}}},[l._v(l._s(p)+" "),d("i",{staticClass:"material-icons"},[l._v("close")])]):l._e()})),l._v(" "),l._l(l.aParams.filters.split(","),(function(p){return l.aParams.filters?d("span",{key:l.atag,staticClass:"badge badge-secondary",on:{click:function click(d){return l.removeFilter(p)}}},[l._v(l._s(p)+" "),d("i",{staticClass:"material-icons"},[l._v("close")])]):l._e()})),l._v(" "),d("div",{staticClass:"utils--spacer-semi"})],2):l._e(),l._v(" "),d("div",{staticClass:"section__sort d-flex flex-row align-items-center"},[d("p",{staticClass:"small color--grey d-inline-block mb-0"},[l._v("Ordre: Â Â ")]),l._v(" "),d("select",{directives:[{name:"model",rawName:"v-model",value:l.direction,expression:"direction"}],staticClass:"no-select-2",on:{change:[function(d){var p=Array.prototype.filter.call(d.target.options,(function(l){return l.selected})).map((function(l){return"_value"in l?l._value:l.value}));l.direction=d.target.multiple?p:p[0]},l.changeOrder]}},[d("option",{attrs:{value:"desc"}},[l._v("Plus rÃ©cent en premier")]),l._v(" "),d("option",{attrs:{value:"asc"}},[l._v("Plus ancien en premier")])])])]),l._v(" "),d("div",{staticClass:"section__filter d-flex flex-row"},[d("button",{staticClass:"btn btn--white mb-0",class:{active:"thumb"==l.mode},attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="thumb"}}},[d("icon-grid")],1),l._v(" "),"image/*"==l.types.current?d("button",{staticClass:"btn btn--white mb-0",class:{active:"mosaic"==l.mode},attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="mosaic"}}},[d("icon-mosaic")],1):l._e(),l._v(" "),d("button",{staticClass:"btn btn--white mb-0",class:{active:"thumbInfo"==l.mode},attrs:{type:"button",name:"button"},on:{click:function click(d){l.mode="thumbInfo"}}},[d("icon-list")],1)])])],1),l._v(" "),l.attachments&&0==l.$parent.loading?d("div",{staticClass:"section__index"},[d("h3",{staticClass:"text-end"},[l.pagination&&l.pagination.count?d("span",[l._v(l._s(l.pagination.count))]):d("span",[l._v("0")]),l._v("\n      Fichiers\n      "),l.size.length?d("span",[l._v("  Â  | Â  "+l._s(l._f("decimal")(l._f("bytesToMegaBytes")(parseInt(l.size[0].size)),2))+" MB")]):l._e()]),l._v(" "),d("div",{staticClass:"utils--spacer-mini"}),l._v(" "),d("transition",{attrs:{name:"fade"}},["mosaic"==l.mode?d("div",{directives:[{name:"images-loaded",rawName:"v-images-loaded",value:l.imgReady,expression:"imgReady"}]},[d("div",{attrs:{id:"mosaic"}},l._l(l.attachments,(function(p,h){return d("div",{key:h,staticClass:"mosaic-img-container"},[d("attachment",{attrs:{index:h,aid:l.aid,mode:l.mode,attachment:p}})],1)})),0)]):"thumb"==l.mode?d("div",[d("div",[d("div",{staticClass:"row g-4"},l._l(l.attachments,(function(p,h){return d("div",{key:h,staticClass:"col-sm-6 col-md-4 col-lg-3 col-xl-2"},[d("attachment",{attrs:{index:h,aid:l.aid,mode:l.mode,attachment:p}})],1)})),0)])]):"thumbInfo"==l.mode?d("div",[d("table",{staticClass:"table w-100"},l._l(l.attachments,(function(p,h){return d("attachment",{key:h,attrs:{index:h,aid:l.aid,mode:l.mode,attachment:p}})})),1)]):l._e()]),l._v(" "),d("div",{staticClass:"clearfix"}),l._v(" "),d("div",{staticClass:"utils--spacer-semi"}),l._v(" "),l.pagination?d("div",[d("attachment-pagination",{attrs:{aid:l.aid,pagination:l.pagination,settings:l.settings}})],1):l._e()],1):l._e(),l._v(" "),1==l.$parent.loading?d("div",{staticClass:"text-center"},[d("img",{attrs:{src:"https://static.wgr.ch/attachment/loading.gif",alt:""}})]):l._e(),l._v(" "),d("attachment-preview",{attrs:{aid:l.aid,open:!1}}),l._v(" "),d("attachment-infos",{attrs:{aid:l.aid,open:!1}})],1)};at._withStripped=!0;var st=function render(){var l=this,d=l._self._c;return d("div",{attrs:{id:"attachment-pagination"}},[d("nav",[d("ul",{staticClass:"pagination"},[l.start?d("li",{staticClass:"page-item",class:{disabled:!l.pagination.has_prev_page}},[d("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"First"},on:{click:function click(d){return d.preventDefault(),l.changePage(1)}}},[d("span",{attrs:{"aria-hidden":"true"}},[l._v("premiÃ¨re")])])]):l._e(),l._v(" "),l.pagination.current_page-l.offset-1>1?d("li",{staticClass:"page-item"},[d("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"More"},on:{click:function click(d){return d.preventDefault(),l.changePage(l.pagination.current_page-l.offset-1)}}},[d("span",{attrs:{"aria-hidden":"true"}},[l._v("Â«"+l._s(l.pagination.current_page-l.offset-1))])])]):l._e(),l._v(" "),d("li",{staticClass:"page-item",class:{disabled:!l.pagination.has_prev_page}},[d("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function click(d){return d.preventDefault(),l.changePage(l.pagination.current_page-1)}}},[d("span",{attrs:{"aria-hidden":"true"}},[l._v("Â«")])])]),l._v(" "),l._l(l.array,(function(p,h){return d("li",{staticClass:"page-item",class:{active:p==l.pagination.current_page}},[d("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function click(d){return d.preventDefault(),l.changePage(p)}}},[l._v(l._s(p))])])})),l._v(" "),d("li",{staticClass:"page-item",class:{disabled:!l.pagination.has_next_page}},[d("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function click(d){return d.preventDefault(),l.changePage(l.pagination.current_page+1)}}},[d("span",{attrs:{"aria-hidden":"true"}},[l._v("Â»")])])]),l._v(" "),l.pagination.current_page+l.offset+1<l.pagination.page_count?d("li",{staticClass:"page-item"},[d("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"More"},on:{click:function click(d){return d.preventDefault(),l.changePage(l.pagination.current_page+l.offset+1)}}},[d("span",{attrs:{"aria-hidden":"true"}},[l._v(l._s(l.pagination.current_page+l.offset+1)+" Â»")])])]):l._e(),l._v(" "),l.end?d("li",{staticClass:"page-item",class:{disabled:!l.pagination.has_next_page}},[d("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Last"},on:{click:function click(d){return d.preventDefault(),l.changePage(l.pagination.page_count)}}},[d("span",{attrs:{"aria-hidden":"true"}},[l._v("derniÃ¨re")])])]):l._e()],2)]),l._v(" "),d("small",[l._v("\n    Page "+l._s(l.pagination.current_page)+" sur "+l._s(l.pagination.page_count)+" (total: "+l._s(l.pagination.count)+")\n  ")])])};st._withStripped=!0;const ot={name:"attachment-pagination",props:{aid:String,pagination:{type:Object,required:!0},settings:Object},data:function data(){return{lastPage:1,offset:4,start:!1,end:!1,from:1,to:2}},computed:{array:function array(){if(this.offset=this.settings.pagination.offset,this.start=this.settings.pagination.start,this.end=this.settings.pagination.end,1==this.pagination.page_count)return[];this.from=this.pagination.current_page-Math.floor(this.offset/2),this.from+this.offset>=this.pagination.page_count&&(this.from=this.pagination.current_page-(this.offset-(this.pagination.page_count-this.pagination.current_page))),this.from<1&&(this.from=1),this.to=this.from+this.offset,this.to>=this.pagination.page_count&&(this.to=this.pagination.page_count);for(var l=[],d=this.from;d<=this.to;)l.push(d),d++;return l},aParams:function aParams(){return this.$store.get(this.aid+"/aParams")}},methods:{changePage:function changePage(l){this.lastPage=this.pagination.current_page,this.pagination.current_page=l,this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{page:this.pagination.current_page}))}}};const ct=(0,j.Z)(ot,st,[],!1,null,null,null).exports;var lt=function render(){var l=this,d=l._self._c;return l.open&&l.attachment.id?d("div",{staticClass:"block-attachment--modal"},[d("div",{staticClass:"block-attachment__close",on:{click:function click(d){l.open=!1}}},[d("i",{staticClass:"material-icons"},[l._v(" clear ")])]),l._v(" "),d("div",{staticClass:"block-attachment__content"},[d("div",{staticClass:"arrow-left",on:{click:function click(d){return l.slide("prev")}}},[d("i",{staticClass:"material-icons"},[l._v(" chevron_left ")])]),l._v(" "),d("div",{staticClass:"arrow-right",on:{click:function click(d){return l.slide("next")}}},[d("i",{staticClass:"material-icons"},[l._v(" chevron_right ")])]),l._v(" "),d("div",{staticClass:"attachment-preview"},["image"==l.attachment.type?d("div",{staticClass:"attachment-preview-image"},[d("img",{key:l.attachment.id,staticClass:"img-fluid",attrs:{src:l.thumbBaseUrl("w".concat(l.attachment.width<1200?l.attachment.width:1200,"q95"),l.attachment)}})]):"video"==l.attachment.type?d("video",{staticClass:"img-fluid",attrs:{src:l.attachment.url,controls:""}}):"embed"==l.attachment.type?d("div",[l._v(l._s(l.attachment.embed))]):"pdf"==l.attachment.subtype?d("iframe",{staticClass:"w-100",attrs:{frameborder:"0",src:l.attachment.url}}):l._e(),l._v(" "),"application"!=l.attachment.type?d("div",{staticClass:"info-display",staticStyle:{color:"white"}},[l.attachment.title?d("strong",[l._v("\n          Titre : "+l._s(l.attachment.title)+" "),d("br")]):d("strong",[l._v("\n          Nom : "+l._s(l.attachment.name)+" "),d("br")]),l._v(" "),l.attachment.date?d("strong",[l._v("\n          Date : "+l._s(new Date(l.attachment.date).toLocaleDateString("fr-CH"))+" "+l._s(new Date(l.attachment.created).toLocaleTimeString("fr-CH",{hour:"2-digit",minute:"2-digit"}))+"\n        ")]):d("strong",[l._v("\n          Date : "+l._s(new Date(l.attachment.created).toLocaleDateString("fr-CH"))+" "+l._s(new Date(l.attachment.created).toLocaleTimeString("fr-CH",{hour:"2-digit",minute:"2-digit"}))+"\n        ")]),l._v(" "),d("div",{staticClass:"attachment-preview-actions"},[d("div",{staticClass:"btn-group"},[-1!=l.settings.actions.indexOf("download")?d("div",{staticClass:"btn btn--blue color--white",attrs:{title:"TÃ©lÃ©charger",alt:"TÃ©lÃ©charger"},on:{click:function click(d){return l.downloadFile(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" cloud_download ")])]):l._e()])])]):d("div",{staticClass:"info-display",staticStyle:{color:"white"}},["pdf"!=l.attachment.subtype?d("div",{staticClass:"file-logo"},[d("i",{staticClass:"material-icons",staticStyle:{color:"white","font-size":"84px"}},[l._v("insert_drive_file")])]):l._e(),l._v(" "),l.attachment.title?d("strong",[l._v("\n          Titre : "+l._s(l.attachment.title)+" "),d("br")]):d("strong",[l._v("\n          Nom : "+l._s(l.attachment.name)+" "),d("br")]),l._v(" "),d("strong",[l._v("Type : "+l._s(l.attachment.type)+"/"+l._s(l.attachment.subtype)+" "),d("br")]),l._v(" "),d("strong",[l._v("Poids : "+l._s(l._f("decimal")(l._f("bytesToMegaBytes")(l.attachment.size),2))+"MB "),d("br")]),l._v(" "),l.attachment.date?d("strong",[l._v("\n          Date : "+l._s(new Date(l.attachment.date).toLocaleDateString("fr-CH"))+" "+l._s(new Date(l.attachment.created).toLocaleTimeString("fr-CH",{hour:"2-digit",minute:"2-digit"}))+"\n        ")]):d("strong",[l._v("\n          Date : "+l._s(new Date(l.attachment.created).toLocaleDateString("fr-CH"))+" "+l._s(new Date(l.attachment.created).toLocaleTimeString("fr-CH",{hour:"2-digit",minute:"2-digit"}))+"\n        ")]),l._v(" "),d("div",{staticClass:"attachment-preview-actions"},[d("div",{staticClass:"btn-group"},[-1!=l.settings.actions.indexOf("download")?d("div",{staticClass:"btn btn--blue color--white",attrs:{title:"TÃ©lÃ©charger",alt:"TÃ©lÃ©charger"},on:{click:function click(d){return l.downloadFile(l.attachment)}}},[d("i",{staticClass:"material-icons"},[l._v(" cloud_download ")])]):l._e()])])])])])]):l._e()};lt._withStripped=!0;const ut={name:"preview",props:{aid:String},data:function data(){return{open:!1,slideCounter:1}},computed:{attachment:function attachment(){return this.$store.get(this.aid+"/preview")},settings:function settings(){return this.$store.get(this.aid+"/settings")}},watch:{attachment:function attachment(){this.open=!0}},created:function created(){},methods:{close:function close(){this.open=!1,this.$store.set(this.aid+"/infos",{})},downloadFile:function downloadFile(l){var d=this;q.get(l.url,{responseType:"arraybuffer"}).then((function(p){d.forceFileDownload(p,l)})).catch((function(l){return console.log(l)}))},forceFileDownload:function forceFileDownload(l,d){if(navigator.appVersion.toString().indexOf(".NET")>0)window.navigator.msSaveBlob(new Blob([l.data],{type:l.headers["content-type"]}),d.name);else{var p=window.URL.createObjectURL(new Blob([l.data],{type:l.headers["content-type"]})),h=document.createElement("a");h.href=p,h.setAttribute("download",d.name),document.body.appendChild(h),h.click()}},infos:function infos(l){return console.log(this.$store.set(this.aid+"/infos",l)),console.log(this.$store.get(this.aid+"/infos")),this.$store.get(this.aid+"/infos",l)},thumbBaseUrl:function thumbBaseUrl(l,d){var p="string"==typeof d?__WEBROOT__+"thumbnails/":this.$store.get(this.aid+"/settings.baseUrls."+d.profile+".thumbnails"),h=d.thumb_params?d.thumb_params:"";return p+("string"==typeof d?"default/"+l+"/"+d:d.profile+"/"+l+"/"+d.path+h)},slide:function slide(l){var d=this.$store.get(this.aid+"/attachments/list").indexOf(this.attachment),p=["image","video","application"],h=this.$store.get(this.aid+"/attachments/list")[d+this.slideCounter];"next"==l?d+this.slideCounter<this.$store.get(this.aid+"/attachments/list").length&&(p.includes(h.type)?(this.$store.set(this.aid+"/preview",this.$store.get(this.aid+"/attachments/list")[d+this.slideCounter]),this.slideCounter=1):(this.slideCounter++,this.slide("next"))):d-this.slideCounter>=0&&(p.includes(h.type)?(this.$store.set(this.aid+"/preview",this.$store.get(this.aid+"/attachments/list")[d-this.slideCounter]),this.slideCounter=1):(this.slideCounter++,this.slide("prev")))}}};const dt=(0,j.Z)(ut,lt,[],!1,null,null,null).exports;var pt=function render(){var l=this,d=l._self._c;return l.open&&l.attachment.id?d("div",{staticClass:"block-attachment--modal"},[d("div",{staticClass:"block-attachment__close",on:{click:function click(d){l.open=!1}}},[d("i",{staticClass:"material-icons"},[l._v(" clear ")])]),l._v(" "),d("div",{staticClass:"block-attachment__content"},[d("div",{staticClass:"block block-attachment__infos block--white text-left"},[d("ul",{staticClass:"list-unstyled mb-0"},[d("li",[d("strong",[l._v("Nom")]),l._v(": "+l._s(l.attachment.name))]),l._v(" "),d("li",[d("strong",[l._v("Type")]),l._v(": "+l._s(l.attachment.type)+"/"+l._s(l.attachment.subtype))]),l._v(" "),d("li",[d("strong",[l._v("Poids")]),l._v(": "+l._s(l._f("decimal")(l._f("bytesToMegaBytes")(l.attachment.size),2))+"MB")]),l._v(" "),l.attachment.width&&l.attachment.height?d("li",[d("strong",[l._v("Format")]),l._v(": "+l._s(l.attachment.width)+"px x "+l._s(l.attachment.height)+"px")]):l._e(),l._v(" "),l.attachment.title?d("li",[d("strong",[l._v("Title")]),l._v(": "+l._s(l.attachment.title))]):l._e(),l._v(" "),l.attachment.date?d("li",[d("strong",[l._v("Date")]),l._v(": "+l._s(new Date(l.attachment.date).toLocaleDateString("fr-CH"))+" "+l._s(new Date(l.attachment.created).toLocaleTimeString("fr-CH",{hour:"2-digit",minute:"2-digit"})))]):l._e(),l._v(" "),l.attachment.date?d("li",[d("strong",[l._v("Date d'upload")]),l._v(": "+l._s(new Date(l.attachment.created).toLocaleDateString("fr-CH"))+" "+l._s(new Date(l.attachment.created).toLocaleTimeString("fr-CH",{hour:"2-digit",minute:"2-digit"})))]):l._e(),l._v(" "),l.attachment.description?d("li",[d("strong",[l._v("Description")]),l._v(": "+l._s(l.attachment.description))]):l._e(),l._v(" "),l.attachment.author?d("li",[d("strong",[l._v("Auteur")]),l._v(": "+l._s(l.attachment.author))]):l._e(),l._v(" "),l.attachment.copyright?d("li",[d("strong",[l._v("Copyright")]),l._v(": "+l._s(l.attachment.copyright))]):l._e()])])])]):l._e()};pt._withStripped=!0;const ft={name:"preview",props:{aid:String},data:function data(){return{open:!1}},computed:{attachment:function attachment(){return this.$store.get(this.aid+"/infos")}},watch:{attachment:function attachment(){this.open=!0}},created:function created(){},methods:{close:function close(){this.open=!1,this.$store.set(this.aid+"/infos",{})}}};const ht=(0,j.Z)(ft,pt,[],!1,null,null,null).exports;var mt=function render(){var l=this._self._c;return l("svg",{attrs:{width:"22px",height:"20px",viewBox:"0 0 22 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[l("g",[l("path",{attrs:{d:"M0,0 L5.5,0 L5.5,5.45454545 L0,5.45454545 L0,0 Z M0,7.27272727 L5.5,7.27272727 L5.5,12.7272727 L0,12.7272727 L0,7.27272727 Z M8.25,0 L13.75,0 L13.75,5.45454545 L8.25,5.45454545 L8.25,0 Z M8.25,7.27272727 L13.75,7.27272727 L13.75,12.7272727 L8.25,12.7272727 L8.25,7.27272727 Z M16.5,0 L22,0 L22,5.45454545 L16.5,5.45454545 L16.5,0 Z M16.5,7.27272727 L22,7.27272727 L22,12.7272727 L16.5,12.7272727 L16.5,7.27272727 Z M0,14.5454545 L5.5,14.5454545 L5.5,20 L0,20 L0,14.5454545 Z M8.25,14.5454545 L13.75,14.5454545 L13.75,20 L8.25,20 L8.25,14.5454545 Z M16.5,14.5454545 L22,14.5454545 L22,20 L16.5,20 L16.5,14.5454545 Z",id:"Combined-Shape"}})])])};mt._withStripped=!0;const gt={};const vt=(0,j.Z)(gt,mt,[],!1,null,null,null).exports;var _t=function render(){var l=this._self._c;return l("svg",{attrs:{width:"22px",height:"20px",viewBox:"0 0 22 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[l("g",[l("path",{attrs:{d:"M0,0 L5.5,0 L5.5,20 L0,20 L0,0 Z M8.25,0 L22,0 L22,8.18181818 L8.25,8.18181818 L8.25,0 Z M16.5,10.9090909 L22,10.9090909 L22,20 L16.5,20 L16.5,10.9090909 Z M8.25,10.9090909 L13.75,10.9090909 L13.75,20 L8.25,20 L8.25,10.9090909 Z",id:"Combined-Shape"}})])])};_t._withStripped=!0;const bt={};const yt=(0,j.Z)(bt,_t,[],!1,null,null,null).exports;var wt=function render(){var l=this._self._c;return l("svg",{attrs:{width:"24px",height:"20px",viewBox:"0 0 24 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[l("g",[l("path",{attrs:{d:"M7.38461538,0 L7.38461538,3.63636364 L24,3.63636364 L24,0 L7.38461538,0 Z M0,3.63636364 L4.61538462,3.63636364 L4.61538462,0 L0,0 L0,3.63636364 Z M7.38461538,11.8181818 L24,11.8181818 L24,8.18181818 L7.38461538,8.18181818 L7.38461538,11.8181818 Z M0,11.8181818 L4.61538462,11.8181818 L4.61538462,8.18181818 L0,8.18181818 L0,11.8181818 Z M7.38461538,20 L24,20 L24,16.3636364 L7.38461538,16.3636364 L7.38461538,20 Z M0,20 L4.61538462,20 L4.61538462,16.3636364 L0,16.3636364 L0,20 Z"}})])])};wt._withStripped=!0;const Ct={};const xt=(0,j.Z)(Ct,wt,[],!1,null,null,null).exports;var St=function render(){var l=this,d=l._self._c;return d("div",[d("div",{staticClass:"input-group mb-2"},[d("input",{directives:[{name:"model",rawName:"v-model",value:l.needle,expression:"needle"}],staticClass:"form-control",attrs:{type:"text",id:"inlineFormInputGroup",placeholder:"RECHERCHE"},domProps:{value:l.needle},on:{keyup:function keyup(d){return!d.type.indexOf("key")&&l._k(d.keyCode,"enter",13,d.key,"Enter")?null:l.search.apply(null,arguments)},input:function input(d){d.target.composing||(l.needle=d.target.value)}}}),l._v(" "),d("div",{staticClass:"input-group-append bg--blue-light",attrs:{type:"submit"}},[d("div",{staticClass:"input-group-text bg--blue-light h-100",on:{click:l.search}},[d("icon-search")],1)]),l._v(" "),d("div",{staticClass:"d-flex flex-row date-picker"},[d("label",{attrs:{for:""}},[l._v("Du")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.startDate,expression:"startDate"}],attrs:{type:"date"},domProps:{value:l.startDate},on:{input:function input(d){d.target.composing||(l.startDate=d.target.value)}}}),l._v(" "),d("label",{attrs:{for:""}},[l._v("au")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.endDate,expression:"endDate"}],attrs:{type:"date"},domProps:{value:l.endDate},on:{input:function input(d){d.target.composing||(l.endDate=d.target.value)}}})])])])};St._withStripped=!0;var kt=function render(){var l=this._self._c;return l("svg",{attrs:{width:"19px",height:"19px",viewBox:"0 0 19 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[l("g",[l("path",{attrs:{d:"M18.7958984,16.9035645 L14.4182739,12.5263062 C15.3386841,11.2297364 15.885498,9.6503296 15.885498,7.9427491 C15.885498,3.5631714 12.3223267,0 7.942749,0 C3.5631104,0 0,3.5631714 0,7.942749 C0,12.3226928 3.5631104,15.8858642 7.942749,15.8858642 C9.6502075,15.8858642 11.2294311,15.3390502 12.5259399,14.4186401 L16.9035644,18.7958984 L18.7958984,16.9035645 Z M7.942749,13.2094116 C5.0388794,13.2094116 2.6763916,10.8469238 2.6763916,7.942749 C2.6763916,5.0389404 5.0388794,2.6764526 7.942749,2.6764526 C10.8465576,2.6764526 13.2090454,5.0389404 13.2090454,7.942749 C13.2090454,10.8469238 10.8465576,13.2094116 7.942749,13.2094116 Z"}})])])};kt._withStripped=!0;const Pt={};const Ot=(0,j.Z)(Pt,kt,[],!1,null,null,null).exports;var jt=__webpack_require__(192),Tt=__webpack_require__.n(jt);const Et={name:"attachment-search-bar",components:{"icon-search":Ot},props:{aid:String},data:function data(){return{needle:"",endDate:"",startDate:""}},watch:{endDate:function endDate(l){this.endDate=Tt()(l).format("YYYY-MM-DD"),""!=this.startDate&&this.daterange()},startDate:function startDate(l){this.startDate=Tt()(l).format("YYYY-MM-DD"),""!=this.endDate&&this.daterange()}},methods:{daterange:function daterange(){var l=[this.startDate,this.endDate];console.log(l),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{date:l.join(","),page:1}))},search:function search(){this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{search:this.needle,page:1}))}}};const At=(0,j.Z)(Et,St,[],!1,null,null,null).exports;var Lt=__webpack_require__(265);function Attachmentsvue_type_script_lang_js_typeof(l){return Attachmentsvue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Attachmentsvue_type_script_lang_js_typeof(l)}function Attachmentsvue_type_script_lang_js_ownKeys(l,d){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(l);d&&(h=h.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),p.push.apply(p,h)}return p}function Attachmentsvue_type_script_lang_js_objectSpread(l){for(var d=1;d<arguments.length;d++){var p=null!=arguments[d]?arguments[d]:{};d%2?Attachmentsvue_type_script_lang_js_ownKeys(Object(p),!0).forEach((function(d){Attachmentsvue_type_script_lang_js_defineProperty(l,d,p[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):Attachmentsvue_type_script_lang_js_ownKeys(Object(p)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(p,d))}))}return l}function Attachmentsvue_type_script_lang_js_defineProperty(l,d,p){return(d=function Attachmentsvue_type_script_lang_js_toPropertyKey(l){var d=function Attachmentsvue_type_script_lang_js_toPrimitive(l,d){if("object"!==Attachmentsvue_type_script_lang_js_typeof(l)||null===l)return l;var p=l[Symbol.toPrimitive];if(void 0!==p){var h=p.call(l,d||"default");if("object"!==Attachmentsvue_type_script_lang_js_typeof(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===Attachmentsvue_type_script_lang_js_typeof(d)?d:String(d)}(d))in l?Object.defineProperty(l,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[d]=p,l}const Ft={name:"attachments",directives:{imagesLoaded:__webpack_require__.n(Lt)()},props:{aid:String,settings:Object},data:function data(){return{sort:"date",direction:"desc",mode:"thumb",types:{name:"Types",slug:"type",isActive:!1,current:""},hasProcessingArchive:!1,aarchiveIds:[]}},components:{attachment:rt,"attachment-pagination":ct,"attachment-search-bar":At,"attachment-preview":dt,"attachment-infos":ht,"icon-grid":vt,"icon-mosaic":yt,"icon-list":xt},computed:{aParams:function aParams(){return this.$store.get(this.aid+"/aParams")},attachments:function attachments(){return this.$store.get(this.aid+"/attachments/list")},pagination:function pagination(){return this.$store.get(this.aid+"/pagination")},selectedFiles:function selectedFiles(){return this.$store.get(this.aid+"/selection.files")},downloadToken:function downloadToken(){return this.$store.get(this.aid+"/selection.token")},size:function size(){return console.log(this.$store.get(this.aid+"/size/list")),this.$store.get(this.aid+"/size/list")}},watch:{mode:function mode(){"mosaic"==this.mode&&this.reLayout()}},methods:Attachmentsvue_type_script_lang_js_objectSpread(Attachmentsvue_type_script_lang_js_objectSpread({},(0,d.mapActions)({createAttachments:function createAttachments(l,d){return l(this.aid+"/aarchives/create",d)}})),{},{removeAtag:function removeAtag(l){for(var d=this.aParams.atags.split(","),p=0;p<d.length;p++)d[p]==l&&d.splice(p,1);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:d.join(","),page:1}))},removeFilter:function removeFilter(l){for(var d=this.aParams.filters.split(","),p=0;p<d.length;p++)d[p]==l&&d.splice(p,1);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{filters:d.join(","),page:1}))},filterType:function filterType(){this.upload||(this.types.current.match(/image/g)||(this.mode="thumb"),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{type:this.types.current,filters:"",atags:"",page:1})))},changeOrder:function changeOrder(){this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{sort:this.sort,direction:this.direction,page:1}))},imgReady:function imgReady(){this.reLayout()},dowloadSelection:function dowloadSelection(){this.$store.get(this.aid+"/selection.token");this.$refs.dform.submit()},editSelection:function editSelection(){this.$parent.mode="edit"},deleteSelection:function deleteSelection(){if(confirm("Etes-vous sÃ»r de vouloir supprimer les fichiers sÃ©lÃ©ctionnÃ©s?")){for(var l=new FormData,d=0;d<this.selectedFiles.length;d++)l.append("id["+d+"]",this.selectedFiles[d].id);q.post(this.settings.url+"attachment/attachments/deleteAll.json",l,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then(this.deleteSuccess,this.deleteError)}},deleteSuccess:function deleteSuccess(){this.$store.commit(this.aid+"/flushSelection"),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{refresh:(new Date).getTime()}))},deleteError:function deleteError(){alert("Une erreur est survenue veuillez rÃ©essayer.")},requestArchive:function requestArchive(){for(var l=this.$store.get(this.aid+"/selection.files"),d=[],p=0;p<l.length;p++)d.push(l[p].id);this.createAttachments({data:{aids:d}}),this.types.current=this.settings.browse.types.other.mime.join(","),setTimeout(function(){this.filterType(),this.$store.commit(this.aid+"/flushSelection")}.bind(this),500)},confirmSelection:function confirmSelection(){this.$parent.mode="input"},editorOptions:function editorOptions(){this.$parent.mode="editor-options"}}),mounted:function mounted(){this.reLayout()}},$t=Ft;const Dt=(0,j.Z)($t,at,[],!1,null,null,null).exports;var It=function render(){var l=this,d=l._self._c;return l.show?d("div",{staticClass:"modal-mask",attrs:{id:"attachment-trumbowyg-options",transition:"modal"}},[d("div",{staticClass:"modal-wrapper"},[d("div",{staticClass:"modal-container container"},[d("div",{staticClass:"custom-modal-header"},[l._v("\n        Choose options\n      ")]),l._v(" "),d("div",{staticClass:"custom-modal-body"},[d("div",{staticClass:"row"},[d("div",{staticClass:"col-md-6"},[d("attachment",{attrs:{aid:l.aid,mode:"thumb",attachment:l.file}})],1),l._v(" "),d("div",{staticClass:"col-md-6"},[d("select",{directives:[{name:"model",rawName:"v-model",value:l.selection.displayAs,expression:"selection.displayAs"}],staticClass:"form-control",on:{change:function change(d){var p=Array.prototype.filter.call(d.target.options,(function(l){return l.selected})).map((function(l){return"_value"in l?l._value:l.value}));l.$set(l.selection,"displayAs",d.target.multiple?p:p[0])}}},[d("option",{attrs:{value:"Link"}},[l._v("Link")]),l._v(" "),"image"==l.file.type?d("option",{attrs:{value:"Image"}},[l._v("Image")]):l._e()]),l._v(" "),"Link"==l.selection.displayAs?d("div",[d("div",{staticClass:"input"},[d("div",{staticClass:"utils--spacer-mini"}),l._v(" "),d("label",[l._v("Target")]),l._v(" "),d("select",{directives:[{name:"model",rawName:"v-model",value:l.selection.target,expression:"selection.target"}],staticClass:"form-control",on:{change:function change(d){var p=Array.prototype.filter.call(d.target.options,(function(l){return l.selected})).map((function(l){return"_value"in l?l._value:l.value}));l.$set(l.selection,"target",d.target.multiple?p:p[0])}}},[d("option",{attrs:{value:"_blank"}},[l._v("New window")]),l._v(" "),d("option",{attrs:{value:"_self"}},[l._v("Default")])]),l._v(" "),d("div",{staticClass:"utils--spacer-mini"}),l._v(" "),d("label",[l._v("Title")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.selection.title,expression:"selection.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:l.selection.title},on:{input:function input(d){d.target.composing||l.$set(l.selection,"title",d.target.value)}}})])]):l._e(),l._v(" "),"Image"==l.selection.displayAs?d("div",[d("div",{staticClass:"row"},[d("div",{staticClass:"col-md-6"},[d("div",{staticClass:"input select"},[d("label",[l._v("Align")]),l._v(" "),d("select",{directives:[{name:"model",rawName:"v-model",value:l.selection.align,expression:"selection.align"}],staticClass:"form-control",on:{change:function change(d){var p=Array.prototype.filter.call(d.target.options,(function(l){return l.selected})).map((function(l){return"_value"in l?l._value:l.value}));l.$set(l.selection,"align",d.target.multiple?p:p[0])}}},[d("option",{attrs:{value:"normal"}},[l._v("Normal")]),l._v(" "),d("option",{attrs:{value:"left"}},[l._v("Left")]),l._v(" "),d("option",{attrs:{value:"center"}},[l._v("Center")]),l._v(" "),d("option",{attrs:{value:"right"}},[l._v("Right")])])]),l._v(" "),d("div",{staticClass:"input"},[d("label",[l._v("Extra styles")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.selection.classes,expression:"selection.classes"}],staticClass:"form-control",attrs:{type:"text",placeholder:"classes"},domProps:{value:l.selection.classes},on:{input:function input(d){d.target.composing||l.$set(l.selection,"classes",d.target.value)}}})])]),l._v(" "),d("div",{staticClass:"col-md-6"},[d("div",{staticClass:"input"},[d("label",[l._v("Width")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.selection.width,expression:"selection.width"}],staticClass:"form-control",attrs:{type:"number",min:"0",step:"5",max:l.file.width<1200?l.file.width:1200},domProps:{value:l.selection.width},on:{input:function input(d){d.target.composing||l.$set(l.selection,"width",d.target.value)}}})]),l._v(" "),l.selection.width?d("div",{staticClass:"input"},[d("label",[l._v("Crop")]),l._v(" "),d("div",{staticClass:"clearfix"}),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.selection.crop,expression:"selection.crop"}],attrs:{type:"checkbox",value:"0"},domProps:{checked:Array.isArray(l.selection.crop)?l._i(l.selection.crop,"0")>-1:l.selection.crop},on:{change:function change(d){var p=l.selection.crop,h=d.target,m=!!h.checked;if(Array.isArray(p)){var g=l._i(p,"0");h.checked?g<0&&l.$set(l.selection,"crop",p.concat(["0"])):g>-1&&l.$set(l.selection,"crop",p.slice(0,g).concat(p.slice(g+1)))}else l.$set(l.selection,"crop",m)}}}),l._v("\n                    Yes / no\n                  ")]):l._e(),l._v(" "),l.selection.width&&l.selection.crop?d("div",{staticClass:"input"},[d("label",[l._v("Ratio")]),l._v(" "),d("div",{staticClass:"clearfix"}),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.selection.cropWidth,expression:"selection.cropWidth"}],attrs:{type:"number",min:"1",step:"1",max:"32",value:"16"},domProps:{value:l.selection.cropWidth},on:{input:function input(d){d.target.composing||l.$set(l.selection,"cropWidth",d.target.value)}}}),l._v(":"),d("input",{directives:[{name:"model",rawName:"v-model",value:l.selection.cropHeight,expression:"selection.cropHeight"}],attrs:{type:"number",min:"1",step:"1",max:"32",value:"9"},domProps:{value:l.selection.cropHeight},on:{input:function input(d){d.target.composing||l.$set(l.selection,"cropHeight",d.target.value)}}})]):l._e()])])]):l._e()])])]),l._v(" "),d("p"),l._v(" "),d("div",{staticClass:"custom-modal-footer"},[d("div",{staticClass:"btn-group"},[d("button",{staticClass:"modal-default-button btn btn-fill btn-warning",attrs:{type:"button"},on:{click:function click(d){return l.close()}}},[l._v("\n            Close\n          ")]),l._v(" "),d("button",{staticClass:"modal-default-button btn btn-fill btn-success",attrs:{type:"button"},on:{click:function click(d){return l.success()}}},[l._v("\n            Insert\n          ")])])])])])]):l._e()};It._withStripped=!0;const Mt={name:"attachment-inline-options",components:{Attachment:rt},props:{file:Object,settings:Object,aid:String},data:function data(){return{show:"editor-options"==this.$parent.mode,options:{crop:[!0,!1],align:["normal","left","center","right"],displayAs:["Image","Link"],target:["_blank","_self"]},selection:{}}},created:function created(){"image"!=this.file.type&&(this.selection.displayAs="Link")},watch:{file:function file(l){l&&(this.selection={displayAs:"Link",target:"_blank",title:l.title?l.title:l.name,align:"normal",width:null,crop:0})},show:function show(){this.show?this.addEventListeners():this.removeEventListeners()}},methods:{addEventListeners:function addEventListeners(){$(document).bind("keypress",this.preventEnter),$("form").bind("submit",this.preventSubmit)},removeEventListeners:function removeEventListeners(){$(document).unbind("keypress",this.preventEnter),$("form").unbind("submit",this.preventSubmit)},preventEnter:function preventEnter(l){13==l.which&&this.preventSubmit(l)},preventSubmit:function preventSubmit(l){l.preventDefault(),l.stopPropagation()},close:function close(){this.removeEventListeners(),this.$parent.mode="hidden"},success:function success(){this.close(),this.$parent.$emit("options-success",this.file,this.selection)}}};const Ut=(0,j.Z)(Mt,It,[],!1,null,null,null).exports;var Rt=function render(){var l=this,d=l._self._c;return d("section",{},[l.uploading?d("div",{staticClass:"progress__info"},[d("label",[l._v('TÃ©lÃ©chargement du fichier : "'+l._s(l.fileName)+'"')]),l._v(" "),d("div",{staticClass:"progress"},[d("div",{staticClass:"progress-bar",style:{width:l.percent+"%"},attrs:{role:"progressbar"}},[l._v(l._s(l.percent))])])]):l._e(),l._v(" "),d("div",{},[l._l(l.files,(function(p,h){return d("div",{staticClass:"alert alert-info"},[p.preview?d("div",{staticClass:"alert__preview-img"},[d("img",{attrs:{src:p.preview}})]):l._e(),l._v("\n      Fichier: "+l._s(p.name)+" prÃªt Ã  Ãªtre tÃ©lÃ©chargÃ©!\n    ")])})),l._v(" "),l._l(l.errors,(function(p,h){return d("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[l._v("\n      "+l._s(p)+"\n      "),l._m(0,!0)])})),l._v(" "),d("attachment-inputs",{attrs:{aid:l.aid,mode:"upload"}}),l._v(" "),d("div",{staticClass:"input"},[d("label",[l._v("Fichiers\n        "),d("input",{ref:"files",attrs:{type:"file",id:"files",multiple:""},on:{change:l.validate}})])]),l._v(" "),d("div",{staticClass:"input"},[d("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"button"},on:{click:l.upload}},[l._v("TÃ©lÃ©charger")])])],2)])};Rt._withStripped=!0;var Nt=function render(){var l=this,d=l._self._c;return d("div",{attrs:{id:"attachment-options"}},[d("div",{staticClass:"row optional-fields"},[l.settings.i18n.enable?d("div",{staticClass:"col-md-6 attachment-locale-area"},[d("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},l._l(l.settings.i18n.languages,(function(p,h){return d("li",{class:{active:p==l.settings.i18n.defaultLocale},attrs:{role:"presentation"}},[d("a",{attrs:{href:"#a-"+p,"aria-controls":"a-"+p,role:"tab","data-toggle":"tab"}},[l._v("\n            "+l._s(p)+"\n          ")])])})),0),l._v(" "),d("div",{staticClass:"tab-content"},[d("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"a-"+l.settings.i18n.defaultLocale}},[d("div",{staticClass:"input text"},[d("label",{attrs:{for:"title"}},[l._v("Title")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.file.title,expression:"file.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title"},domProps:{value:l.file.title},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"title",d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input text"},[d("label",{staticClass:"mb-0",attrs:{for:"date"}},[l._v("Date de prise / crÃ©ation de lâimage (si connue)")]),l._v(" "),d("label",{staticClass:"small mt-0",attrs:{for:"date"}},[l._v("(format: 2020-12-12, 12:12)")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.file.date,expression:"file.date"}],staticClass:"form-control",attrs:{type:"datetime-local",name:"date",id:"date"},domProps:{value:l.file.date},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"date",d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input text"},[d("label",{attrs:{for:"description"}},[l._v("Description")]),l._v(" "),d("textarea",{directives:[{name:"model",rawName:"v-model",value:l.file.description,expression:"file.description"}],staticClass:"form-control",attrs:{name:"description",id:"description",rows:"5"},domProps:{value:l.file.description},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"description",d.target.value)}}})])]),l._v(" "),l._l(l.settings.i18n.languages,(function(p,h){return p!=l.settings.i18n.defaultLocale?d("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"a-"+p}},[d("div",{staticClass:"input text"},[d("label",{attrs:{for:"_translations["+p+"][title]"}},[l._v("Title "+l._s(p))]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.file._translations[p].title,expression:"file['_translations'][language].title"}],staticClass:"form-control",attrs:{type:"text",name:"_translations["+p+"][title]",id:"a-"+p+"-title"},domProps:{value:l.file._translations[p].title},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file._translations[p],"title",d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input text"},[d("label",{attrs:{for:"_translations["+p+"][description]"}},[l._v("Description"+l._s(p))]),l._v(" "),d("textarea",{directives:[{name:"model",rawName:"v-model",value:l.file._translations[p].description,expression:"file['_translations'][language].description"}],staticClass:"form-control",attrs:{name:"_translations["+p+"][description]",id:"a-"+p+"-description",rows:"5"},domProps:{value:l.file._translations[p].description},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file._translations[p],"description",d.target.value)}}})])]):l._e()}))],2)]):l._e(),l._v(" "),l.settings.i18n.enable?l._e():d("div",{staticClass:"col-md-6"},[d("div",{staticClass:"input text"},[d("label",{attrs:{for:"title"}},[l._v("Titre")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.file.title,expression:"file.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title"},domProps:{value:l.file.title},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"title",d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input text"},[d("label",{staticClass:"mb-0",attrs:{for:"date"}},[l._v("Date de prise / crÃ©ation de lâimage (si connue)")]),l._v(" "),d("label",{staticClass:"small mt-0",attrs:{for:"date"}},[l._v("(format: 2020-12-12, 12:12)")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.file.date,expression:"file.date"}],staticClass:"form-control",attrs:{type:"datetime-local",name:"date",id:"date"},domProps:{value:l.file.date},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"date",d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input text"},[d("label",{attrs:{for:"description"}},[l._v("Description")]),l._v(" "),d("textarea",{directives:[{name:"model",rawName:"v-model",value:l.file.description,expression:"file.description"}],staticClass:"form-control",attrs:{name:"description",id:"description",rows:"5"},domProps:{value:l.file.description},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"description",d.target.value)}}})])]),l._v(" "),d("div",{staticClass:"col-md-6"},[d("div",{staticClass:"input text"},[d("label",{attrs:{for:"author"}},[l._v("Source")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.file.author,expression:"file.author"}],staticClass:"form-control",attrs:{type:"text",name:"author",id:"author"},domProps:{value:l.file.author},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"author",d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input text"},[d("label",{attrs:{for:"copyright"}},[l._v("Copyright")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.file.copyright,expression:"file.copyright"}],staticClass:"form-control",attrs:{type:"text",name:"copyright",id:"copyright"},domProps:{value:l.file.copyright},on:{change:l.update,input:function input(d){d.target.composing||l.$set(l.file,"copyright",d.target.value)}}})])])])])};Nt._withStripped=!0;const qt={name:"attachment-inputs",props:{aid:String,attachment:Object,mode:String},data:function data(){return{inputs:{title:"",date:"",author:"",description:"",copyright:""},file:{}}},computed:{settings:function settings(){return this.$store.get(this.aid+"/settings")},upload:function upload(){return this.$store.get(this.aid+"/upload")}},created:function created(){if("upload"==this.mode)Object.assign(this.file,this.inputs);else for(var l=0;l<this.$parent.attachmentInputs.fields.length;l++){var d=this.$parent.attachmentInputs.fields[l],p=d.key;this.file[p]="date"==p?d.value.split("+")[0]:d.value}if(this.settings.i18n.enable)for(var h in this.file._translations={},this.settings.i18n.languages)this.file._translations[this.settings.i18n.languages[h]]=this.inputs;this.attachment&&Object.assign(this.file,this.attachment),this.update()},methods:{update:function update(l){if("edit"==this.mode){if(void 0!==l){var d=this.$parent.attachmentInputs.fields.find((function(d){return d.key==l.target.name}));d.value=l.target.value,d.hasChange=!0}}else this.attachment||this.$store.set(this.aid+"/upload",Object.assign(this.$store.get(this.aid+"/upload"),{inputs:this.file}))}}};const Bt=(0,j.Z)(qt,Nt,[],!1,null,null,null).exports,Vt={name:"attachment-upload",components:{"attachment-inputs":Bt},props:{aid:String},data:function data(){return{progress:0,uploading:!1,fileName:"",files:[],errors:[],hasUploaded:0}},computed:{percent:function percent(){return Math.floor(100*this.progress)},settings:function settings(){return this.$store.get(this.aid+"/settings")},atags:function atags(){return this.$store.get(this.aid+"/upload.atags")},inputs:function inputs(){return this.$store.get(this.aid+"/upload.inputs")}},created:function created(){this.$store.commit(this.aid+"/flushUploadedFiles")},watch:{files:function files(){var l=this,d=function _loop(d){if(l.files[d].type&&l.files[d].type.match("image/*")){var p=new FileReader;p.onload=function(p){l.files[d].preview=p.target.result,l.$forceUpdate()},p.readAsDataURL(l.files[d])}};for(var p in this.files)d(p)}},methods:{validate:function validate(){this.errors=[];var l=[];for(var d in this.$refs.files.files){var p=this.$refs.files.files[d],h=p.size/1024/1024;if(!h)return;h>0&&h<=this.settings.maxsize||l.push(p.name+" ce fichier est trop lourd. La taille max est de "+this.settings.maxsize+"MB."),!1!==this.settings.types.indexOf(p.type)&&""!=p.type||l.push(p.name+" ce type de fichier n' est pas supportÃ©."),this.errors=l,0==this.errors.length&&this.files.push(p)}},upload:function upload(){if(0!=this.files.length)return this.uploadFile(this.files.shift());0==this.errors.length&&(this.$parent.mode="browse",this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{refresh:(new Date).getTime()})))},uploadFile:function uploadFile(l){this.uploading=!0,this.fileName=l.name,this.inputs.date.length>0&&(this.inputs.date=-1!=this.inputs.date.indexOf("T")?this.inputs.date.replace("T"," ")+":00":this.inputs.date);var d=new FormData;for(var p in this.inputs)d.append(p,this.inputs[p]);for(var h in this.atags)d.append("atags["+h+"][name]",this.atags[h]);d.append("path",l),d.append("uuid",this.aid);var m={headers:{Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:this.progressHandler};q.post(this.settings.url+"attachment/attachments/add.json",d,m).then(this.uploadSuccessCb,this.errorUploadCb)},progressHandler:function progressHandler(l){l.lengthComputable&&(this.progress=l.loaded/l.total)},uploadSuccessCb:function uploadSuccessCb(l){this.uploading=!1,this.hasUploaded=!0,this.$store.commit(this.aid+"/addUploadedFile",l.data.data),this.upload()},errorUploadCb:function errorUploadCb(l){this.uploading=!1,this.errors.push(l.response.data.message?l.response.data.message:l),this.upload()}}},Wt=Vt;const Ht=(0,j.Z)(Wt,Rt,[function(){var l=this._self._c;return l("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[l("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã")])])}],!1,null,null,null).exports;var Zt=function render(){var l=this,d=l._self._c;return d("section",{},[l.uploading?d("div",{staticClass:"progress__info"},[d("label",[l._v("Uploading...")]),l._v(" "),d("div",{staticClass:"progress"},[d("div",{staticClass:"progress-bar",style:{width:l.percent+"%"},attrs:{role:"progressbar"}},[l._v(l._s(l.percent))])])]):l._e(),l._v(" "),d("div",{},[l._l(l.errors,(function(p,h){return d("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[l._v("\n      An error occured: "+l._s(p)+"\n      "),l._m(0,!0)])})),l._v(" "),d("attachment-inputs",{attrs:{aid:l.aid,mode:"upload"}}),l._v(" "),d("div",{staticClass:"input text required"},[d("label",{attrs:{for:"name"}},[l._v("Name")]),l._v(" "),d("input",{directives:[{name:"model",rawName:"v-model",value:l.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name"},domProps:{value:l.name},on:{input:function input(d){d.target.composing||(l.name=d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input text required"},[d("label",{attrs:{for:"embed"}},[l._v("Embed code")]),l._v(" "),d("textarea",{directives:[{name:"model",rawName:"v-model",value:l.embed,expression:"embed"}],staticClass:"form-control",attrs:{name:"embed",id:"embed",rows:"5"},domProps:{value:l.embed},on:{input:function input(d){d.target.composing||(l.embed=d.target.value)}}})]),l._v(" "),d("div",{staticClass:"input"},[d("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"button"},on:{click:l.upload}},[l._v("Upload")])])],2)])};Zt._withStripped=!0;const zt={name:"attachment-embed",components:{"attachment-inputs":Bt},props:{aid:String},data:function data(){return{progress:0,uploading:!1,errors:[],name:"",embed:""}},computed:{percent:function percent(){return Math.floor(100*this.progress)},settings:function settings(){return this.$store.get(this.aid+"/settings")},atags:function atags(){return this.$store.get(this.aid+"/upload.atags")},inputs:function inputs(){return this.$store.get(this.aid+"/upload.inputs")}},created:function created(){this.$store.commit(this.aid+"/flushUploadedFiles")},methods:{upload:function upload(){if(""==this.name.trim())return this.errors.push("A name is required!");if(""==this.embed.trim())return this.errors.push("Embed code is required!");this.uploading=!0;var l=new FormData;for(var d in this.inputs)l.append(d,this.inputs[d]);for(var p in this.atags)l.append("atags["+p+"][name]",this.atags-[p]);l.append("name",this.name.trim()),l.append("embed",this.embed.trim()),l.append("uuid",this.settings.uuid);var h={headers:{Accept:"application/json","Content-Type":"multipart/form-data"},progress:this.progressHandler};q.post(this.settings.url+"attachment/attachments/add.json",l,h).then(this.uploadSuccessCb,this.errorUploadCb)},progressHandler:function progressHandler(l){l.lengthComputable&&(this.progress=l.loaded/l.total)},uploadSuccessCb:function uploadSuccessCb(l){this.uploading=!1,this.hasUploaded=!0,this.$store.commit(this.aid+"/addUploadedFile",l.data.data),this.finish()},errorUploadCb:function errorUploadCb(l){this.uploading=!1,this.errors.push(l),this.finish()},finish:function finish(){0==this.errors.length&&(this.$parent.mode="browse",this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{refresh:(new Date).getTime()})))}}};const Kt=(0,j.Z)(zt,Zt,[function(){var l=this._self._c;return l("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[l("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã")])])}],!1,null,null,null).exports;var Gt=function render(){var l=this,d=l._self._c;return d("section",[1==l.loading?d("div",{staticClass:"text-center"},[d("img",{attrs:{src:"https://static.wgr.ch/attachment/loading.gif",alt:""}})]):d("div",[d("div",{staticClass:"section__files-list"},[d("div",{staticClass:"row"},l._l(l.selectedFiles,(function(p,h){return d("div",{key:h,staticClass:"col-sm-2"},[d("attachment",{attrs:{index:h,aid:l.aid,mode:"thumb",attachment:p,settings:l.settings}})],1)})),0),l._v(" "),d("div",{staticClass:"utils--spacer-semi"})]),l._v(" "),d("attachment-inputs",{attrs:{aid:l.aid,mode:"edit"}}),l._v(" "),d("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"button"},on:{click:l.edit}},[l._v("Editer")])],1)])};Gt._withStripped=!0;const Yt={name:"attachment-edit",components:{attachment:rt,"attachment-inputs":Bt},props:{aid:String,settings:Object},data:function data(){return{loading:!1,attachmentInputs:{fields:[{key:"title",value:null,isSame:!1,hasChange:!1},{key:"date",value:null,isSame:!1,hasChange:!1},{key:"description",value:null,isSame:!1,hasChange:!1},{key:"author",value:null,isSame:!1,hasChange:!1},{key:"copyright",value:null,isSame:!1,hasChange:!1}],atags:[],atagsToKeep:[]}}},created:function created(){this.mergeDatas()},computed:{atagTypes:function atagTypes(){return this.$store.get(this.aid+"/atags/list")},aParams:function aParams(){return this.$store.get(this.aid+"/aParams")},selectedFiles:function selectedFiles(){return this.$store.get(this.aid+"/selection.files")}},watch:{selectedFiles:{handler:function handler(){this.mergeDatas()},deep:!0},aParams:{handler:function handler(){this.attachmentInputs.atags=this.aParams.atags.split(",")},deep:!0}},methods:{mergeDatas:function mergeDatas(){for(var l=this,d=function _loop(d){for(var p=l.selectedFiles[d],h=0;h<l.attachmentInputs.fields.length;h++){var m=l.attachmentInputs.fields[h],g=m.key,v=m.value;p[g]==v||null==m.value?(m.isSame=!0,m.value=p[g]):(m.isSame=!1,m.value=null)}for(var _=function _loop3(h){0==d&&l.attachmentInputs.atags.push(p.atags[h].name),-1==l.attachmentInputs.atagsToKeep.findIndex((function(l){return l==p.atags[h].name}))&&l.attachmentInputs.atagsToKeep.push(p.atags[h].name);for(var m=function _loop4(d){-1==p.atags.findIndex((function(p){return p.name===l.attachmentInputs.atags[d]}))&&l.attachmentInputs.atags.splice(d,1)},g=0;g<l.attachmentInputs.atags.length;g++)m(g)},b=0;b<p.atags.length;b++)_(b)},p=0;p<this.selectedFiles.length;p++)d(p);for(var h=function _loop2(d){-1!==l.attachmentInputs.atags.findIndex((function(p){return p===l.attachmentInputs.atagsToKeep[d]}))&&l.attachmentInputs.atagsToKeep.splice(d,1)},m=0;m<this.attachmentInputs.atagsToKeep.length;m++)h(m);1==this.selectedFiles.length&&(this.attachmentInputs.atagsToKeep=[]),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:this.attachmentInputs.atags.join(","),page:1}))},edit:function edit(){var l=this;this.loading=!0;for(var d=0;d<this.selectedFiles.length;d++){for(var p=this.selectedFiles[d],h=0;h<this.attachmentInputs.fields.length;h++){var m=this.attachmentInputs.fields[h];m.hasChange&&(p[m.key]=m.value)}for(var g=function _loop5(d){var h=p.atags[d];-1==l.attachmentInputs.atags.findIndex((function(l){return l==h.name}))&&-1==l.attachmentInputs.atagsToKeep.findIndex((function(l){return l==h.name}))&&p.atags.splice(p.atags.findIndex((function(l){return l.name==h.name})),1)},v=0;v<p.atags.length;v++)g(v);for(var _=function _loop6(d){if(-1==p.atags.findIndex((function(p){return p.name==l.attachmentInputs.atags[d]})))for(var h=0;h<l.atagTypes.length;h++){var m=l.atagTypes[h].atags.find((function(p){return p.name==l.attachmentInputs.atags[d]}));if(m){p.atags.push(m);break}}},b=0;b<this.attachmentInputs.atags.length;b++)_(b)}q.post(this.settings.url+"attachment/attachments/edit-all.json",this.selectedFiles,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then(this.editSuccess,this.editError)},editSuccess:function editSuccess(){this.$store.commit(this.aid+"/flushSelection"),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:"",refresh:(new Date).getTime()})),this.loading=!1,this.$parent.mode="browse"},editError:function editError(){alert("Une erreur est survenue veuillez rÃ©essayer.")}}};const Jt=(0,j.Z)(Yt,Gt,[],!1,null,null,null).exports;var Qt=function render(){var l=this,d=l._self._c;return d("svg",{attrs:{width:"26px",height:"18px",viewBox:"0 0 26 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[d("g",[d("polygon",{attrs:{id:"Path",points:"26 4.9 0 4.9 0 3 26 2.9"}}),l._v(" "),d("polygon",{attrs:{id:"Path",points:"26 14.9 0 14.9 0 13 26 12.9"}}),l._v(" "),d("circle",{attrs:{id:"Oval",cx:"8.1",cy:"3.9",r:"3.5"}}),l._v(" "),d("circle",{attrs:{id:"Oval",cx:"17.5",cy:"13.9",r:"3.5"}})])])};Qt._withStripped=!0;const Xt={};const te=(0,j.Z)(Xt,Qt,[],!1,null,null,null).exports;var ee=function render(){var l=this,d=l._self._c;return d("svg",{attrs:{width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[d("g",[d("path",{attrs:{d:"M7.999,14.857 C7.994,14.857 7.989,14.857 7.983,14.857 C7.352,14.857 6.84,15.368 6.84,16 C6.84,16.632 7.351,17.143 7.983,17.143 C7.989,17.143 7.994,17.143 8,17.143 L23.998,17.143 C24.003,17.143 24.008,17.143 24.014,17.143 C24.645,17.143 25.157,16.632 25.157,16 C25.157,15.368 24.646,14.857 24.014,14.857 C24.008,14.857 24.003,14.857 23.997,14.857 L7.999,14.857 Z",id:"Path"}}),l._v(" "),d("path",{attrs:{d:"M17.142,8 C17.142,7.995 17.142,7.99 17.142,7.984 C17.142,7.353 16.631,6.841 15.999,6.841 C15.367,6.841 14.856,7.352 14.856,7.984 C14.856,7.99 14.856,7.995 14.856,8.001 L14.856,8 L14.856,23.999 C14.856,24.004 14.856,24.009 14.856,24.015 C14.856,24.646 15.367,25.158 15.999,25.158 C16.631,25.158 17.142,24.647 17.142,24.015 C17.142,24.009 17.142,24.004 17.142,23.998 L17.142,23.999 L17.142,8 Z",id:"Path"}}),l._v(" "),d("path",{attrs:{d:"M15.999,2.30926389e-14 C7.176,2.30926389e-14 2.30926389e-14,7.177 2.30926389e-14,15.999 C2.30926389e-14,24.821 7.177,31.998 15.999,31.998 C24.822,31.998 31.998,24.821 31.998,15.999 C31.998,7.177 24.821,2.30926389e-14 15.999,2.30926389e-14 Z M15.999,2.286 C23.587,2.286 29.713,8.413 29.713,16 C29.713,23.587 23.587,29.714 15.999,29.714 C8.411,29.714 2.285,23.588 2.285,16 C2.285,8.412 8.411,2.286 15.999,2.286 Z",id:"Shape"}})])])};ee._withStripped=!0;const ne={};const ie=(0,j.Z)(ne,ee,[],!1,null,null,null).exports;function Browsevue_type_script_lang_js_typeof(l){return Browsevue_type_script_lang_js_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},Browsevue_type_script_lang_js_typeof(l)}function Browsevue_type_script_lang_js_ownKeys(l,d){var p=Object.keys(l);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(l);d&&(h=h.filter((function(d){return Object.getOwnPropertyDescriptor(l,d).enumerable}))),p.push.apply(p,h)}return p}function Browsevue_type_script_lang_js_defineProperty(l,d,p){return(d=function Browsevue_type_script_lang_js_toPropertyKey(l){var d=function Browsevue_type_script_lang_js_toPrimitive(l,d){if("object"!==Browsevue_type_script_lang_js_typeof(l)||null===l)return l;var p=l[Symbol.toPrimitive];if(void 0!==p){var h=p.call(l,d||"default");if("object"!==Browsevue_type_script_lang_js_typeof(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(l,"string");return"symbol"===Browsevue_type_script_lang_js_typeof(d)?d:String(d)}(d))in l?Object.defineProperty(l,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):l[d]=p,l}const re={name:"attachment-browse",mixins:[Z],components:{draggable:K(),"attachment-atags":Q,"attachment-upload":Ht,"attachment-embed":Kt,"attachment-edit":Jt,attachments:Dt,attachment:rt,"inline-options":Ut,"icon-add":ie,"icon-filter":te},props:{entity:Object},data:function data(){return{tinymce:!1}},computed:{aParams:function aParams(){return this.$store.get(this.aid+"/aParams")},tParams:function tParams(){return this.$store.get(this.aid+"/tParams")},selectedFiles:{get:function get(){return this.$store.get(this.aid+"/selection.files")},set:function set(l){this.$store.set(this.aid+"/selection.files",l)}}},watch:{aParams:{handler:function handler(){"browse"==this.mode&&(this.fetchAttachments({config:{params:this.aParams}}),this.settings.size&&this.fetchSize({config:{params:this.aParams}}))},deep:!0},tParams:{handler:function handler(){this.fetchTags({config:{params:this.tParams}})},deep:!0},selectedFiles:function selectedFiles(l){for(var d=[],p=0;p<l.length;p++)d.push(l[p].id);this.entity&&this.entity.setAttachments&&this.entity.setAttachments(l)},mode:function mode(){if(this.$forceUpdate(),"browse"===this.mode)this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:"",upload:0,refresh:(new Date).getTime(),page:1}));else this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{upload:1}))}},created:function created(){this.aParams.uuid=this.tParams.uuid=this.aid},methods:function Browsevue_type_script_lang_js_objectSpread(l){for(var d=1;d<arguments.length;d++){var p=null!=arguments[d]?arguments[d]:{};d%2?Browsevue_type_script_lang_js_ownKeys(Object(p),!0).forEach((function(d){Browsevue_type_script_lang_js_defineProperty(l,d,p[d])})):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(p)):Browsevue_type_script_lang_js_ownKeys(Object(p)).forEach((function(d){Object.defineProperty(l,d,Object.getOwnPropertyDescriptor(p,d))}))}return l}({reIndexOf:function reIndexOf(l,d){for(var p in l)if(l[p].toString().match(d))return p;return-1}},(0,d.mapActions)({fetchAttachments:function fetchAttachments(l,d){return l(this.aid+"/attachments/fetchList",d)},fetchSize:function fetchSize(l,d){return l(this.aid+"/size/fetchList",d)},fetchTags:function fetchTags(l,d){return l(this.aid+"/atags/fetchList",d)},createSelectedFilesToken:function createSelectedFilesToken(l,d){return l(this.aid+"/token/create",d)}}))};const ae=(0,j.Z)(re,A,[],!1,null,null,null).exports;__webpack_require__(993),__webpack_require__(554),__webpack_require__(758);var se=[ae];const oe={version:"4.0.0",install:function install(l,d){d.store;se.forEach((function(d){return l.component(d.name,d)}))}};function TinyPlugin_typeof(l){return TinyPlugin_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},TinyPlugin_typeof(l)}function TinyPlugin_defineProperties(l,d){for(var p=0;p<d.length;p++){var h=d[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,(m=h.key,g=void 0,g=function TinyPlugin_toPrimitive(l,d){if("object"!==TinyPlugin_typeof(l)||null===l)return l;var p=l[Symbol.toPrimitive];if(void 0!==p){var h=p.call(l,d||"default");if("object"!==TinyPlugin_typeof(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(m,"string"),"symbol"===TinyPlugin_typeof(g)?g:String(g)),h)}var m,g}var ce=0;function _classPrivateFieldLooseKey(l){return"__private_"+ce+++"_"+l}var le=_classPrivateFieldLooseKey("editor"),ue=_classPrivateFieldLooseKey("store"),de=_classPrivateFieldLooseKey("settings"),pe=function(){function TinyPlugin(l,d){!function TinyPlugin_classCallCheck(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,TinyPlugin),Object.defineProperty(this,le,{writable:!0,value:null}),Object.defineProperty(this,ue,{writable:!0,value:null}),Object.defineProperty(this,de,{writable:!0,value:null}),this.aid=null,console.log("TnyAttachment constructor"),this.editor=l,this.store=d,this.settings=this.editor.settings.attachment_settings,this.aid=this.getName().replace(/[\[\]]/g,""),this.init(),this.addEventListener(),this.addButton()}return function TinyPlugin_createClass(l,d,p){return d&&TinyPlugin_defineProperties(l.prototype,d),p&&TinyPlugin_defineProperties(l,p),Object.defineProperty(l,"prototype",{writable:!1}),l}(TinyPlugin,[{key:"getName",value:function getName(){for(var l=this.settings.field.split("."),d="",p=0;p<l.length;p++)d+=p>0?"["+l[p]+"]":l[p];return d}},{key:"init",value:function init(){console.log("TnyAttachment init vue component");var l=Vue.component(ae.name,ae);this.settings.overlay=1,this.settings.groupActions=["tinymce"],this.settings.actions=["add"],this.editor.attachment=new l({store:this.store,propsData:{settings:this.settings,aid:this.aid}}),this.editor.attachment.mode="hidden",this.editor.attachment.tinymce=!0,this.editor.attachment.$mount(),window.vueTinymce[this.editor.settings.id].appendPlugin(this.editor.attachment)}},{key:"addEventListener",value:function addEventListener(){var l=this;this.editor.attachment.$on("options-success",(function(d,p){"Link"==p.displayAs?l.editor.insertContent('<a href="'+l.settings.baseUrls[d.profile].profile+d.path+'" target="'+p.target+'">'+p.title+"</a>"):l.editor.insertContent(l.createImageNode(d,p))}))}},{key:"createImageNode",value:function createImageNode(l,d){var p="<img",h="img-responsive img-fluid ";return h+=d.classes?d.classes+" ":"",p+=" class='"+(h+=d.align?d.align+" ":"")+"'",d.alt&&(p+=" alt='"+d.alt.replace(/['"]+/g,"")+"'"),p+=" src='"+this.getImagePath(l,d)+"'",p+=" />"}},{key:"getImagePath",value:function getImagePath(l,d){var p=this.editor.attachment.settings.baseUrls.thumbnails.profile+l.profile+"/";return p+=d.width?"w"+d.width:"w1200",p+=d.crop?"c"+d.cropWidth+"-"+d.cropHeight:"",p+="/"+l.path}},{key:"addButton",value:function addButton(){var l=this;this.editor.ui.registry.addMenuButton("attachment",{text:"MÃ©dia",icon:"image",fetch:function fetch(d){d([{type:"menuitem",text:"TÃ©lÃ©charger",onAction:function onAction(){return l.upload()}},{type:"menuitem",text:"Parcourir",onAction:function onAction(){return l.browse()}}])}})}},{key:"browse",value:function browse(){this.editor.attachment.overlay=!0,this.editor.attachment.mode="browse"}},{key:"upload",value:function upload(){console.log("upload"),this.editor.attachment.overlay=!0,this.editor.attachment.mode="upload"}}]),TinyPlugin}();function TinyFactory_typeof(l){return TinyFactory_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},TinyFactory_typeof(l)}function TinyFactory_defineProperties(l,d){for(var p=0;p<d.length;p++){var h=d[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(l,(m=h.key,g=void 0,g=function TinyFactory_toPrimitive(l,d){if("object"!==TinyFactory_typeof(l)||null===l)return l;var p=l[Symbol.toPrimitive];if(void 0!==p){var h=p.call(l,d||"default");if("object"!==TinyFactory_typeof(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===d?String:Number)(l)}(m,"string"),"symbol"===TinyFactory_typeof(g)?g:String(g)),h)}var m,g}var fe=function(){function TinyFactory(){!function TinyFactory_classCallCheck(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,TinyFactory)}return function TinyFactory_createClass(l,d,p){return d&&TinyFactory_defineProperties(l.prototype,d),p&&TinyFactory_defineProperties(l,p),Object.defineProperty(l,"prototype",{writable:!1}),l}(TinyFactory,null,[{key:"init",value:function init(l){return window.tinymce?window.vueTinymce?(this.store=l,this.pluginManager=window.tinymce.util.Tools.resolve("tinymce.PluginManager"),void this.pluginManager.add("attachment",(function(l,d){new pe(l,TinyFactory.store)}))):console.error("TinyMCE - Attachment: No VUE tinymce found!"):console.error("TinyMCE - Attachment: No tinymce found!")}}]),TinyFactory}();fe.store=null,fe.pluginManager=null,Vue.component("component-loader",l.default),Vue.use(E,{store:w}),Vue.use(oe,{store:w}),fe.init(w),Vue.config.devtools=!0,Vue.config.productionTip=!0;$(document).ready((function init(){window.adminApp=new Vue({store:w,el:"#admin-app",data:{baseUrl:void 0},mounted:function mounted(){C(),k()}})}))})(),(()=>{"use strict";__webpack_require__.r(y)})(),y})()));
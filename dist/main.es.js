var t,e,n,r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,c=(t,e,n)=>e in t?r(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u=(t,e)=>{for(var n in e||(e={}))s.call(e,n)&&c(t,n,e[n]);if(a)for(var n of a(e))l.call(e,n)&&c(t,n,e[n]);return t},d=(t,e)=>i(t,o(e)),f=(t,e,n)=>(c(t,"symbol"!=typeof e?e+"":e,n),n),h=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};import p,{mapActions as m}from"vuex";import{createEasyAccess as g,defaultMutations as v}from"vuex-easy-access";import"element-ui";import b from"vuex-crud";import y from"axios";import C,{packeryEvents as w}from"vue-packery-plugin";import x from"moment";import _ from"vue-images-loaded";Vue.use(p);const E=g(),S={};var k=new p.Store({state:S,plugins:[E],mutations:{},actions:{},mutations:u({},v(S)),modules:{}});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function N(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function T(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}window.getCsrfToken||(window.getCsrfToken=function(){for(var t="csrfToken=",e=decodeURIComponent(document.cookie).split(";"),n=0;n<e.length;n++){for(var r=e[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""});var z=function(t,e){e.parent().find("[data-filter]").removeClass("utils__filter--active"),e.addClass("utils__filter--active"),t.find("[data-filter-item]").removeClass("utils__filter--active"),t.find('[data-filter-item="'+e.data("filter")+'"]').addClass("utils__filter--active")},A=function(){$("[data-filter-container]").each((function(){var t=$(this).find("[data-filter-items]"),e=$(this).find("[data-filter]").first();e&&(z(t,e),function(t,e){$(t).find("[data-filter]").each((function(){$(this).click((function(){$("[data-filter]").removeClass("utils__filter--active"),$(this).addClass("utils__filter--active"),z(e,$(this))}))}))}(this,t))}))};const M=y.create({headers:{"X-CSRF-TOKEN":window.getCsrfToken(),Accept:"application/json","Content-Type":"application/json"}});class O extends M{}const P=function(t){return{data:t.data.data}},R=function(t){const{data:e}=t;return Object.assign({},t,{data:e.data,pagination:e.pagination})},L=function(t){let e={};for(let i in t.data.data){let n=t.data.data[i],r=n.atag_type?n.atag_type:{id:0,name:"Autres",exclusive:!1,order:1e3};e[r.name]||(e[r.name]=Object.assign({atags:[]},r)),e[r.name].atags.push(n)}let n=Object.keys(e).sort((function(t,n){return e[t].order-e[n].order})),r=[];for(let i in n)r.push(e[n[i]]);return{data:r}};var D={namespaced:!0,state:()=>({selection:{files:[],token:""},upload:{atags:[],files:[],inputs:{}},aParams:{uuid:"",atags:"",filters:"",type:"image/*",sort:"date",direction:"desc",search:"",date:"",refresh:"",page:1},tParams:{uuid:""},pagination:{},settings:{},preview:{},infos:{},aarchives:[]}),mutations:{addFileToSelection:(t,e)=>{t.selection.files.length>0&&"belongsTo"==t.settings.relation&&(t.selection.files=[]),t.selection.files.push(e)},removeFileFromSelection:(t,e)=>{let n=t.selection.files.findIndex((t=>t.id===e.id));t.selection.files.splice(n,1)},flushSelection:(t,e)=>{t.selection.files=[]},"selection.files":(t,e)=>{t.selection.files=e},"selection.token":(t,e)=>{t.selection.token=e},addUploadedFile:(t,e)=>{t.upload.files.push(e)},flushUploadedFiles:(t,e)=>{t.upload.files=[]},upload:(t,e)=>{t.upload=e},aParams:(t,e)=>{t.aParams=e},pagination:(t,e)=>{t.pagination=e},settings:(t,e)=>{t.settings=e},preview:(t,e)=>{t.preview=e},infos:(t,e)=>{t.infos=e},aarchives:(t,e)=>{t.aarchives=e},addAarchives:(t,e)=>{t.aarchives.push(e)},flushAarchives:(t,e)=>{t.aarchives=[]}}},B={props:{aid:String,settings:Object},data:()=>({mode:"browse",overlay:!1,loading:!1}),created(){this.aid=this.aid.replace(/\./g,""),this.$store.registerModule(this.aid,Object.assign({},D)),this.$store.registerModule(this.aid+"/attachments",b({resource:"attachments",urlRoot:this.settings.url+"attachment/attachments",client:O,parseSingle:P,parseList:R,onFetchListStart:()=>{this.loading=!0},onFetchListSuccess:(t,e)=>{this.loading=!1,this.$store.set(this.aid+"/pagination",e.pagination)}})),this.$store.registerModule(this.aid+"/atags",b({resource:"atags",urlRoot:this.settings.url+"attachment/atags",client:O,parseSingle:P,parseList:L})),this.$store.registerModule(this.aid+"/token",b({resource:"token",only:["CREATE"],urlRoot:this.settings.url+"attachment/download/get-zip-token",client:O,idAttribute:"token",onCreateSuccess:(t,e)=>{this.$store.set(this.aid+"/selection.token",e.data.token)}})),this.$store.registerModule(this.aid+"/aarchives",b({resource:"aarchives",only:["CREATE"],urlRoot:this.settings.url+"attachment/aarchives",client:O,parseSingle:P})),this.overlay=this.settings.overlay,this.mode=this.settings.mode,this.$store.set(this.aid+"/settings",this.settings),"input"==this.mode&&this.settings.attachments.length>0&&this.$store.set(this.aid+"/selection.files",this.settings.attachments),O.baseURL=this.settings.url},beforeDestroy(){this.$store.unregisterModule(this.aid),this.$store.unregisterModule(this.aid+"/attachments"),this.$store.unregisterModule(this.aid+"/atags"),this.$store.unregisterModule(this.aid+"/token"),this.$store.unregisterModule(this.aid+"/aarchives")}},H={exports:{}};
/**!
 * Sortable 1.10.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F(){return(F=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){V(t,e,n[e])}))}return t}function U(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var X=W(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),K=W(/Edge/i),Y=W(/firefox/i),G=W(/safari/i)&&!W(/chrome/i)&&!W(/android/i),Z=W(/iP(ad|od|hone)/i),J=W(/chrome/i)&&W(/android/i),Q={capture:!1,passive:!1};function tt(t,e,n){t.addEventListener(e,n,!X&&Q)}function et(t,e,n){t.removeEventListener(e,n,!X&&Q)}function nt(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function rt(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function it(t,e,n,r){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&nt(t,e):nt(t,e))||r&&t===n)return t;if(t===n)break}while(t=rt(t))}return null}var ot,at=/\s+/g;function st(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(at," ").replace(" "+e+" "," ");t.className=(r+(n?" "+e:"")).replace(at," ")}}function lt(t,e,n){var r=t&&t.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in r||-1!==e.indexOf("webkit")||(e="-webkit-"+e),r[e]=n+("string"==typeof n?"":"px")}}function ct(t,e){var n="";if("string"==typeof t)n=t;else do{var r=lt(t,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function ut(t,e,n){if(t){var r=t.getElementsByTagName(e),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function dt(){var t=document.scrollingElement;return t||document.documentElement}function ft(t,e,n,r,i){if(t.getBoundingClientRect||t===window){var o,a,s,l,c,u,d;if(t!==window&&t!==dt()?(a=(o=t.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,u=o.height,d=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!X))do{if(i&&i.getBoundingClientRect&&("none"!==lt(i,"transform")||n&&"static"!==lt(i,"position"))){var f=i.getBoundingClientRect();a-=f.top+parseInt(lt(i,"border-top-width")),s-=f.left+parseInt(lt(i,"border-left-width")),l=a+o.height,c=s+o.width;break}}while(i=i.parentNode);if(r&&t!==window){var h=ct(i||t),p=h&&h.a,m=h&&h.d;h&&(l=(a/=m)+(u/=m),c=(s/=p)+(d/=p))}return{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function ht(t,e,n){for(var r=bt(t,!0),i=ft(t)[e];r;){var o=ft(r)[n];if(!("top"===n||"left"===n?i>=o:i<=o))return r;if(r===dt())break;r=bt(r,!1)}return!1}function pt(t,e,n){for(var r=0,i=0,o=t.children;i<o.length;){if("none"!==o[i].style.display&&o[i]!==_e.ghost&&o[i]!==_e.dragged&&it(o[i],n.draggable,t,!1)){if(r===e)return o[i];r++}i++}return null}function mt(t,e){for(var n=t.lastElementChild;n&&(n===_e.ghost||"none"===lt(n,"display")||e&&!nt(n,e));)n=n.previousElementSibling;return n||null}function gt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===_e.clone||e&&!nt(t,e)||n++;return n}function vt(t){var e=0,n=0,r=dt();if(t)do{var i=ct(t),o=i.a,a=i.d;e+=t.scrollLeft*o,n+=t.scrollTop*a}while(t!==r&&(t=t.parentNode));return[e,n]}function bt(t,e){if(!t||!t.getBoundingClientRect)return dt();var n=t,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=lt(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return dt();if(r||e)return n;r=!0}}}while(n=n.parentNode);return dt()}function yt(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function Ct(t,e){return function(){if(!ot){var n=arguments,r=this;1===n.length?t.call(r,n[0]):t.apply(r,n),ot=setTimeout((function(){ot=void 0}),e)}}}function wt(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function xt(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function _t(t,e){lt(t,"position","absolute"),lt(t,"top",e.top),lt(t,"left",e.left),lt(t,"width",e.width),lt(t,"height",e.height)}function Et(t){lt(t,"position",""),lt(t,"top",""),lt(t,"left",""),lt(t,"width",""),lt(t,"height","")}var St="Sortable"+(new Date).getTime();function kt(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==lt(t,"display")&&t!==_e.ghost){e.push({target:t,rect:ft(t)});var n=j({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=ct(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[n][r])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var i=!1,o=0;e.forEach((function(t){var e=0,n=t.target,a=n.fromRect,s=ft(n),l=n.prevFromRect,c=n.prevToRect,u=t.rect,d=ct(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&yt(l,s)&&!yt(a,s)&&(u.top-s.top)/(u.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(e=function(t,e,n,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*r.animation}(u,l,c,r.options)),yt(s,a)||(n.prevFromRect=a,n.prevToRect=s,e||(e=r.options.animation),r.animate(n,u,s,e)),e&&(i=!0,o=Math.max(o,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),i?t=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,r){if(r){lt(t,"transition",""),lt(t,"transform","");var i=ct(this.el),o=i&&i.a,a=i&&i.d,s=(e.left-n.left)/(o||1),l=(e.top-n.top)/(a||1);t.animatingX=!!s,t.animatingY=!!l,lt(t,"transform","translate3d("+s+"px,"+l+"px,0)"),function(t){t.offsetWidth}(t),lt(t,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),lt(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){lt(t,"transition",""),lt(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),r)}}}}var Nt=[],Tt={initializeByDefault:!0},zt={mount:function(t){for(var e in Tt)Tt.hasOwnProperty(e)&&!(e in t)&&(t[e]=Tt[e]);Nt.push(t)},pluginEvent:function(t,e,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=t+"Global";Nt.forEach((function(r){e[r.pluginName]&&(e[r.pluginName][i]&&e[r.pluginName][i](j({sortable:e},n)),e.options[r.pluginName]&&e[r.pluginName][t]&&e[r.pluginName][t](j({sortable:e},n)))}))},initializePlugins:function(t,e,n,r){for(var i in Nt.forEach((function(r){var i=r.pluginName;if(t.options[i]||r.initializeByDefault){var o=new r(t,e,t.options);o.sortable=t,o.options=t.options,t[i]=o,F(n,o.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var o=this.modifyOption(t,i,t.options[i]);void 0!==o&&(t.options[i]=o)}},getEventProperties:function(t,e){var n={};return Nt.forEach((function(r){"function"==typeof r.eventProperties&&F(n,r.eventProperties.call(e[r.pluginName],t))})),n},modifyOption:function(t,e,n){var r;return Nt.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(r=i.optionListeners[e].call(t[i.pluginName],n))})),r}};function At(t){var e=t.sortable,n=t.rootEl,r=t.name,i=t.targetEl,o=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[St]){var m,g=e.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||X||K?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=i||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var b=j({},p,zt.getEventProperties(r,e));for(var y in b)m[y]=b[y];n&&n.dispatchEvent(m),g[v]&&g[v].call(e,m)}}var Mt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=U(n,["evt"]);zt.pluginEvent.bind(_e)(t,e,j({dragEl:Pt,parentEl:Rt,ghostEl:Lt,rootEl:Dt,nextEl:Bt,lastDownEl:Ht,cloneEl:It,cloneHidden:Vt,dragStarted:Qt,putSortable:Wt,activeSortable:_e.active,originalEvent:r,oldIndex:Ft,oldDraggableIndex:$t,newIndex:jt,newDraggableIndex:Ut,hideGhostForTarget:ye,unhideGhostForTarget:Ce,cloneNowHidden:function(){Vt=!0},cloneNowShown:function(){Vt=!1},dispatchSortableEvent:function(t){Ot({sortable:e,name:t,originalEvent:r})}},i))};function Ot(t){At(j({putSortable:Wt,cloneEl:It,targetEl:Pt,rootEl:Dt,oldIndex:Ft,oldDraggableIndex:$t,newIndex:jt,newDraggableIndex:Ut},t))}var Pt,Rt,Lt,Dt,Bt,Ht,It,Vt,Ft,jt,$t,Ut,qt,Wt,Xt,Kt,Yt,Gt,Zt,Jt,Qt,te,ee,ne,re,ie=!1,oe=!1,ae=[],se=!1,le=!1,ce=[],ue=!1,de=[],fe="undefined"!=typeof document,he=Z,pe=K||X?"cssFloat":"float",me=fe&&!J&&!Z&&"draggable"in document.createElement("div"),ge=function(){if(fe){if(X)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),ve=function(t,e){var n=lt(t),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=pt(t,0,e),o=pt(t,1,e),a=i&&lt(i),s=o&&lt(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ft(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+ft(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[pe]||o&&"none"===n[pe]&&l+c>r)?"vertical":"horizontal"},be=function(t){function e(t,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==t&&(n||s))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(r,i,o,a),n)(r,i,o,a);var l=(n?r:i).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},r=t.group;r&&"object"==I(r)||(r={name:r}),n.name=r.name,n.checkPull=e(r.pull,!0),n.checkPut=e(r.put),n.revertClone=r.revertClone,t.group=n},ye=function(){!ge&&Lt&&lt(Lt,"display","none")},Ce=function(){!ge&&Lt&&lt(Lt,"display","")};fe&&document.addEventListener("click",(function(t){if(oe)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),oe=!1,!1}),!0);var we=function(t){if(Pt){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,o=t.clientY,ae.some((function(t){if(!mt(t)){var e=ft(t),n=t[St].options.emptyInsertThreshold,r=i>=e.left-n&&i<=e.right+n,s=o>=e.top-n&&o<=e.bottom+n;return n&&r&&s?a=t:void 0}})),a);if(e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[St]._onDragOver(n)}}var i,o,a},xe=function(t){Pt&&Pt.parentNode[St]._isOutsideThisEl(t.target)};function _e(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=F({},e),t[St]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ve(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==_e.supportPointer&&"PointerEvent"in window,emptyInsertThreshold:5};for(var r in zt.initializePlugins(this,t,n),n)!(r in e)&&(e[r]=n[r]);for(var i in be(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&me,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?tt(t,"pointerdown",this._onTapStart):(tt(t,"mousedown",this._onTapStart),tt(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(tt(t,"dragover",this),tt(t,"dragenter",this)),ae.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),F(this,kt())}function Ee(t,e,n,r,i,o,a,s){var l,c,u=t[St],d=u.options.onMove;return!window.CustomEvent||X||K?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=r,l.related=i||e,l.relatedRect=o||ft(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),d&&(c=d.call(u,l,a)),c}function Se(t){t.draggable=!1}function ke(){ue=!1}function Ne(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,r=0;n--;)r+=e.charCodeAt(n);return r.toString(36)}function Te(t){return setTimeout(t,0)}function ze(t){return clearTimeout(t)}_e.prototype={constructor:_e,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(te=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,Pt):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,r=this.options,i=r.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,s=(a||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||s,c=r.filter;if(function(t){de.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var r=e[n];r.checked&&de.push(r)}}(n),!Pt&&!(/mousedown|pointerdown/.test(o)&&0!==t.button||r.disabled||l.isContentEditable||(s=it(s,r.draggable,n,!1))&&s.animated||Ht===s)){if(Ft=gt(s),$t=gt(s,r.draggable),"function"==typeof c){if(c.call(this,t,s,this))return Ot({sortable:e,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),Mt("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(r){if(r=it(l,r.trim(),n,!1))return Ot({sortable:e,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),Mt("filter",e,{evt:t}),!0}))))return void(i&&t.cancelable&&t.preventDefault());r.handle&&!it(l,r.handle,n,!1)||this._prepareDragStart(t,a,s)}}},_prepareDragStart:function(t,e,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!Pt&&n.parentNode===o){var l=ft(n);if(Dt=o,Rt=(Pt=n).parentNode,Bt=Pt.nextSibling,Ht=n,qt=a.group,_e.dragged=Pt,Xt={target:Pt,clientX:(e||t).clientX,clientY:(e||t).clientY},Zt=Xt.clientX-l.left,Jt=Xt.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,Pt.style["will-change"]="all",r=function(){Mt("delayEnded",i,{evt:t}),_e.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Y&&i.nativeDraggable&&(Pt.draggable=!0),i._triggerDragStart(t,e),Ot({sortable:i,name:"choose",originalEvent:t}),st(Pt,a.chosenClass,!0))},a.ignore.split(",").forEach((function(t){ut(Pt,t.trim(),Se)})),tt(s,"dragover",we),tt(s,"mousemove",we),tt(s,"touchmove",we),tt(s,"mouseup",i._onDrop),tt(s,"touchend",i._onDrop),tt(s,"touchcancel",i._onDrop),Y&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Pt.draggable=!0),Mt("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(K||X))r();else{if(_e.eventCanceled)return void this._onDrop();tt(s,"mouseup",i._disableDelayedDrag),tt(s,"touchend",i._disableDelayedDrag),tt(s,"touchcancel",i._disableDelayedDrag),tt(s,"mousemove",i._delayedDragTouchMoveHandler),tt(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&tt(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Pt&&Se(Pt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;et(t,"mouseup",this._disableDelayedDrag),et(t,"touchend",this._disableDelayedDrag),et(t,"touchcancel",this._disableDelayedDrag),et(t,"mousemove",this._delayedDragTouchMoveHandler),et(t,"touchmove",this._delayedDragTouchMoveHandler),et(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?tt(document,"pointermove",this._onTouchMove):tt(document,e?"touchmove":"mousemove",this._onTouchMove):(tt(Pt,"dragend",this),tt(Dt,"dragstart",this._onDragStart));try{document.selection?Te((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(ie=!1,Dt&&Pt){Mt("dragStarted",this,{evt:e}),this.nativeDraggable&&tt(document,"dragover",xe);var n=this.options;!t&&st(Pt,n.dragClass,!1),st(Pt,n.ghostClass,!0),_e.active=this,t&&this._appendGhost(),Ot({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Kt){this._lastX=Kt.clientX,this._lastY=Kt.clientY,ye();for(var t=document.elementFromPoint(Kt.clientX,Kt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Kt.clientX,Kt.clientY))!==e;)e=t;if(Pt.parentNode[St]._isOutsideThisEl(t),e)do{if(e[St]){if(e[St]._onDragOver({clientX:Kt.clientX,clientY:Kt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=e.parentNode);Ce()}},_onTouchMove:function(t){if(Xt){var e=this.options,n=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,o=Lt&&ct(Lt,!0),a=Lt&&o&&o.a,s=Lt&&o&&o.d,l=he&&re&&vt(re),c=(i.clientX-Xt.clientX+r.x)/(a||1)+(l?l[0]-ce[0]:0)/(a||1),u=(i.clientY-Xt.clientY+r.y)/(s||1)+(l?l[1]-ce[1]:0)/(s||1);if(!_e.active&&!ie){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(Lt){o?(o.e+=c-(Yt||0),o.f+=u-(Gt||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");lt(Lt,"webkitTransform",d),lt(Lt,"mozTransform",d),lt(Lt,"msTransform",d),lt(Lt,"transform",d),Yt=c,Gt=u,Kt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Lt){var t=this.options.fallbackOnBody?document.body:Dt,e=ft(Pt,!0,he,!0,t),n=this.options;if(he){for(re=t;"static"===lt(re,"position")&&"none"===lt(re,"transform")&&re!==document;)re=re.parentNode;re!==document.body&&re!==document.documentElement?(re===document&&(re=dt()),e.top+=re.scrollTop,e.left+=re.scrollLeft):re=dt(),ce=vt(re)}st(Lt=Pt.cloneNode(!0),n.ghostClass,!1),st(Lt,n.fallbackClass,!0),st(Lt,n.dragClass,!0),lt(Lt,"transition",""),lt(Lt,"transform",""),lt(Lt,"box-sizing","border-box"),lt(Lt,"margin",0),lt(Lt,"top",e.top),lt(Lt,"left",e.left),lt(Lt,"width",e.width),lt(Lt,"height",e.height),lt(Lt,"opacity","0.8"),lt(Lt,"position",he?"absolute":"fixed"),lt(Lt,"zIndex","100000"),lt(Lt,"pointerEvents","none"),_e.ghost=Lt,t.appendChild(Lt),lt(Lt,"transform-origin",Zt/parseInt(Lt.style.width)*100+"% "+Jt/parseInt(Lt.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,r=t.dataTransfer,i=n.options;Mt("dragStart",this,{evt:t}),_e.eventCanceled?this._onDrop():(Mt("setupClone",this),_e.eventCanceled||((It=xt(Pt)).draggable=!1,It.style["will-change"]="",this._hideClone(),st(It,this.options.chosenClass,!1),_e.clone=It),n.cloneId=Te((function(){Mt("clone",n),_e.eventCanceled||(n.options.removeCloneOnHide||Dt.insertBefore(It,Pt),n._hideClone(),Ot({sortable:n,name:"clone"}))})),!e&&st(Pt,i.dragClass,!0),e?(oe=!0,n._loopId=setInterval(n._emulateDragOver,50)):(et(document,"mouseup",n._onDrop),et(document,"touchend",n._onDrop),et(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,Pt)),tt(document,"drop",n),lt(Pt,"transform","translateZ(0)")),ie=!0,n._dragStartId=Te(n._dragStarted.bind(n,e,t)),tt(document,"selectstart",n),Qt=!0,G&&lt(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,r,i,o=this.el,a=t.target,s=this.options,l=s.group,c=_e.active,u=qt===l,d=s.sort,f=Wt||c,h=this,p=!1;if(!ue){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),a=it(a,s.draggable,o,!0),T("dragOver"),_e.eventCanceled)return p;if(Pt.contains(t.target)||a.animated&&a.animatingX&&a.animatingY||h._ignoreWhileAnimating===a)return A(!1);if(oe=!1,c&&!s.disabled&&(u?d||(r=!Dt.contains(Pt)):Wt===this||(this.lastPutMode=qt.checkPull(this,c,Pt,t))&&l.checkPut(this,c,Pt,t))){if(i="vertical"===this._getDirection(t,a),e=ft(Pt),T("dragOverValid"),_e.eventCanceled)return p;if(r)return Rt=Dt,z(),this._hideClone(),T("revert"),_e.eventCanceled||(Bt?Dt.insertBefore(Pt,Bt):Dt.appendChild(Pt)),A(!0);var m=mt(o,s.draggable);if(!m||function(t,e,n){var r=ft(mt(n.el,n.options.draggable)),i=10;return e?t.clientX>r.right+i||t.clientX<=r.right&&t.clientY>r.bottom&&t.clientX>=r.left:t.clientX>r.right&&t.clientY>r.top||t.clientX<=r.right&&t.clientY>r.bottom+i}(t,i,this)&&!m.animated){if(m===Pt)return A(!1);if(m&&o===t.target&&(a=m),a&&(n=ft(a)),!1!==Ee(Dt,o,Pt,e,a,n,t,!!a))return z(),o.appendChild(Pt),Rt=o,M(),A(!0)}else if(a.parentNode===o){n=ft(a);var g,v,b,y=Pt.parentNode!==o,C=!function(t,e,n){var r=n?t.left:t.top,i=n?t.right:t.bottom,o=n?t.width:t.height,a=n?e.left:e.top,s=n?e.right:e.bottom,l=n?e.width:e.height;return r===a||i===s||r+o/2===a+l/2}(Pt.animated&&Pt.toRect||e,a.animated&&a.toRect||n,i),w=i?"top":"left",x=ht(a,"top","top")||ht(Pt,"top","top"),_=x?x.scrollTop:void 0;if(te!==a&&(v=n[w],se=!1,le=!C&&s.invertSwap||y),0!==(g=function(t,e,n,r,i,o,a,s){var l=r?t.clientY:t.clientX,c=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!a)if(s&&ne<c*i){if(!se&&(1===ee?l>u+c*o/2:l<d-c*o/2)&&(se=!0),se)f=!0;else if(1===ee?l<u+ne:l>d-ne)return-ee}else if(l>u+c*(1-i)/2&&l<d-c*(1-i)/2)return function(t){return gt(Pt)<gt(t)?1:-1}(e);if((f=f||a)&&(l<u+c*o/2||l>d-c*o/2))return l>u+c/2?1:-1;return 0}(t,a,n,i,C?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,le,te===a))){var E=gt(Pt);do{E-=g,b=Rt.children[E]}while(b&&("none"===lt(b,"display")||b===Lt))}if(0===g||b===a)return A(!1);te=a,ee=g;var S=a.nextElementSibling,k=!1,N=Ee(Dt,o,Pt,e,a,n,t,k=1===g);if(!1!==N)return 1!==N&&-1!==N||(k=1===N),ue=!0,setTimeout(ke,30),z(),k&&!S?o.appendChild(Pt):a.parentNode.insertBefore(Pt,k?S:a),x&&wt(x,0,_-x.scrollTop),Rt=Pt.parentNode,void 0===v||le||(ne=Math.abs(v-ft(a)[w])),M(),A(!0)}if(o.contains(Pt))return A(!1)}return!1}function T(s,l){Mt(s,h,j({evt:t,isOwner:u,axis:i?"vertical":"horizontal",revert:r,dragRect:e,targetRect:n,canSort:d,fromSortable:f,target:a,completed:A,onMove:function(n,r){return Ee(Dt,o,Pt,e,n,ft(n),t,r)},changed:M},l))}function z(){T("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function A(e){return T("dragOverCompleted",{insertion:e}),e&&(u?c._hideClone():c._showClone(h),h!==f&&(st(Pt,Wt?Wt.options.ghostClass:c.options.ghostClass,!1),st(Pt,s.ghostClass,!0)),Wt!==h&&h!==_e.active?Wt=h:h===_e.active&&Wt&&(Wt=null),f===h&&(h._ignoreWhileAnimating=a),h.animateAll((function(){T("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===Pt&&!Pt.animated||a===o&&!a.animated)&&(te=null),s.dragoverBubble||t.rootEl||a===document||(Pt.parentNode[St]._isOutsideThisEl(t.target),!e&&we(t)),!s.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),p=!0}function M(){jt=gt(Pt),Ut=gt(Pt,s.draggable),Ot({sortable:h,name:"change",toEl:o,newIndex:jt,newDraggableIndex:Ut,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){et(document,"mousemove",this._onTouchMove),et(document,"touchmove",this._onTouchMove),et(document,"pointermove",this._onTouchMove),et(document,"dragover",we),et(document,"mousemove",we),et(document,"touchmove",we)},_offUpEvents:function(){var t=this.el.ownerDocument;et(t,"mouseup",this._onDrop),et(t,"touchend",this._onDrop),et(t,"pointerup",this._onDrop),et(t,"touchcancel",this._onDrop),et(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;jt=gt(Pt),Ut=gt(Pt,n.draggable),Mt("drop",this,{evt:t}),Rt=Pt&&Pt.parentNode,jt=gt(Pt),Ut=gt(Pt,n.draggable),_e.eventCanceled||(ie=!1,le=!1,se=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ze(this.cloneId),ze(this._dragStartId),this.nativeDraggable&&(et(document,"drop",this),et(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),G&&lt(document.body,"user-select",""),lt(Pt,"transform",""),t&&(Qt&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),Lt&&Lt.parentNode&&Lt.parentNode.removeChild(Lt),(Dt===Rt||Wt&&"clone"!==Wt.lastPutMode)&&It&&It.parentNode&&It.parentNode.removeChild(It),Pt&&(this.nativeDraggable&&et(Pt,"dragend",this),Se(Pt),Pt.style["will-change"]="",Qt&&!ie&&st(Pt,Wt?Wt.options.ghostClass:this.options.ghostClass,!1),st(Pt,this.options.chosenClass,!1),Ot({sortable:this,name:"unchoose",toEl:Rt,newIndex:null,newDraggableIndex:null,originalEvent:t}),Dt!==Rt?(jt>=0&&(Ot({rootEl:Rt,name:"add",toEl:Rt,fromEl:Dt,originalEvent:t}),Ot({sortable:this,name:"remove",toEl:Rt,originalEvent:t}),Ot({rootEl:Rt,name:"sort",toEl:Rt,fromEl:Dt,originalEvent:t}),Ot({sortable:this,name:"sort",toEl:Rt,originalEvent:t})),Wt&&Wt.save()):jt!==Ft&&jt>=0&&(Ot({sortable:this,name:"update",toEl:Rt,originalEvent:t}),Ot({sortable:this,name:"sort",toEl:Rt,originalEvent:t})),_e.active&&(null!=jt&&-1!==jt||(jt=Ft,Ut=$t),Ot({sortable:this,name:"end",toEl:Rt,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Mt("nulling",this),Dt=Pt=Rt=Lt=Bt=It=Ht=Vt=Xt=Kt=Qt=jt=Ut=Ft=$t=te=ee=Wt=qt=_e.dragged=_e.ghost=_e.clone=_e.active=null,de.forEach((function(t){t.checked=!0})),de.length=Yt=Gt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Pt&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)it(t=n[r],o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Ne(t));return e},sort:function(t){var e={},n=this.el;this.toArray().forEach((function(t,r){var i=n.children[r];it(i,this.options.draggable,n,!1)&&(e[t]=i)}),this),t.forEach((function(t){e[t]&&(n.removeChild(e[t]),n.appendChild(e[t]))}))},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return it(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var r=zt.modifyOption(this,t,e);n[t]=void 0!==r?r:e,"group"===t&&be(n)},destroy:function(){Mt("destroy",this);var t=this.el;t[St]=null,et(t,"mousedown",this._onTapStart),et(t,"touchstart",this._onTapStart),et(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(et(t,"dragover",this),et(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),ae.splice(ae.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Vt){if(Mt("hideClone",this),_e.eventCanceled)return;lt(It,"display","none"),this.options.removeCloneOnHide&&It.parentNode&&It.parentNode.removeChild(It),Vt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(Vt){if(Mt("showClone",this),_e.eventCanceled)return;Dt.contains(Pt)&&!this.options.group.revertClone?Dt.insertBefore(It,Pt):Bt?Dt.insertBefore(It,Bt):Dt.appendChild(It),this.options.group.revertClone&&this.animate(Pt,It),lt(It,"display",""),Vt=!1}}else this._hideClone()}},fe&&tt(document,"touchmove",(function(t){(_e.active||ie)&&t.cancelable&&t.preventDefault()})),_e.utils={on:tt,off:et,css:lt,find:ut,is:function(t,e){return!!it(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:Ct,closest:it,toggleClass:st,clone:xt,index:gt,nextTick:Te,cancelNextTick:ze,detectDirection:ve,getChild:pt},_e.get=function(t){return t[St]},_e.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(_e.utils=j({},_e.utils,t.utils)),zt.mount(t)}))},_e.create=function(t,e){return new _e(t,e)},_e.version="1.10.2";var Ae,Me,Oe,Pe,Re,Le,De=[],Be=!1;function He(){De.forEach((function(t){clearInterval(t.pid)})),De=[]}function Ie(){clearInterval(Le)}var Ve,Fe=Ct((function(t,e,n,r){if(e.scroll){var i,o=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,s=e.scrollSensitivity,l=e.scrollSpeed,c=dt(),u=!1;Me!==n&&(Me=n,He(),Ae=e.scroll,i=e.scrollFn,!0===Ae&&(Ae=bt(n,!0)));var d=0,f=Ae;do{var h=f,p=ft(h),m=p.top,g=p.bottom,v=p.left,b=p.right,y=p.width,C=p.height,w=void 0,x=void 0,_=h.scrollWidth,E=h.scrollHeight,S=lt(h),k=h.scrollLeft,N=h.scrollTop;h===c?(w=y<_&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),x=C<E&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=y<_&&("auto"===S.overflowX||"scroll"===S.overflowX),x=C<E&&("auto"===S.overflowY||"scroll"===S.overflowY));var T=w&&(Math.abs(b-o)<=s&&k+y<_)-(Math.abs(v-o)<=s&&!!k),z=x&&(Math.abs(g-a)<=s&&N+C<E)-(Math.abs(m-a)<=s&&!!N);if(!De[d])for(var A=0;A<=d;A++)De[A]||(De[A]={});De[d].vx==T&&De[d].vy==z&&De[d].el===h||(De[d].el=h,De[d].vx=T,De[d].vy=z,clearInterval(De[d].pid),0==T&&0==z||(u=!0,De[d].pid=setInterval(function(){r&&0===this.layer&&_e.active._onTouchMove(Re);var e=De[this.layer].vy?De[this.layer].vy*l:0,n=De[this.layer].vx?De[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(_e.dragged.parentNode[St],n,e,t,Re,De[this.layer].el)||wt(De[this.layer].el,n,e)}.bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==c&&(f=bt(f,!1)));Be=u}}),30),je=function(t){var e=t.originalEvent,n=t.putSortable,r=t.dragEl,i=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,s=t.unhideGhostForTarget;if(e){var l=n||i;a();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function $e(){}function Ue(){}$e.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=pt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:je},F($e,{pluginName:"revertOnSpill"}),Ue.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:je},F(Ue,{pluginName:"removeOnSpill"});var qe,We,Xe,Ke,Ye,Ge=[],Ze=[],Je=!1,Qe=!1,tn=!1;function en(t,e){Ze.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}function nn(){Ge.forEach((function(t){t!==Xe&&t.parentNode&&t.parentNode.removeChild(t)}))}_e.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?tt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?tt(document,"pointermove",this._handleFallbackAutoScroll):e.touches?tt(document,"touchmove",this._handleFallbackAutoScroll):tt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?et(document,"dragover",this._handleAutoScroll):(et(document,"pointermove",this._handleFallbackAutoScroll),et(document,"touchmove",this._handleFallbackAutoScroll),et(document,"mousemove",this._handleFallbackAutoScroll)),Ie(),He(),clearTimeout(ot),ot=void 0},nulling:function(){Re=Me=Ae=Be=Le=Oe=Pe=null,De.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,r=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,o=document.elementFromPoint(r,i);if(Re=t,e||K||X||G){Fe(t,this.options,o,e);var a=bt(o,!0);!Be||Le&&r===Oe&&i===Pe||(Le&&Ie(),Le=setInterval((function(){var o=bt(document.elementFromPoint(r,i),!0);o!==a&&(a=o,He()),Fe(t,n.options,o,e)}),10),Oe=r,Pe=i)}else{if(!this.options.bubbleScroll||bt(o,!0)===dt())return void He();Fe(t,this.options,bt(o,!1),!1)}}},F(t,{pluginName:"scroll",initializeByDefault:!0})}),_e.mount(Ue,$e);var rn,on=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_e,MultiDrag:function(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?tt(document,"pointerup",this._deselectMultiDrag):(tt(document,"mouseup",this._deselectMultiDrag),tt(document,"touchend",this._deselectMultiDrag)),tt(document,"keydown",this._checkKeyDown),tt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,n){var r="";Ge.length&&We===t?Ge.forEach((function(t,e){r+=(e?", ":"")+t.textContent})):r=n.textContent,e.setData("Text",r)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;Xe=e},delayEnded:function(){this.isMultiDrag=~Ge.indexOf(Xe)},setupClone:function(t){var e=t.sortable,n=t.cancel;if(this.isMultiDrag){for(var r=0;r<Ge.length;r++)Ze.push(xt(Ge[r])),Ze[r].sortableIndex=Ge[r].sortableIndex,Ze[r].draggable=!1,Ze[r].style["will-change"]="",st(Ze[r],this.options.selectedClass,!1),Ge[r]===Xe&&st(Ze[r],this.options.chosenClass,!1);e._hideClone(),n()}},clone:function(t){var e=t.sortable,n=t.rootEl,r=t.dispatchSortableEvent,i=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Ge.length&&We===e&&(en(!0,n),r("clone"),i()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,r=t.cancel;this.isMultiDrag&&(en(!1,n),Ze.forEach((function(t){lt(t,"display","")})),e(),Ye=!1,r())},hideClone:function(t){var e=this;t.sortable;var n=t.cloneNowHidden,r=t.cancel;this.isMultiDrag&&(Ze.forEach((function(t){lt(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),n(),Ye=!0,r())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&We&&We.multiDrag._deselectMultiDrag(),Ge.forEach((function(t){t.sortableIndex=gt(t)})),Ge=Ge.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),tn=!0},dragStarted:function(t){var e=this,n=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(n.captureAnimationState(),this.options.animation)){Ge.forEach((function(t){t!==Xe&&lt(t,"position","absolute")}));var r=ft(Xe,!1,!0,!0);Ge.forEach((function(t){t!==Xe&&_t(t,r)})),Qe=!0,Je=!0}n.animateAll((function(){Qe=!1,Je=!1,e.options.animation&&Ge.forEach((function(t){Et(t)})),e.options.sort&&nn()}))}},dragOver:function(t){var e=t.target,n=t.completed,r=t.cancel;Qe&&~Ge.indexOf(e)&&(n(!1),r())},revert:function(t){var e=t.fromSortable,n=t.rootEl,r=t.sortable,i=t.dragRect;Ge.length>1&&(Ge.forEach((function(t){r.addAnimationState({target:t,rect:Qe?ft(t):i}),Et(t),t.fromRect=i,e.removeAnimationState(t)})),Qe=!1,function(t,e){Ge.forEach((function(n,r){var i=e.children[n.sortableIndex+(t?Number(r):0)];i?e.insertBefore(n,i):e.appendChild(n)}))}(!this.options.removeCloneOnHide,n))},dragOverCompleted:function(t){var e=t.sortable,n=t.isOwner,r=t.insertion,i=t.activeSortable,o=t.parentEl,a=t.putSortable,s=this.options;if(r){if(n&&i._hideClone(),Je=!1,s.animation&&Ge.length>1&&(Qe||!n&&!i.options.sort&&!a)){var l=ft(Xe,!1,!0,!0);Ge.forEach((function(t){t!==Xe&&(_t(t,l),o.appendChild(t))})),Qe=!0}if(!n)if(Qe||nn(),Ge.length>1){var c=Ye;i._showClone(e),i.options.animation&&!Ye&&c&&Ze.forEach((function(t){i.addAnimationState({target:t,rect:Ke}),t.fromRect=Ke,t.thisAnimationDuration=null}))}else i._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,r=t.activeSortable;if(Ge.forEach((function(t){t.thisAnimationDuration=null})),r.options.animation&&!n&&r.multiDrag.isMultiDrag){Ke=F({},e);var i=ct(Xe,!0);Ke.top-=i.f,Ke.left-=i.e}},dragOverAnimationComplete:function(){Qe&&(Qe=!1,nn())},drop:function(t){var e=t.originalEvent,n=t.rootEl,r=t.parentEl,i=t.sortable,o=t.dispatchSortableEvent,a=t.oldIndex,s=t.putSortable,l=s||this.sortable;if(e){var c=this.options,u=r.children;if(!tn)if(c.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),st(Xe,c.selectedClass,!~Ge.indexOf(Xe)),~Ge.indexOf(Xe))Ge.splice(Ge.indexOf(Xe),1),qe=null,At({sortable:i,rootEl:n,name:"deselect",targetEl:Xe,originalEvt:e});else{if(Ge.push(Xe),At({sortable:i,rootEl:n,name:"select",targetEl:Xe,originalEvt:e}),e.shiftKey&&qe&&i.el.contains(qe)){var d,f,h=gt(qe),p=gt(Xe);if(~h&&~p&&h!==p)for(p>h?(f=h,d=p):(f=p,d=h+1);f<d;f++)~Ge.indexOf(u[f])||(st(u[f],c.selectedClass,!0),Ge.push(u[f]),At({sortable:i,rootEl:n,name:"select",targetEl:u[f],originalEvt:e}))}else qe=Xe;We=l}if(tn&&this.isMultiDrag){if((r[St].options.sort||r!==n)&&Ge.length>1){var m=ft(Xe),g=gt(Xe,":not(."+this.options.selectedClass+")");if(!Je&&c.animation&&(Xe.thisAnimationDuration=null),l.captureAnimationState(),!Je&&(c.animation&&(Xe.fromRect=m,Ge.forEach((function(t){if(t.thisAnimationDuration=null,t!==Xe){var e=Qe?ft(t):m;t.fromRect=e,l.addAnimationState({target:t,rect:e})}}))),nn(),Ge.forEach((function(t){u[g]?r.insertBefore(t,u[g]):r.appendChild(t),g++})),a===gt(Xe))){var v=!1;Ge.forEach((function(t){t.sortableIndex===gt(t)||(v=!0)})),v&&o("update")}Ge.forEach((function(t){Et(t)})),l.animateAll()}We=l}(n===r||s&&"clone"!==s.lastPutMode)&&Ze.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=tn=!1,Ze.length=0},destroyGlobal:function(){this._deselectMultiDrag(),et(document,"pointerup",this._deselectMultiDrag),et(document,"mouseup",this._deselectMultiDrag),et(document,"touchend",this._deselectMultiDrag),et(document,"keydown",this._checkKeyDown),et(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==tn&&tn||We!==this.sortable||t&&it(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;Ge.length;){var e=Ge[0];st(e,this.options.selectedClass,!1),Ge.shift(),At({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},F(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[St];e&&e.options.multiDrag&&!~Ge.indexOf(t)&&(We&&We!==e&&(We.multiDrag._deselectMultiDrag(),We=e),st(t,e.options.selectedClass,!0),Ge.push(t))},deselect:function(t){var e=t.parentNode[St],n=Ge.indexOf(t);e&&e.options.multiDrag&&~n&&(st(t,e.options.selectedClass,!1),Ge.splice(n,1))}},eventProperties:function(){var t=this,e=[],n=[];return Ge.forEach((function(r){var i;e.push({multiDragElement:r,index:r.sortableIndex}),i=Qe&&r!==Xe?-1:Qe?gt(r,":not(."+t.options.selectedClass+")"):gt(r),n.push({multiDragElement:r,index:i})})),{items:q(Ge),clones:[].concat(Ze),oldIndicies:e,newIndicies:n}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})},Sortable:_e,Swap:function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;Ve=e},dragOverValid:function(t){var e=t.completed,n=t.target,r=t.onMove,i=t.activeSortable,o=t.changed,a=t.cancel;if(i.options.swap){var s=this.sortable.el,l=this.options;if(n&&n!==s){var c=Ve;!1!==r(n)?(st(n,l.swapClass,!0),Ve=n):Ve=null,c&&c!==Ve&&st(c,l.swapClass,!1)}o(),e(!0),a()}},drop:function(t){var e=t.activeSortable,n=t.putSortable,r=t.dragEl,i=n||this.sortable,o=this.options;Ve&&st(Ve,o.swapClass,!1),Ve&&(o.swap||n&&n.options.swap)&&r!==Ve&&(i.captureAnimationState(),i!==e&&e.captureAnimationState(),function(t,e){var n,r,i=t.parentNode,o=e.parentNode;if(!i||!o||i.isEqualNode(e)||o.isEqualNode(t))return;n=gt(t),r=gt(e),i.isEqualNode(o)&&n<r&&r++;i.insertBefore(e,i.children[n]),o.insertBefore(t,o.children[r])}(r,Ve),i.animateAll(),i!==e&&e.animateAll())},nulling:function(){Ve=null}},F(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Ve}}})}});"undefined"!=typeof self&&self;var an=N(H.exports=(rn=T(on),function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"01f9":function(t,e,n){var r=n("2d00"),i=n("5ca1"),o=n("2aba"),a=n("32e9"),s=n("84f2"),l=n("41a0"),c=n("7f20"),u=n("38fd"),d=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),h="keys",p="values",m=function(){return this};t.exports=function(t,e,n,g,v,b,y){l(n,e,g);var C,w,x,_=function(t){if(!f&&t in N)return N[t];switch(t){case h:case p:return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",S=v==p,k=!1,N=t.prototype,T=N[d]||N["@@iterator"]||v&&N[v],z=T||_(v),A=v?S?_("entries"):z:void 0,M="Array"==e&&N.entries||T;if(M&&(x=u(M.call(new t)))!==Object.prototype&&x.next&&(c(x,E,!0),r||"function"==typeof x[d]||a(x,d,m)),S&&T&&T.name!==p&&(k=!0,z=function(){return T.call(this)}),r&&!y||!f&&!k&&N[d]||a(N,d,z),s[e]=z,s[E]=m,v)if(C={values:S?z:_(p),keys:b?z:_(h),entries:A},y)for(w in C)w in N||o(N,w,C[w]);else i(i.P+i.F*(f||k),e,C);return C}},"02f4":function(t,e,n){var r=n("4588"),i=n("be13");t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),l=r(n),c=s.length;return l<0||l>=c?t?"":void 0:(o=s.charCodeAt(l))<55296||o>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):o:t?s.slice(l,l+2):a-56320+(o-55296<<10)+65536}}},"0390":function(t,e,n){var r=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},"0bfb":function(t,e,n){var r=n("cb7c");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var r=n("ce10"),i=n("e11e");t.exports=Object.keys||function(t){return r(t,i)}},1495:function(t,e,n){var r=n("86cc"),i=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,l=0;s>l;)r.f(t,n=a[l++],e[n]);return t}},"214f":function(t,e,n){n("b0c5");var r=n("2aba"),i=n("32e9"),o=n("79e5"),a=n("be13"),s=n("2b4c"),l=n("520a"),c=s("species"),u=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),h=!o((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),p=h?!o((function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e})):void 0;if(!h||!p||"replace"===t&&!u||"split"===t&&!d){var m=/./[f],g=n(a,f,""[t],(function(t,e,n,r,i){return e.exec===l?h&&!i?{done:!0,value:m.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}})),v=g[0],b=g[1];r(String.prototype,t,v),i(RegExp.prototype,f,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}}},"230e":function(t,e,n){var r=n("d3f4"),i=n("7726").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},"23c6":function(t,e,n){var r=n("2d95"),i=n("2b4c")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},"2aba":function(t,e,n){var r=n("7726"),i=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),s=n("fa5b"),l="toString",c=(""+s).split(l);n("8378").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var l="function"==typeof n;l&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(l&&(o(n,a)||i(n,a,t[e]?""+t[e]:c.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,l,(function(){return"function"==typeof this&&this[a]||s.call(this)}))},"2aeb":function(t,e,n){var r=n("cb7c"),i=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},l=function(){var t,e=n("230e")("iframe"),r=o.length;for(e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;r--;)delete l.prototype[o[r]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:i(n,e)}},"2b4c":function(t,e,n){var r=n("5537")("wks"),i=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2fdb":function(t,e,n){var r=n("5ca1"),i=n("d2c8"),o="includes";r(r.P+r.F*n("5147")(o),"String",{includes:function(t){return!!~i(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(t,e,n){var r=n("86cc"),i=n("4630");t.exports=n("9e1e")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},"38fd":function(t,e,n){var r=n("69a8"),i=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"41a0":function(t,e,n){var r=n("2aeb"),i=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),(function(){return this})),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},"456d":function(t,e,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(t){return i(r(t))}}))},4588:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"4bf8":function(t,e,n){var r=n("be13");t.exports=function(t){return Object(r(t))}},5147:function(t,e,n){var r=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},"520a":function(t,e,n){var r,i,o=n("0bfb"),a=RegExp.prototype.exec,s=String.prototype.replace,l=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(t){var e,n,r,i,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",o.call(l))),c&&(e=l.lastIndex),r=a.call(l,t),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),u&&r&&r.length>1&&s.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},"52a7":function(t,e){e.f={}.propertyIsEnumerable},5537:function(t,e,n){var r=n("8378"),i=n("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n("2d00")?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(t,e,n){var r=n("7726"),i=n("8378"),o=n("32e9"),a=n("2aba"),s=n("9b43"),l=function(t,e,n){var c,u,d,f,h=t&l.F,p=t&l.G,m=t&l.S,g=t&l.P,v=t&l.B,b=p?r:m?r[e]||(r[e]={}):(r[e]||{}).prototype,y=p?i:i[e]||(i[e]={}),C=y.prototype||(y.prototype={});for(c in p&&(n=e),n)d=((u=!h&&b&&void 0!==b[c])?b:n)[c],f=v&&u?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,b&&a(b,c,d,t&l.U),y[c]!=d&&o(y,c,f),g&&C[c]!=d&&(C[c]=d)};r.core=i,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},"5eda":function(t,e,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},"5f1b":function(t,e,n){var r=n("23c6"),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},"613b":function(t,e,n){var r=n("5537")("keys"),i=n("ca5a");t.exports=function(t){return r[t]||(r[t]=i(t))}},"626a":function(t,e,n){var r=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},6762:function(t,e,n){var r=n("5ca1"),i=n("c366")(!0);r(r.P,"Array",{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},6821:function(t,e,n){var r=n("626a"),i=n("be13");t.exports=function(t){return r(i(t))}},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"6a99":function(t,e,n){var r=n("d3f4");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},7333:function(t,e,n){var r=n("0d58"),i=n("2621"),o=n("52a7"),a=n("4bf8"),s=n("626a"),l=Object.assign;t.exports=!l||n("79e5")((function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=r}))?function(t,e){for(var n=a(t),l=arguments.length,c=1,u=i.f,d=o.f;l>c;)for(var f,h=s(arguments[c++]),p=u?r(h).concat(u(h)):r(h),m=p.length,g=0;m>g;)d.call(h,f=p[g++])&&(n[f]=h[f]);return n}:l},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var r=n("4588"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7f20":function(t,e,n){var r=n("86cc").f,i=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},8378:function(t,e){var n=t.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},"84f2":function(t,e){t.exports={}},"86cc":function(t,e,n){var r=n("cb7c"),i=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"9b43":function(t,e,n){var r=n("d8e8");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var r=n("2b4c")("unscopables"),i=Array.prototype;null==i[r]&&n("32e9")(i,r,{}),t.exports=function(t){i[r][t]=!0}},"9def":function(t,e,n){var r=n("4588"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a352:function(t,e){t.exports=rn},a481:function(t,e,n){var r=n("cb7c"),i=n("4bf8"),o=n("9def"),a=n("4588"),s=n("0390"),l=n("5f1b"),c=Math.max,u=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,h=/\$([$&`']|\d\d?)/g;n("214f")("replace",2,(function(t,e,n,p){return[function(r,i){var o=t(this),a=null==r?void 0:r[e];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},function(t,e){var i=p(n,t,this,e);if(i.done)return i.value;var d=r(t),f=String(this),h="function"==typeof e;h||(e=String(e));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}for(var b=[];;){var y=l(d,f);if(null===y)break;if(b.push(y),!g)break;""===String(y[0])&&(d.lastIndex=s(f,o(d.lastIndex),v))}for(var C,w="",x=0,_=0;_<b.length;_++){y=b[_];for(var E=String(y[0]),S=c(u(a(y.index),f.length),0),k=[],N=1;N<y.length;N++)k.push(void 0===(C=y[N])?C:String(C));var T=y.groups;if(h){var z=[E].concat(k,S,f);void 0!==T&&z.push(T);var A=String(e.apply(void 0,z))}else A=m(E,f,S,k,T,e);S>=x&&(w+=f.slice(x,S)+A,x=S+E.length)}return w+f.slice(x)}];function m(t,e,r,o,a,s){var l=r+t.length,c=o.length,u=h;return void 0!==a&&(a=i(a),u=f),n.call(s,u,(function(n,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,r);case"'":return e.slice(l);case"<":s=a[i.slice(1,-1)];break;default:var u=+i;if(0===u)return n;if(u>c){var f=d(u/10);return 0===f?n:f<=c?void 0===o[f-1]?i.charAt(1):o[f-1]+i.charAt(1):n}s=o[u-1]}return void 0===s?"":s}))}}))},aae3:function(t,e,n){var r=n("d3f4"),i=n("2d95"),o=n("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},ac6a:function(t,e,n){for(var r=n("cadf"),i=n("0d58"),o=n("2aba"),a=n("7726"),s=n("32e9"),l=n("84f2"),c=n("2b4c"),u=c("iterator"),d=c("toStringTag"),f=l.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),m=0;m<p.length;m++){var g,v=p[m],b=h[v],y=a[v],C=y&&y.prototype;if(C&&(C[u]||s(C,u,f),C[d]||s(C,d,v),l[v]=f,b))for(g in r)C[g]||o(C,g,r[g],!0)}},b0c5:function(t,e,n){var r=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},be13:function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},c366:function(t,e,n){var r=n("6821"),i=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var s,l=r(e),c=i(l.length),u=o(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}}},c649:function(t,e,n){(function(t){n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return l})),n("a481");var r,i,o="undefined"!=typeof window?window.console:t.console,a=/-(\w)/g,s=(r=function(t){return t.replace(a,(function(t,e){return e?e.toUpperCase():""}))},i=Object.create(null),function(t){return i[t]||(i[t]=r(t))});function l(t){null!==t.parentElement&&t.parentElement.removeChild(t)}function c(t,e,n){var r=0===n?t.children[0]:t.children[n-1].nextSibling;t.insertBefore(e,r)}}).call(this,n("c8ba"))},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")((function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},cadf:function(t,e,n){var r=n("9c6c"),i=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",(function(t,e){this._t=a(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])}),"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},cb7c:function(t,e,n){var r=n("d3f4");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},ce10:function(t,e,n){var r=n("69a8"),i=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~o(c,n)||c.push(n));return c}},d2c8:function(t,e,n){var r=n("aae3"),i=n("be13");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},d3f4:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},f559:function(t,e,n){var r=n("5ca1"),i=n("9def"),o=n("d2c8"),a="startsWith",s="".startsWith;r(r.P+r.F*n("5147")(a),"String",{startsWith:function(t){var e=o(this,t,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return s?s.call(e,r,n):e.slice(n,n+r.length)===r}})},f6fd:function(t,e){var n,r,i;n=document,r="currentScript",i=n.getElementsByTagName("script"),r in n||Object.defineProperty(n,r,{get:function(){try{throw new Error}catch(n){var t,e=(/.*at [^\(]*\((.*):.+:.+\)$/gi.exec(n.stack)||[!1])[1];for(t in i)if(i[t].src==e||"interactive"==i[t].readyState)return i[t];return null}}})},f751:function(t,e,n){var r=n("5ca1");r(r.S+r.F,"Object",{assign:n("7333")})},fa5b:function(t,e,n){t.exports=n("5537")("native-function-to-string",Function.toString)},fab2:function(t,e,n){var r=n("7726").document;t.exports=r&&r.documentElement},fb15:function(t,e,n){var r;function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(t,e)||o(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||o(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(e),"undefined"!=typeof window&&(n("f6fd"),(r=window.document.currentScript)&&(r=r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/))&&(n.p=r[1])),n("f751"),n("f559"),n("ac6a"),n("cadf"),n("456d"),n("6762"),n("2fdb");var l=n("a352"),c=n.n(l),u=n("c649");function d(t,e){var n=this;this.$nextTick((function(){return n.$emit(t.toLowerCase(),e)}))}function f(t){var e=this;return function(n){null!==e.realList&&e["onDrag"+t](n),d.call(e,t,n)}}function h(t){return["transition-group","TransitionGroup"].includes(t)}function p(t,e,n){return t[n]||(e[n]?e[n]():void 0)}var m=["Start","Add","Remove","Update","End"],g=["Choose","Unchoose","Sort","Filter","Clone"],v=["Move"].concat(m,g).map((function(t){return"on"+t})),b=null,y={name:"draggable",inheritAttrs:!1,props:{options:Object,list:{type:Array,required:!1,default:null},value:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:function(t){return t}},element:{type:String,default:"div"},tag:{type:String,default:null},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},data:function(){return{transitionMode:!1,noneFunctionalComponentMode:!1}},render:function(t){var e=this.$slots.default;this.transitionMode=function(t){if(!t||1!==t.length)return!1;var e=a(t,1)[0].componentOptions;return!!e&&h(e.tag)}(e);var n=function(t,e,n){var r=0,i=0,o=p(e,n,"header");o&&(r=o.length,t=t?[].concat(s(o),s(t)):s(o));var a=p(e,n,"footer");return a&&(i=a.length,t=t?[].concat(s(t),s(a)):s(a)),{children:t,headerOffset:r,footerOffset:i}}(e,this.$slots,this.$scopedSlots),r=n.children,i=n.headerOffset,o=n.footerOffset;this.headerOffset=i,this.footerOffset=o;var l=function(t,e){var n=null,r=function(t,e){n=function(t,e,n){return void 0===n||((t=t||{})[e]=n),t}(n,t,e)};if(r("attrs",Object.keys(t).filter((function(t){return"id"===t||t.startsWith("data-")})).reduce((function(e,n){return e[n]=t[n],e}),{})),!e)return n;var i=e.on,o=e.props,a=e.attrs;return r("on",i),r("props",o),Object.assign(n.attrs,a),n}(this.$attrs,this.componentData);return t(this.getTag(),l,r)},created:function(){null!==this.list&&null!==this.value&&u.b.error("Value and list props are mutually exclusive! Please set one or another."),"div"!==this.element&&u.b.warn("Element props is deprecated please use tag props instead. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#element-props"),void 0!==this.options&&u.b.warn("Options props is deprecated, add sortable options directly as vue.draggable item, or use v-bind. See https://github.com/SortableJS/Vue.Draggable/blob/master/documentation/migrate.md#options-props")},mounted:function(){var t=this;if(this.noneFunctionalComponentMode=this.getTag().toLowerCase()!==this.$el.nodeName.toLowerCase()&&!this.getIsFunctional(),this.noneFunctionalComponentMode&&this.transitionMode)throw new Error("Transition-group inside component is not supported. Please alter tag value or remove transition-group. Current tag value: ".concat(this.getTag()));var e={};m.forEach((function(n){e["on"+n]=f.call(t,n)})),g.forEach((function(n){e["on"+n]=d.bind(t,n)}));var n=Object.keys(this.$attrs).reduce((function(e,n){return e[Object(u.a)(n)]=t.$attrs[n],e}),{}),r=Object.assign({},this.options,n,e,{onMove:function(e,n){return t.onDragMove(e,n)}});!("draggable"in r)&&(r.draggable=">*"),this._sortable=new c.a(this.rootContainer,r),this.computeIndexes()},beforeDestroy:function(){void 0!==this._sortable&&this._sortable.destroy()},computed:{rootContainer:function(){return this.transitionMode?this.$el.children[0]:this.$el},realList:function(){return this.list?this.list:this.value}},watch:{options:{handler:function(t){this.updateOptions(t)},deep:!0},$attrs:{handler:function(t){this.updateOptions(t)},deep:!0},realList:function(){this.computeIndexes()}},methods:{getIsFunctional:function(){var t=this._vnode.fnOptions;return t&&t.functional},getTag:function(){return this.tag||this.element},updateOptions:function(t){for(var e in t){var n=Object(u.a)(e);-1===v.indexOf(n)&&this._sortable.option(n,t[e])}},getChildrenNodes:function(){if(this.noneFunctionalComponentMode)return this.$children[0].$slots.default;var t=this.$slots.default;return this.transitionMode?t[0].child.$slots.default:t},computeIndexes:function(){var t=this;this.$nextTick((function(){t.visibleIndexes=function(t,e,n,r){if(!t)return[];var i=t.map((function(t){return t.elm})),o=e.length-r,a=s(e).map((function(t,e){return e>=o?i.length:i.indexOf(t)}));return n?a.filter((function(t){return-1!==t})):a}(t.getChildrenNodes(),t.rootContainer.children,t.transitionMode,t.footerOffset)}))},getUnderlyingVm:function(t){var e=function(t,e){return t.map((function(t){return t.elm})).indexOf(e)}(this.getChildrenNodes()||[],t);return-1===e?null:{index:e,element:this.realList[e]}},getUnderlyingPotencialDraggableComponent:function(t){var e=t.__vue__;return e&&e.$options&&h(e.$options._componentTag)?e.$parent:!("realList"in e)&&1===e.$children.length&&"realList"in e.$children[0]?e.$children[0]:e},emitChanges:function(t){var e=this;this.$nextTick((function(){e.$emit("change",t)}))},alterList:function(t){if(this.list)t(this.list);else{var e=s(this.value);t(e),this.$emit("input",e)}},spliceList:function(){var t=arguments,e=function(e){return e.splice.apply(e,s(t))};this.alterList(e)},updatePosition:function(t,e){this.alterList((function(n){return n.splice(e,0,n.splice(t,1)[0])}))},getRelatedContextFromMoveEvent:function(t){var e=t.to,n=t.related,r=this.getUnderlyingPotencialDraggableComponent(e);if(!r)return{component:r};var i=r.realList,o={list:i,component:r};if(e!==n&&i&&r.getUnderlyingVm){var a=r.getUnderlyingVm(n);if(a)return Object.assign(a,o)}return o},getVmIndex:function(t){var e=this.visibleIndexes,n=e.length;return t>n-1?n:e[t]},getComponent:function(){return this.$slots.default[0].componentInstance},resetTransitionData:function(t){if(this.noTransitionOnDrag&&this.transitionMode){this.getChildrenNodes()[t].data=null;var e=this.getComponent();e.children=[],e.kept=void 0}},onDragStart:function(t){this.context=this.getUnderlyingVm(t.item),t.item._underlying_vm_=this.clone(this.context.element),b=t.item},onDragAdd:function(t){var e=t.item._underlying_vm_;if(void 0!==e){Object(u.d)(t.item);var n=this.getVmIndex(t.newIndex);this.spliceList(n,0,e),this.computeIndexes();var r={element:e,newIndex:n};this.emitChanges({added:r})}},onDragRemove:function(t){if(Object(u.c)(this.rootContainer,t.item,t.oldIndex),"clone"!==t.pullMode){var e=this.context.index;this.spliceList(e,1);var n={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:n})}else Object(u.d)(t.clone)},onDragUpdate:function(t){Object(u.d)(t.item),Object(u.c)(t.from,t.item,t.oldIndex);var e=this.context.index,n=this.getVmIndex(t.newIndex);this.updatePosition(e,n);var r={element:this.context.element,oldIndex:e,newIndex:n};this.emitChanges({moved:r})},updateProperty:function(t,e){t.hasOwnProperty(e)&&(t[e]+=this.headerOffset)},computeFutureIndex:function(t,e){if(!t.element)return 0;var n=s(e.to.children).filter((function(t){return"none"!==t.style.display})),r=n.indexOf(e.related),i=t.component.getVmIndex(r);return-1===n.indexOf(b)&&e.willInsertAfter?i+1:i},onDragMove:function(t,e){var n=this.move;if(!n||!this.realList)return!0;var r=this.getRelatedContextFromMoveEvent(t),i=this.context,o=this.computeFutureIndex(r,t);return Object.assign(i,{futureIndex:o}),n(Object.assign({},t,{relatedContext:r,draggedContext:i}),e)},onDragEnd:function(){this.computeIndexes(),b=null}}};"undefined"!=typeof window&&"Vue"in window&&window.Vue.component("draggable",y);var C=y;e.default=C}}).default));function sn(t,e,n,r,i,o,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}const ln={name:"attachment-atags",props:{aid:String,upload:Boolean,filters:Array,options:Object},data:()=>({visibility:{default:{visible:!0,model:"*",slug:"*",atags:"*",types:"*",filters:"*"},hiddenValues:{filters:[],atagTypes:[],atags:[]}}}),computed:{atagTypes(){return this.$store.get(this.aid+"/atags/list").map(((t,e)=>{let n=t.atags.map(((t,e)=>Object.assign({index:e},t)));return Object.assign({index:e},t,{atags:n,isActive:!1})}))},aParams(){return this.$store.get(this.aid+"/aParams")},visibilityParams(){let t=[this.visibility.default];for(let e=0;e<this.options.visibility.length;e++){let n=Object.assign({},this.visibility.default);t.push(Object.assign(n,this.options.visibility[e]))}return t}},watch:{aParams:{handler(){this.checkForHiddenOptions(),this.removeTagsActived(),this.checkAllActived()},deep:!0}},created(){},mounted(){this.checkForHiddenOptions()},methods:{toggle(t,e){if(this.atagTypes[t].exclusive&&this.upload)for(let r in this.atagTypes[t].atags)r!=e&&(this.atagTypes[t].atags[r].isActive=!1);this.atagTypes[t].atags[e].isActive?this.atagTypes[t].atags[e].isActive=!1:this.atagTypes[t].atags[e].isActive=!0,this.$forceUpdate();let n=[];for(let r in this.atagTypes)for(let t in this.atagTypes[r].atags)this.atagTypes[r].atags[t].isActive&&n.push(this.atagTypes[r].atags[t].name);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:n.join(","),page:1})),this.upload&&(this.$store.set(this.aid+"/upload",Object.assign(this.$store.get(this.aid+"/upload"),{atags:n})),this.checkForHiddenOptions())},filterOption(t){if(!this.upload){let t=[];for(let e in this.filters)for(let n in this.filters[e].options)this.filters[e].options[n].isActive&&t.push(this.filters[e].options[n].slug);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{filters:t.join(","),page:1}))}},checkActive(t,e,n){return this.atagTypes[t].atags[e].isActive=1==this.aParams.atags.split(",").includes(n),1==this.aParams.atags.split(",").includes(n)},checkAllActived(){for(let t=0;t<this.atagTypes.length;t++)for(let e=0;e<this.atagTypes[t].atags.length;e++)this.atagTypes[t].atags[e].isActive=1==this.aParams.atags.split(",").includes(this.atagTypes[t].atags[e].name)},checkFilterActive(t,e,n){return this.filters[t].options[e].isActive=-1!==this.aParams.filters.indexOf(n),-1!==this.aParams.filters.indexOf(n)},removeTagsActived(){let t=!1;if(this.visibility.hiddenValues.atagTypes.length>0){t=!0;for(let t=0;t<this.visibility.hiddenValues.atagTypes.length;t++){let e=this.visibility.hiddenValues.atagTypes[t],n=this.atagTypes.find((({slug:t})=>t===e));if(n)for(let t=0;t<n.atags.length;t++)n.atags[t].isActive=!1}}if(t){let t=[],e=this;setTimeout((function(){for(let n in e.atagTypes)for(let r in e.atagTypes[n].atags)e.atagTypes[n].atags[r].isActive&&t.push(e.atagTypes[n].atags[r].name);e.$store.set(e.aid+"/aParams",Object.assign(e.$store.get(e.aid+"/aParams"),{atags:t.join(","),page:1}))}),0)}},checkForHiddenOptions(){if("browse"==this.$parent.mode){let e=this.visibility.hiddenValues;for(var t=0;t<this.visibilityParams.length;t++){let n=this.visibilityParams[t],r=1;if("*"!=n.atags)for(let t=0;t<n.atags.length;t++)if(!this.aParams.atags.split(",").includes(n.atags[t])){r=0;break}if("*"!=n.types&&r)for(let t=0;t<n.types.length;t++)if(!this.aParams.type.split(",").includes(n.types[t])){r=0;break}if("*"!=n.filters&&r)for(let t=0;t<n.filters.length;t++)if(!this.aParams.filters.split(",").includes(n.filters[t])){r=0;break}if(r)switch(n.model){case"*":e.filters=[],e.atagTypes=[],e.atags=[];break;case"Filters":n.visible?e.filters=e.filters.filter((t=>t!=n.slug)):-1==e.filters.indexOf(n.slug)&&e.filters.push(n.slug);break;case"AtagTypes":n.visible?e.atagTypes=e.atagTypes.filter((t=>t!=n.slug)):-1==e.atagTypes.indexOf(n.slug)&&e.atagTypes.push(n.slug);break;case"Atags":if(n.visible)e.atags=e.atags.filter((t=>t!=n.slug));else for(let t=0;t<n.slug.length;t++)-1==e.atags.indexOf(n.slug[t])&&e.atags.push(n.slug[t])}}}this.$forceUpdate()}}},cn={};var un=sn(ln,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section-attachment--atags"},[t.atagTypes?n("ul",{staticClass:"list-unstyled section-attachment__list"},[t._l(t.filters,(function(e,r){return t.upload||t.visibility.hiddenValues.filters.includes(e.slug)?t._e():n("li",[n("div",{staticClass:"section-attachment__list-title d-flex flex-row justify-content-between"},[n("p",{staticClass:"text--upper mb-0 color--grey-light-text"},[t._v(t._s(e.label))])]),n("ul",{staticClass:"list-unstyled section-attachment__sublist"},t._l(e.options,(function(e,i){return n("li",{key:i,staticClass:"d-flex flex-row justify-content-between align-items-center",class:{active:t.checkFilterActive(r,i,e.slug)},on:{click:function(n){e.isActive=!e.isActive,t.$forceUpdate(),t.filterOption(e.slug)}}},[t._v(" "+t._s(e.label)+" "),n("input",{attrs:{type:"checkbox"},domProps:{checked:t.checkFilterActive(r,i,e.slug)}})])})),0)])})),t._l(t.atagTypes,(function(e,r){return t.visibility.hiddenValues.atagTypes.includes(e.slug)?t._e():n("li",[n("div",{staticClass:"section-attachment__list-title d-flex flex-row justify-content-between"},[n("p",{staticClass:"text--upper mb-0 color--grey-light-text"},[t._v(t._s(e.name))])]),n("ul",{staticClass:"list-unstyled section-attachment__sublist"},t._l(e.atags,(function(e,i){return t.visibility.hiddenValues.atags.includes(e.slug)?t._e():n("li",{staticClass:"d-flex flex-row justify-content-between align-items-center",class:{active:t.upload?e.isActive:t.checkActive(r,i,e.name)},on:{click:function(e){return t.toggle(r,i)}}},[t._v(" "+t._s(e.name)+" "),n("input",{attrs:{type:"checkbox"},domProps:{checked:t.upload?e.isActive:t.checkActive(r,i,e.name)}})])})),0)])}))],2):t._e()])}),[],!1,dn,null,null,null);function dn(t){for(let e in cn)this[e]=cn[e]}var fn=function(){return un.exports}();const hn={};var pn=sn({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"11px",height:"8px",viewBox:"0 0 11 8",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("polygon",{attrs:{points:"4.0228267 8.0304708 0.4925532 4.5001974 1.5531 3.4396503 4.0228267 5.9093771 9.4925528 0.4396504 10.5530996 1.5001973"}})])}),[],!1,mn,null,null,null);function mn(t){for(let e in hn)this[e]=hn[e]}var gn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thumbInfo"==t.mode?"tbody":"div",{tag:"div",on:{mouseover:function(e){t.hover=!0},mouseleave:function(e){t.hover=!1}}},["input"==t.mode?n("div",[n("div",{staticClass:"card attachment-input"},[n("div",{staticClass:"attachment-input__icon-container"},[n("div",[t.$options.filters.isThumbable(t.attachment)?n("img",{staticClass:"card-img-top",attrs:{src:t.thumbBaseUrl("w678c4-3q90",t.attachment)}}):t._e(),n("span",{domProps:{innerHTML:t._s(t.$options.filters.icon(t.attachment))}}),n("div",{staticClass:"attachment-thumb__hover"},[t.isSelected(t.attachment.id)?n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[n("icon-check"),n("div",{staticClass:"utils--spacer-mini"}),t._v(" fichier selectionn ")],1):t._e(),t.hover?n("div",{staticClass:"attachment-thumb__actions d-flex flex-column justify-content-end align-items-end"},[n("div",{staticClass:"btn-group"},[t.settings.groupActions.length>0?n("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter  la slection",alt:"Ajouter  la slection"},on:{click:function(e){return t.toggleFile(t.attachment)}}},[t.isSelected(t.attachment.id)?n("i",{staticClass:"material-icons"},[t._v(" remove_circle ")]):n("i",{staticClass:"material-icons"},[t._v(" add_circle ")])]):t._e()])]):t._e()])])]),n("div",{staticClass:"card-body"},[n("p",{staticClass:"card-text small"},[t.attachment.title?n("span",[t._v(t._s(t.attachment.title)),n("br")]):t._e(),t._v(" "+t._s(t.attachment.name)),n("br")]),"belongsToMany"==t.settings.relation?n("input",{attrs:{type:"hidden",name:"attachments["+t.index+"][id]"},domProps:{value:t.attachment.id}}):t._e(),"belongsToMany"==t.settings.relation?n("input",{attrs:{type:"hidden",name:"attachments["+t.index+"][_joinData][order]"},domProps:{value:t.index}}):t._e(),"belongsToMany"!=t.settings.relation?n("input",{attrs:{type:"hidden",name:t.settings.field},domProps:{value:t.attachment.id}}):t._e()])])]):"thumb"==t.mode?n("div",[n("div",{staticClass:"card attachment-thumb"},[n("div",{staticClass:"attachment-thumb__icon-container"},[n("div",[t.$options.filters.isThumbable(t.attachment)?n("img",{staticClass:"card-img-top",attrs:{alt:"",src:t.thumbBaseUrl("w678c4-3q90",t.attachment)}}):t._e(),n("span",{domProps:{innerHTML:t._s(t.$options.filters.icon(t.attachment))}}),n("div",{staticClass:"attachment-thumb__hover"},[t.isSelected(t.attachment.id)?n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[n("icon-check"),n("div",{staticClass:"utils--spacer-mini"}),t._v(" fichier selectionn ")],1):t._e(),t.hover?n("div",{staticClass:"attachment-thumb__actions d-flex flex-column justify-content-end align-items-end"},[n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn--grey color--white",attrs:{title:"Infos",alt:"Infos"},on:{click:function(e){return t.infos(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v("info")])]),-1!=t.settings.actions.indexOf("view")&&"application"!=t.attachment.type||"application"==t.attachment.type&&"pdf"==t.attachment.subtype?n("div",{staticClass:"btn btn--green color--white",attrs:{title:"Aperu",alt:"Aperu"},on:{click:function(e){return t.preview(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v(" remove_red_eye")])]):t._e(),-1!=t.settings.actions.indexOf("download")?n("div",{staticClass:"btn btn--blue color--white",attrs:{title:"Tlcharger",alt:"Tlcharger"},on:{click:function(e){return t.downloadFile(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v(" cloud_download ")])]):t._e(),t.settings.groupActions.length>0?n("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter  la slection",alt:"Ajouter  la slection"},on:{click:function(e){return t.toggleFile(t.attachment)}}},[t.isSelected(t.attachment.id)?n("i",{staticClass:"material-icons"},[t._v(" remove_circle ")]):n("i",{staticClass:"material-icons"},[t._v(" add_circle ")])]):t._e()])]):t._e()])])]),n("div",{staticClass:"card-body"},[n("p",{staticClass:"card-text small"},[t.attachment.title?n("span",[t._v(t._s(t.attachment.title)),n("br")]):t._e(),t._v(" "+t._s(t.attachment.name)),n("br")])])])]):"thumbInfo"==t.mode?n("tr",[n("td",[n("div",{staticClass:"attachment-thumb__icon-container table"},[n("div",[t.$options.filters.isThumbable(t.attachment)?n("img",{staticClass:"card-img-top",attrs:{alt:"",src:t.thumbBaseUrl("w60c1-1q75",t.attachment),width:"60"}}):t._e(),n("span",{domProps:{innerHTML:t._s(t.$options.filters.icon(t.attachment))}})])])]),n("td",[t.attachment.title?n("span",[t._v(t._s(t.attachment.title)+" | ")]):t._e(),t._v(" "+t._s(t.attachment.name)),n("br"),t._v(" "+t._s(t.attachment.date)),n("br"),t._v(" "+t._s(t._f("decimal")(t._f("bytesToMegaBytes")(t.attachment.size),2))+" MB ")]),n("td",{staticClass:"text-right"},[n("div",{staticClass:"btn-group attachment__actions"},[n("div",{staticClass:"btn btn--grey color--white",attrs:{title:"Infos",alt:"Infos"},on:{click:function(e){return t.infos(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v("info")])]),"application"!=t.attachment.type||"application"==t.attachment.type&&"pdf"==t.attachment.subtype?n("div",{staticClass:"btn btn--green color--white",attrs:{title:"Aperu",alt:"Aperu"},on:{click:function(e){return t.preview(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v(" remove_red_eye ")])]):t._e(),n("div",{staticClass:"btn btn--blue color--white",attrs:{title:"Tlcharger",alt:"Tlcharger"},on:{click:function(e){return t.downloadFile(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v(" cloud_download ")])]),n("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter  la slection",alt:"Ajouter  la slection"},on:{click:function(e){return t.toggleFile(t.attachment)}}},[t.isSelected(t.attachment.id)?n("i",{staticClass:"material-icons"},[t._v(" remove_circle ")]):n("i",{staticClass:"material-icons"},[t._v(" add_circle ")])])])])]):"mosaic"==t.mode?n("div",{staticClass:"attachment-thumb"},[t.$options.filters.isThumbable(t.attachment)?n("img",{staticClass:"img-fluid",attrs:{alt:"",src:t.thumbBaseUrl("w678q90",t.attachment)}}):t._e(),n("div",{staticClass:"attachment-thumb__hover"},[t.isSelected(t.attachment.id)?n("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[n("icon-check"),n("div",{staticClass:"utils--spacer-mini"}),t._v(" fichier selectionn ")],1):t._e(),t.hover?n("div",{staticClass:"attachment-thumb__actions d-flex flex-column justify-content-end align-items-end"},[n("div",{staticClass:"btn-group"},[n("div",{staticClass:"btn btn--grey color--white",attrs:{title:"Infos",alt:"Infos"},on:{click:function(e){return t.infos(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v("info")])]),"application"!=t.attachment.type||"application"==t.attachment.type&&"pdf"==t.attachment.subtype?n("div",{staticClass:"btn btn--green color--white",attrs:{title:"Aperu",alt:"Aperu"},on:{click:function(e){return t.preview(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v(" remove_red_eye ")])]):t._e(),n("div",{staticClass:"btn btn--blue color--white",attrs:{title:"Tlcharger",alt:"Tlcharger"},on:{click:function(e){return t.downloadFile(t.attachment)}}},[n("i",{staticClass:"material-icons"},[t._v(" cloud_download ")])]),n("div",{staticClass:"btn btn--blue-dark color--white",attrs:{title:"Ajouter  la slction",alt:"Ajouter  la slction"},on:{click:function(e){return t.toggleFile(t.attachment)}}},[t.isSelected(t.attachment.id)?n("i",{staticClass:"material-icons"},[t._v(" remove_circle ")]):n("i",{staticClass:"material-icons"},[t._v(" add_circle ")])])])]):t._e()])]):t._e()])},vn=[];const bn={name:"attachment",components:{"icon-check":function(){return pn.exports}()},props:{attachment:Object,index:Number,aid:String,mode:String},data:()=>({hover:!1,requestArchive:0}),computed:{settings(){return this.$store.get(this.aid+"/settings")},selectedFiles(){return this.$store.get(this.aid+"/selection.files")}},mounted:function(){this.checkForArchiveProcessing()},methods:d(u({},m({fetchAttachment(t,e){return t(this.aid+"/attachments/fetchSingle",e)}})),{thumbBaseUrl(t,e){let n="string"==typeof e?__WEBROOT__+"thumbnails/":this.$store.get(this.aid+"/settings.baseUrls."+e.profile+".thumbnails"),r=e.thumb_params?e.thumb_params:"";return n+("string"==typeof e?"default/"+t+"/"+e:e.profile+"/"+t+"/"+e.path+r)},toggleFile(t){-1==this.selectedFiles.findIndex((e=>e.id===t.id))?this.$store.commit(this.aid+"/addFileToSelection",t):this.$store.commit(this.aid+"/removeFileFromSelection",t)},isSelected(t){return-1!==this.selectedFiles.findIndex((e=>e.id===t))},forceFileDownload(t,e){if(navigator.appVersion.toString().indexOf(".NET")>0)window.navigator.msSaveBlob(new Blob([t.data],{type:t.headers["content-type"]}),e.name);else{const n=window.URL.createObjectURL(new Blob([t.data],{type:t.headers["content-type"]})),r=document.createElement("a");r.href=n,r.setAttribute("download",e.name),document.body.appendChild(r),r.click()}},downloadFile(t){O.get(t.url,{responseType:"arraybuffer"}).then((e=>{this.forceFileDownload(e,t)})).catch((t=>console.log(t)))},preview(t){this.$store.set(this.aid+"/preview",t),this.$forceUpdate()},infos(t){this.$store.set(this.aid+"/infos",t),this.$forceUpdate()},checkForArchiveProcessing(){this.attachment.aarchive&&"PROCESSING"==this.attachment.aarchive.state&&setTimeout(function(){this.checkStatus()}.bind(this),5e3)},checkStatus(){this.requestArchive++,this.requestArchive<=30&&this.fetchAttachment({customUrl:this.settings.url+"attachment/attachments/view/"+this.attachment.id}).then((t=>{let e=t.data.data;"PROCESSING"==e.aarchive.state?setTimeout(function(){this.checkStatus()}.bind(this),5e3):(this.attachment=e,this.$forceUpdate())})).catch((()=>console.log("error occured")))}})},yn={};var Cn=sn(bn,gn,vn,!1,wn,null,null,null);function wn(t){for(let e in yn)this[e]=yn[e]}var xn=function(){return Cn.exports}();const _n={};var En=sn({name:"attachment-pagination",props:{aid:String,pagination:{type:Object,required:!0},settings:Object},data:function(){return{lastPage:1,offset:4,start:!1,end:!1,from:1,to:2}},computed:{array:function(){if(this.offset=this.settings.pagination.offset,this.start=this.settings.pagination.start,this.end=this.settings.pagination.end,1==this.pagination.page_count)return[];this.from=this.pagination.current_page-Math.floor(this.offset/2),this.from+this.offset>=this.pagination.page_count&&(this.from=this.pagination.current_page-(this.offset-(this.pagination.page_count-this.pagination.current_page))),this.from<1&&(this.from=1),this.to=this.from+this.offset,this.to>=this.pagination.page_count&&(this.to=this.pagination.page_count);for(var t=[],e=this.from;e<=this.to;)t.push(e),e++;return t},aParams(){return this.$store.get(this.aid+"/aParams")}},methods:{changePage:function(t){this.lastPage=this.pagination.current_page,this.pagination.current_page=t,this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{page:this.pagination.current_page}))}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"attachment-pagination"}},[n("nav",[n("ul",{staticClass:"pagination"},[t.start?n("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_prev_page}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"First"},on:{click:function(e){return e.preventDefault(),t.changePage(1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("first")])])]):t._e(),t.pagination.current_page-t.offset-1>1?n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"More"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page-t.offset-1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v(""+t._s(t.pagination.current_page-t.offset-1))])])]):t._e(),n("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_prev_page}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("")])])]),t._l(t.array,(function(e,r){return n("li",{staticClass:"page-item",class:{active:e==t.pagination.current_page}},[n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])})),n("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next_page}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("")])])]),t.pagination.current_page+t.offset+1<t.pagination.page_count?n("li",{staticClass:"page-item"},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"More"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.current_page+t.offset+1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v(t._s(t.pagination.current_page+t.offset+1)+" ")])])]):t._e(),t.end?n("li",{staticClass:"page-item",class:{disabled:!t.pagination.has_next_page}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Last"},on:{click:function(e){return e.preventDefault(),t.changePage(t.pagination.page_count)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("last")])])]):t._e()],2)]),n("small",[t._v(" Page "+t._s(t.pagination.current_page)+" on "+t._s(t.pagination.page_count)+" (total: "+t._s(t.pagination.count)+") ")])])}),[],!1,Sn,null,null,null);function Sn(t){for(let e in _n)this[e]=_n[e]}var kn=function(){return En.exports}();const Nn={};var Tn=sn({name:"preview",props:{aid:String},data:()=>({open:!1}),computed:{attachment(){return this.$store.get(this.aid+"/preview")}},watch:{attachment:function(){this.open=!0}},created(){},methods:{close(){this.open=!1,this.$store.set(this.aid+"/infos",{})}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.open&&t.attachment.id?n("div",{staticClass:"block-attachment--modal"},[n("div",{staticClass:"block-attachment__close",on:{click:function(e){t.open=!1}}},[n("i",{staticClass:"material-icons"},[t._v(" clear ")])]),n("div",{staticClass:"block-attachment__content"},["image"==t.attachment.type?n("img",{staticClass:"img-fluid",attrs:{src:t.attachment.url}}):"video"==t.attachment.type?n("video",{staticClass:"img-fluid",attrs:{src:t.attachment.url,controls:""}}):"embed"==t.attachment.type?n("div",[t._v(t._s(t.attachment.embed))]):"pdf"==t.attachment.subtype?n("iframe",{staticClass:"w-100",attrs:{frameborder:"0",src:t.attachment.url}}):t._e()])]):t._e()}),[],!1,zn,null,null,null);function zn(t){for(let e in Nn)this[e]=Nn[e]}var An=function(){return Tn.exports}();const Mn={};var On=sn({name:"preview",props:{aid:String},data:()=>({open:!1}),computed:{attachment(){return this.$store.get(this.aid+"/infos")}},watch:{attachment:function(){this.open=!0}},created(){},methods:{close(){this.open=!1,this.$store.set(this.aid+"/infos",{})}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.open&&t.attachment.id?n("div",{staticClass:"block-attachment--modal"},[n("div",{staticClass:"block-attachment__close",on:{click:function(e){t.open=!1}}},[n("i",{staticClass:"material-icons"},[t._v(" clear ")])]),n("div",{staticClass:"block-attachment__content"},[n("div",{staticClass:"block block-attachment__infos block--white text-left"},[n("ul",{staticClass:"list-unstyled mb-0"},[n("li",[n("strong",[t._v("Nom")]),t._v(": "+t._s(t.attachment.name))]),n("li",[n("strong",[t._v("Type")]),t._v(": "+t._s(t.attachment.type)+"/"+t._s(t.attachment.subtype))]),n("li",[n("strong",[t._v("Poids")]),t._v(": "+t._s(t._f("decimal")(t._f("bytesToMegaBytes")(t.attachment.size),2))+"MB")]),t.attachment.width?n("li",[n("strong",[t._v("Largeur")]),t._v(": "+t._s(t.attachment.width))]):t._e(),t.attachment.height?n("li",[n("strong",[t._v("Hauteur")]),t._v(": "+t._s(t.attachment.height))]):t._e(),n("li",[n("strong",[t._v("ID")]),t._v(": "+t._s(t.attachment.id))]),t.attachment.title?n("li",[n("strong",[t._v("Title")]),t._v(": "+t._s(t.attachment.title))]):t._e(),t.attachment.date?n("li",[n("strong",[t._v("Date")]),t._v(": "+t._s(t.attachment.date))]):t._e(),t.attachment.date?n("li",[n("strong",[t._v("Date d'upload")]),t._v(": "+t._s(t.attachment.created))]):t._e(),t.attachment.description?n("li",[n("strong",[t._v("Description")]),t._v(": "+t._s(t.attachment.description))]):t._e(),t.attachment.author?n("li",[n("strong",[t._v("Auteur")]),t._v(": "+t._s(t.attachment.author))]):t._e(),t.attachment.copyright?n("li",[n("strong",[t._v("Copyright")]),t._v(": "+t._s(t.attachment.copyright))]):t._e()])])])]):t._e()}),[],!1,Pn,null,null,null);function Pn(t){for(let e in Mn)this[e]=Mn[e]}var Rn=function(){return On.exports}();const Ln={};var Dn=sn({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"22px",height:"20px",viewBox:"0 0 22 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",[e("path",{attrs:{d:"M0,0 L5.5,0 L5.5,5.45454545 L0,5.45454545 L0,0 Z M0,7.27272727 L5.5,7.27272727 L5.5,12.7272727 L0,12.7272727 L0,7.27272727 Z M8.25,0 L13.75,0 L13.75,5.45454545 L8.25,5.45454545 L8.25,0 Z M8.25,7.27272727 L13.75,7.27272727 L13.75,12.7272727 L8.25,12.7272727 L8.25,7.27272727 Z M16.5,0 L22,0 L22,5.45454545 L16.5,5.45454545 L16.5,0 Z M16.5,7.27272727 L22,7.27272727 L22,12.7272727 L16.5,12.7272727 L16.5,7.27272727 Z M0,14.5454545 L5.5,14.5454545 L5.5,20 L0,20 L0,14.5454545 Z M8.25,14.5454545 L13.75,14.5454545 L13.75,20 L8.25,20 L8.25,14.5454545 Z M16.5,14.5454545 L22,14.5454545 L22,20 L16.5,20 L16.5,14.5454545 Z",id:"Combined-Shape"}})])])}),[],!1,Bn,null,null,null);function Bn(t){for(let e in Ln)this[e]=Ln[e]}var Hn=function(){return Dn.exports}();const In={};var Vn=sn({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"22px",height:"20px",viewBox:"0 0 22 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",[e("path",{attrs:{d:"M0,0 L5.5,0 L5.5,20 L0,20 L0,0 Z M8.25,0 L22,0 L22,8.18181818 L8.25,8.18181818 L8.25,0 Z M16.5,10.9090909 L22,10.9090909 L22,20 L16.5,20 L16.5,10.9090909 Z M8.25,10.9090909 L13.75,10.9090909 L13.75,20 L8.25,20 L8.25,10.9090909 Z",id:"Combined-Shape"}})])])}),[],!1,Fn,null,null,null);function Fn(t){for(let e in In)this[e]=In[e]}var jn=function(){return Vn.exports}();const $n={};var Un=sn({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"24px",height:"20px",viewBox:"0 0 24 20",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",[e("path",{attrs:{d:"M7.38461538,0 L7.38461538,3.63636364 L24,3.63636364 L24,0 L7.38461538,0 Z M0,3.63636364 L4.61538462,3.63636364 L4.61538462,0 L0,0 L0,3.63636364 Z M7.38461538,11.8181818 L24,11.8181818 L24,8.18181818 L7.38461538,8.18181818 L7.38461538,11.8181818 Z M0,11.8181818 L4.61538462,11.8181818 L4.61538462,8.18181818 L0,8.18181818 L0,11.8181818 Z M7.38461538,20 L24,20 L24,16.3636364 L7.38461538,16.3636364 L7.38461538,20 Z M0,20 L4.61538462,20 L4.61538462,16.3636364 L0,16.3636364 L0,20 Z"}})])])}),[],!1,qn,null,null,null);function qn(t){for(let e in $n)this[e]=$n[e]}var Wn=function(){return Un.exports}();const Xn={};var Kn=sn({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"19px",height:"19px",viewBox:"0 0 19 19",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",[e("path",{attrs:{d:"M18.7958984,16.9035645 L14.4182739,12.5263062 C15.3386841,11.2297364 15.885498,9.6503296 15.885498,7.9427491 C15.885498,3.5631714 12.3223267,0 7.942749,0 C3.5631104,0 0,3.5631714 0,7.942749 C0,12.3226928 3.5631104,15.8858642 7.942749,15.8858642 C9.6502075,15.8858642 11.2294311,15.3390502 12.5259399,14.4186401 L16.9035644,18.7958984 L18.7958984,16.9035645 Z M7.942749,13.2094116 C5.0388794,13.2094116 2.6763916,10.8469238 2.6763916,7.942749 C2.6763916,5.0389404 5.0388794,2.6764526 7.942749,2.6764526 C10.8465576,2.6764526 13.2090454,5.0389404 13.2090454,7.942749 C13.2090454,10.8469238 10.8465576,13.2094116 7.942749,13.2094116 Z"}})])])}),[],!1,Yn,null,null,null);function Yn(t){for(let e in Xn)this[e]=Xn[e]}const Gn={};var Zn=sn({name:"attachment-search-bar",components:{"icon-search":function(){return Kn.exports}()},props:{aid:String},data:()=>({needle:"",daterange:""}),watch:{daterange(t){if(Array.isArray(t)){for(let e in t)t[e]=x(t[e]).format("YYYY-MM-DD");this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{date:t.join(","),page:1}))}else this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{date:"",page:1}))}},methods:{search(){this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{search:this.needle,page:1}))}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{staticClass:"sr-only",attrs:{for:"inlineFormInputGroup"}},[t._v("Username")]),n("div",{staticClass:"input-group mb-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.needle,expression:"needle"}],staticClass:"form-control",attrs:{type:"text",id:"inlineFormInputGroup",placeholder:"RECHERCHE"},domProps:{value:t.needle},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search.apply(null,arguments)},input:function(e){e.target.composing||(t.needle=e.target.value)}}}),n("div",{staticClass:"input-group-append bg--blue-light",attrs:{type:"submit"}},[n("div",{staticClass:"input-group-text bg--blue-light",on:{click:t.search}},[n("icon-search")],1)]),n("div",{},[n("el-date-picker",{attrs:{type:"daterange",align:"right","start-placeholder":"Start Date","end-placeholder":"End Date"},model:{value:t.daterange,callback:function(e){t.daterange=e},expression:"daterange"}})],1)])])}),[],!1,Jn,null,null,null);function Jn(t){for(let e in Gn)this[e]=Gn[e]}var Qn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"section-attachment--index"},[n("div",{staticClass:"section__header"},[n("attachment-search-bar",{attrs:{aid:t.aid}}),n("div",{staticClass:"utils--spacer-semi"}),n("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[n("ul",{staticClass:"list-unstyled"},[n("li",[n("ul",{staticClass:"list-unstyled list-inline"},t._l(t.settings.browse.types,(function(e,r){return n("li",{key:r,staticClass:"text--upper list-inline-item pointer",class:{active:t.types.current==e.mime.join(",")},on:{click:function(n){t.types.current=e.mime.join(","),t.$forceUpdate(),t.filterType()}}},[n("strong",[t._v(t._s(e.label))])])})),0)])]),n("div",{staticClass:"d-flex flex-row align-items-center"},[t._v(" "+t._s(t.selectedFiles.length)+" fichier(s) selectionn(s) "),n("div",{staticClass:"btn-group"},[n("form",{ref:"dform",attrs:{action:t.$store.get(this.aid+"/settings.url")+"attachment/download/files",method:"POST"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.downloadToken,expression:"downloadToken"}],attrs:{type:"hidden",name:"token"},domProps:{value:t.downloadToken},on:{input:function(e){e.target.composing||(t.downloadToken=e.target.value)}}})]),t.selectedFiles.length>0&&-1!=t.settings.groupActions.indexOf("select")?n("button",{staticClass:"btn btn--blue mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:t.confirmSelection}},[t._v(" CHOISIR ")]):t._e(),t.selectedFiles.length>0&&-1!=t.settings.groupActions.indexOf("archive")?n("button",{staticClass:"btn btn--blue mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:t.requestArchive}},[t._v(" TLCHARGER ")]):t._e(),t.selectedFiles.length>0&&-1!=t.settings.groupActions.indexOf("edit")?n("button",{staticClass:"btn btn--orange mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:t.editSelection}},[t._v(" EDITER ")]):t._e(),t.selectedFiles.length>0&&-1!=t.settings.groupActions.indexOf("tinymce")?n("button",{staticClass:"btn btn--orange mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:t.editorOptions}},[t._v(" AJOUTER A L'DITEUR ")]):t._e(),t.selectedFiles.length>0&&-1!=t.settings.groupActions.indexOf("delete")?n("button",{staticClass:"btn btn--red mb-0 color--white",attrs:{type:"button",name:"button"},on:{click:t.deleteSelection}},[t._v(" SUPPRIMER ")]):t._e()])])]),n("div",{staticClass:"utils--spacer-semi"}),n("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[n("div",[t.aParams.atags||t.aParams.filters?n("div",{staticClass:"f-flex flex-row"},[n("p",{staticClass:"small color--grey d-inline-block"},[t._v("Filtre(s): ")]),t._l(t.aParams.atags.split(","),(function(e){return t.aParams.atags?n("span",{key:e,staticClass:"badge badge-secondary",on:{click:function(n){return t.removeAtag(e)}}},[t._v(t._s(e)+" "),n("i",{staticClass:"material-icons"},[t._v("close")])]):t._e()})),t._l(t.aParams.filters.split(","),(function(e){return t.aParams.filters?n("span",{key:t.atag,staticClass:"badge badge-secondary",on:{click:function(n){return t.removeFilter(e)}}},[t._v(t._s(e)+" "),n("i",{staticClass:"material-icons"},[t._v("close")])]):t._e()})),n("div",{staticClass:"utils--spacer-semi"})],2):t._e(),n("div",{staticClass:"section__sort d-flex flex-row align-items-center"},[n("p",{staticClass:"small color--grey d-inline-block mb-0"},[t._v("Ordre: ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.direction,expression:"direction"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.direction=e.target.multiple?n:n[0]},t.changeOrder]}},[n("option",{attrs:{value:"desc"}},[t._v("Plus rcent en premier")]),n("option",{attrs:{value:"asc"}},[t._v("Plus ancien en premier")])])])]),n("div",{staticClass:"section__filter d-flex flex-row"},[n("button",{staticClass:"btn btn--white mb-0",class:{active:"thumb"==t.mode},attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="thumb"}}},[n("icon-grid")],1),"image/*"==t.types.current?n("button",{staticClass:"btn btn--white mb-0",class:{active:"mosaic"==t.mode},attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="mosaic"}}},[n("icon-mosaic")],1):t._e(),n("button",{staticClass:"btn btn--white mb-0",class:{active:"thumbInfo"==t.mode},attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="thumbInfo"}}},[n("icon-list")],1)])])],1),t.attachments&&0==t.$parent.loading?n("div",{staticClass:"section__index"},[n("h3",{staticClass:"text-right"},[t.pagination&&t.pagination.count?n("span",[t._v(t._s(t.pagination.count))]):n("span",[t._v("0")]),t._v(" Fichiers ")]),n("div",{staticClass:"utils--spacer-mini"}),n("transition",{attrs:{name:"fade"}},["mosaic"==t.mode?n("div",{directives:[{name:"images-loaded",rawName:"v-images-loaded",value:t.imgReady,expression:"imgReady"}]},[n("div",{directives:[{name:"packery",rawName:"v-packery",value:{itemSelector:".packery-item",percentPosition:!0},expression:'{itemSelector: ".packery-item", percentPosition: true}'}],staticClass:"row gx-5 packery-row",attrs:{id:"mosaic"}},t._l(t.attachments,(function(e,r){return n("div",{directives:[{name:"packery-item",rawName:"v-packery-item"}],key:r,staticClass:"packery-item col-lg-3 col-md-6"},[n("attachment",{attrs:{index:r,aid:t.aid,mode:t.mode,attachment:e}})],1)})),0)]):"thumb"==t.mode?n("div",[n("div",[n("div",{staticClass:"row g-4"},t._l(t.attachments,(function(e,r){return n("div",{key:r,staticClass:"col-sm-6 col-md-4 col-lg-3 col-xl-2"},[n("attachment",{attrs:{index:r,aid:t.aid,mode:t.mode,attachment:e}})],1)})),0)])]):"thumbInfo"==t.mode?n("div",[n("table",{staticClass:"table w-100"},t._l(t.attachments,(function(e,r){return n("attachment",{key:r,attrs:{index:r,aid:t.aid,mode:t.mode,attachment:e}})})),1)]):t._e()]),n("div",{staticClass:"clearfix"}),n("div",{staticClass:"utils--spacer-semi"}),t.pagination?n("div",[n("attachment-pagination",{attrs:{aid:t.aid,pagination:t.pagination,settings:t.settings}})],1):t._e()],1):t._e(),1==t.$parent.loading?n("div",{staticClass:" text-center"},[n("img",{attrs:{src:"https://static.wgr.ch/attachment/loading.gif",alt:""}})]):t._e(),n("attachment-preview",{attrs:{aid:t.aid,open:!1}}),n("attachment-infos",{attrs:{aid:t.aid,open:!1}})],1)},tr=[];const er={name:"attachments",directives:{imagesLoaded:_},props:{aid:String,settings:Object},data:()=>({sort:"date",direction:"desc",mode:"thumb",types:{name:"Types",slug:"type",isActive:!1,current:"image/*"},hasProcessingArchive:!1,aarchiveIds:[]}),components:{attachment:xn,"attachment-pagination":kn,"attachment-search-bar":function(){return Zn.exports}(),"attachment-preview":An,"attachment-infos":Rn,"icon-grid":Hn,"icon-mosaic":jn,"icon-list":Wn},computed:{aParams(){return this.$store.get(this.aid+"/aParams")},attachments(){return this.$store.get(this.aid+"/attachments/list")},pagination(){return this.$store.get(this.aid+"/pagination")},selectedFiles(){return this.$store.get(this.aid+"/selection.files")},downloadToken(){return this.$store.get(this.aid+"/selection.token")}},watch:{mode:function(){"mosaic"==this.mode&&this.reLayout()}},methods:d(u({},m({createAttachments(t,e){return t(this.aid+"/aarchives/create",e)}})),{removeAtag(t){for(var e=this.aParams.atags.split(","),n=0;n<e.length;n++)e[n]==t&&e.splice(n,1);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:e.join(","),page:1}))},removeFilter(t){for(var e=this.aParams.filters.split(","),n=0;n<e.length;n++)e[n]==t&&e.splice(n,1);this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{filters:e.join(","),page:1}))},filterType(){this.upload||(this.types.current.match(/image/g)||(this.mode="thumb"),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{type:this.types.current,filters:"",atags:"",page:1})))},changeOrder(){this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{sort:this.sort,direction:this.direction,page:1}))},reLayout(){setTimeout((function(){var t=document.getElementById("mosaic");w.$emit("layout",t)}),200)},imgReady(){this.reLayout()},dowloadSelection(){this.$store.get(this.aid+"/selection.token"),this.$refs.dform.submit()},editSelection(){this.$parent.mode="edit"},deleteSelection(){if(confirm("Etes-vous sr de vouloir supprimer les fichiers slctionns?")){let t={headers:{Accept:"application/json","Content-Type":"multipart/form-data"}},e=new FormData;for(let n=0;n<this.selectedFiles.length;n++)e.append("id["+n+"]",this.selectedFiles[n].id);O.post(this.settings.url+"attachment/attachments/deleteAll.json",e,t).then(this.deleteSuccess,this.deleteError)}},deleteSuccess(){this.$store.commit(this.aid+"/flushSelection"),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{refresh:(new Date).getTime()}))},deleteError(){alert("Une erreur est survenue veuillez ressayer.")},requestArchive(){let t=this.$store.get(this.aid+"/selection.files"),e=[];for(let n=0;n<t.length;n++)e.push(t[n].id);this.createAttachments({data:{aids:e}}),this.types.current=this.settings.browse.types.other.mime.join(","),setTimeout(function(){this.filterType(),this.$store.commit(this.aid+"/flushSelection")}.bind(this),500)},confirmSelection(){this.$parent.mode="input"},editorOptions(){this.$parent.mode="editor-options"}}),mounted(){this.reLayout()}},nr={};var rr=sn(er,Qn,tr,!1,ir,null,null,null);function ir(t){for(let e in nr)this[e]=nr[e]}var or=function(){return rr.exports}();const ar={};var sr=sn({name:"attachment-inline-options",components:{Attachment:xn},props:{file:Object,settings:Object,aid:String},data:function(){return{show:"editor-options"==this.$parent.mode,options:{crop:[!0,!1],align:["normal","left","center","right"],displayAs:["Image","Link"],target:["_blank","_self"]},selection:{}}},created:function(){"image"!=this.file.type&&(this.selection.displayAs="Link")},watch:{file:function(t){t&&(this.selection={displayAs:"Link",target:"_blank",title:t.title?t.title:t.name,align:"normal",width:null,crop:0})},show:function(){this.show?this.addEventListeners():this.removeEventListeners()}},methods:{addEventListeners:function(){$(document).bind("keypress",this.preventEnter),$("form").bind("submit",this.preventSubmit)},removeEventListeners:function(){$(document).unbind("keypress",this.preventEnter),$("form").unbind("submit",this.preventSubmit)},preventEnter:function(t){13==t.which&&this.preventSubmit(t)},preventSubmit:function(t){t.preventDefault(),t.stopPropagation()},close:function(){this.removeEventListeners(),this.$parent.mode="hidden"},success:function(){this.close(),this.$parent.$emit("options-success",this.file,this.selection)}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("div",{staticClass:"modal-mask",attrs:{id:"attachment-trumbowyg-options",transition:"modal"}},[n("div",{staticClass:"modal-wrapper"},[n("div",{staticClass:"modal-container container"},[n("div",{staticClass:"custom-modal-header"},[t._v(" Choose options ")]),n("div",{staticClass:"custom-modal-body"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("attachment",{attrs:{aid:t.aid,mode:"thumb",attachment:t.file}})],1),n("div",{staticClass:"col-md-6"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selection.displayAs,expression:"selection.displayAs"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.selection,"displayAs",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"Link"}},[t._v("Link")]),"image"==t.file.type?n("option",{attrs:{value:"Image"}},[t._v("Image")]):t._e()]),"Link"==t.selection.displayAs?n("div",[n("div",{staticClass:"input"},[n("div",{staticClass:"utils--spacer-mini"}),n("label",[t._v("Target")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selection.target,expression:"selection.target"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.selection,"target",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"_blank"}},[t._v("New window")]),n("option",{attrs:{value:"_self"}},[t._v("Default")])]),n("div",{staticClass:"utils--spacer-mini"}),n("label",[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selection.title,expression:"selection.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Title"},domProps:{value:t.selection.title},on:{input:function(e){e.target.composing||t.$set(t.selection,"title",e.target.value)}}})])]):t._e(),"Image"==t.selection.displayAs?n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"input select"},[n("label",[t._v("Align")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selection.align,expression:"selection.align"}],staticClass:"form-control",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.selection,"align",e.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"normal"}},[t._v("Normal")]),n("option",{attrs:{value:"left"}},[t._v("Left")]),n("option",{attrs:{value:"center"}},[t._v("Center")]),n("option",{attrs:{value:"right"}},[t._v("Right")])])]),n("div",{staticClass:"input"},[n("label",[t._v("Extra styles")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selection.classes,expression:"selection.classes"}],staticClass:"form-control",attrs:{type:"text",placeholder:"classes"},domProps:{value:t.selection.classes},on:{input:function(e){e.target.composing||t.$set(t.selection,"classes",e.target.value)}}})])]),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"input"},[n("label",[t._v("Width")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selection.width,expression:"selection.width"}],staticClass:"form-control",attrs:{type:"number",min:"0",step:"5",max:t.file.width<1200?t.file.width:1200},domProps:{value:t.selection.width},on:{input:function(e){e.target.composing||t.$set(t.selection,"width",e.target.value)}}})]),t.selection.width?n("div",{staticClass:"input"},[n("label",[t._v("Crop")]),n("div",{staticClass:"clearfix"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selection.crop,expression:"selection.crop"}],attrs:{type:"checkbox",value:"0"},domProps:{checked:Array.isArray(t.selection.crop)?t._i(t.selection.crop,"0")>-1:t.selection.crop},on:{change:function(e){var n=t.selection.crop,r=e.target,i=!!r.checked;if(Array.isArray(n)){var o=t._i(n,"0");r.checked?o<0&&t.$set(t.selection,"crop",n.concat(["0"])):o>-1&&t.$set(t.selection,"crop",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(t.selection,"crop",i)}}}),t._v(" Yes / no ")]):t._e(),t.selection.width&&t.selection.crop?n("div",{staticClass:"input"},[n("label",[t._v("Ratio")]),n("div",{staticClass:"clearfix"}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selection.cropWidth,expression:"selection.cropWidth"}],attrs:{type:"number",min:"1",step:"1",max:"32",value:"16"},domProps:{value:t.selection.cropWidth},on:{input:function(e){e.target.composing||t.$set(t.selection,"cropWidth",e.target.value)}}}),t._v(":"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.selection.cropHeight,expression:"selection.cropHeight"}],attrs:{type:"number",min:"1",step:"1",max:"32",value:"9"},domProps:{value:t.selection.cropHeight},on:{input:function(e){e.target.composing||t.$set(t.selection,"cropHeight",e.target.value)}}})]):t._e()])])]):t._e()])])]),n("p"),n("div",{staticClass:"custom-modal-footer"},[n("div",{staticClass:"btn-group"},[n("button",{staticClass:"modal-default-button btn btn-fill btn-warning",attrs:{type:"button"},on:{click:function(e){return t.close()}}},[t._v(" Close ")]),n("button",{staticClass:"modal-default-button btn btn-fill btn-success",attrs:{type:"button"},on:{click:function(e){return t.success()}}},[t._v(" Insert ")])])])])])]):t._e()}),[],!1,lr,null,null,null);function lr(t){for(let e in ar)this[e]=ar[e]}var cr=function(){return sr.exports}();const ur={};var dr=sn({name:"attachment-inputs",props:{aid:String,attachment:Object,mode:String},data:()=>({inputs:{title:"",date:"",author:"",description:"",copyright:""},file:{}}),computed:{settings(){return this.$store.get(this.aid+"/settings")},upload(){return this.$store.get(this.aid+"/upload")}},created(){if("upload"==this.mode)Object.assign(this.file,this.inputs);else for(let t=0;t<this.$parent.attachmentInputs.fields.length;t++){let e=this.$parent.attachmentInputs.fields[t],n=e.key;this.file[n]="date"==n?e.value.split("+")[0]:e.value}if(this.settings.i18n.enable){this.file._translations={};for(let t in this.settings.i18n.languages)this.file._translations[this.settings.i18n.languages[t]]=this.inputs}this.attachment&&Object.assign(this.file,this.attachment),this.update()},methods:{update(t){if("edit"==this.mode){if(void 0!==t){let e=this.$parent.attachmentInputs.fields.find((e=>e.key==t.target.name));e.value=t.target.value,e.hasChange=!0}}else this.attachment||this.$store.set(this.aid+"/upload",Object.assign(this.$store.get(this.aid+"/upload"),{inputs:this.file}))}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"attachment-options"}},[n("div",{staticClass:"row optional-fields"},[t.settings.i18n.enable?n("div",{staticClass:"col-md-6 attachment-locale-area"},[n("ul",{staticClass:"nav nav-tabs",attrs:{role:"tablist"}},t._l(t.settings.i18n.languages,(function(e,r){return n("li",{class:{active:e==t.settings.i18n.defaultLocale},attrs:{role:"presentation"}},[n("a",{attrs:{href:"#a-"+e,"aria-controls":"a-"+e,role:"tab","data-toggle":"tab"}},[t._v(" "+t._s(e)+" ")])])})),0),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"a-"+t.settings.i18n.defaultLocale}},[n("div",{staticClass:"input text"},[n("label",{attrs:{for:"title"}},[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.title,expression:"file.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title"},domProps:{value:t.file.title},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"title",e.target.value)}}})]),n("div",{staticClass:"input text"},[n("label",{staticClass:"mb-0",attrs:{for:"date"}},[t._v("Date de prise / cration de limage (si connue)")]),n("label",{staticClass:"small mt-0",attrs:{for:"date"}},[t._v("(format: 2020-12-12, 12:12)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.date,expression:"file.date"}],staticClass:"form-control",attrs:{type:"datetime-local",name:"date",id:"date"},domProps:{value:t.file.date},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"date",e.target.value)}}})]),n("div",{staticClass:"input text"},[n("label",{attrs:{for:"description"}},[t._v("Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.file.description,expression:"file.description"}],staticClass:"form-control",attrs:{name:"description",id:"description",rows:"5"},domProps:{value:t.file.description},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"description",e.target.value)}}})])]),t._l(t.settings.i18n.languages,(function(e,r){return e!=t.settings.i18n.defaultLocale?n("div",{staticClass:"tab-pane active",attrs:{role:"tabpanel",id:"a-"+e}},[n("div",{staticClass:"input text"},[n("label",{attrs:{for:"_translations["+e+"][title]"}},[t._v("Title "+t._s(e))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file._translations[e].title,expression:"file['_translations'][language].title"}],staticClass:"form-control",attrs:{type:"text",name:"_translations["+e+"][title]",id:"a-"+e+"-title"},domProps:{value:t.file._translations[e].title},on:{change:t.update,input:function(n){n.target.composing||t.$set(t.file._translations[e],"title",n.target.value)}}})]),n("div",{staticClass:"input text"},[n("label",{attrs:{for:"_translations["+e+"][description]"}},[t._v("Description"+t._s(e))]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.file._translations[e].description,expression:"file['_translations'][language].description"}],staticClass:"form-control",attrs:{name:"_translations["+e+"][description]",id:"a-"+e+"-description",rows:"5"},domProps:{value:t.file._translations[e].description},on:{change:t.update,input:function(n){n.target.composing||t.$set(t.file._translations[e],"description",n.target.value)}}})])]):t._e()}))],2)]):t._e(),t.settings.i18n.enable?t._e():n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"input text"},[n("label",{attrs:{for:"title"}},[t._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.title,expression:"file.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",id:"title"},domProps:{value:t.file.title},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"title",e.target.value)}}})]),n("div",{staticClass:"input text"},[n("label",{staticClass:"mb-0",attrs:{for:"date"}},[t._v("Date de prise / cration de limage (si connue)")]),n("label",{staticClass:"small mt-0",attrs:{for:"date"}},[t._v("(format: 2020-12-12, 12:12)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.date,expression:"file.date"}],staticClass:"form-control",attrs:{type:"datetime-local",name:"date",id:"date"},domProps:{value:t.file.date},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"date",e.target.value)}}})]),n("div",{staticClass:"input text"},[n("label",{attrs:{for:"description"}},[t._v("Description")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.file.description,expression:"file.description"}],staticClass:"form-control",attrs:{name:"description",id:"description",rows:"5"},domProps:{value:t.file.description},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"description",e.target.value)}}})])]),n("div",{staticClass:"col-md-6"},[n("div",{staticClass:"input text"},[n("label",{attrs:{for:"author"}},[t._v("Author")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.author,expression:"file.author"}],staticClass:"form-control",attrs:{type:"text",name:"author",id:"author"},domProps:{value:t.file.author},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"author",e.target.value)}}})]),n("div",{staticClass:"input text"},[n("label",{attrs:{for:"copyright"}},[t._v("Copyright")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.file.copyright,expression:"file.copyright"}],staticClass:"form-control",attrs:{type:"text",name:"copyright",id:"copyright"},domProps:{value:t.file.copyright},on:{change:t.update,input:function(e){e.target.composing||t.$set(t.file,"copyright",e.target.value)}}})])])])])}),[],!1,fr,null,null,null);function fr(t){for(let e in ur)this[e]=ur[e]}var hr=function(){return dr.exports}();const pr={};var mr=sn({name:"attachment-upload",components:{"attachment-inputs":hr},props:{aid:String},data:()=>({progress:0,uploading:!1,fileName:"",files:[],errors:[],hasUploaded:0}),computed:{percent(){return Math.floor(100*this.progress)},settings(){return this.$store.get(this.aid+"/settings")},atags(){return this.$store.get(this.aid+"/upload.atags")},inputs(){return this.$store.get(this.aid+"/upload.inputs")}},created(){this.$store.commit(this.aid+"/flushUploadedFiles")},watch:{files(){for(let t in this.files)if(this.files[t].type&&this.files[t].type.match("image/*")){let e=new FileReader;e.onload=e=>{this.files[t].preview=e.target.result,this.$forceUpdate()},e.readAsDataURL(this.files[t])}}},methods:{validate:function(){this.errors=[];let t=[];for(let e in this.$refs.files.files){let n=this.$refs.files.files[e],r=n.size/1024/1024;if(!r)return;r>0&&r<=this.settings.maxsize||t.push(n.name+" ce fichier est trop lourd. La taille max est de "+this.settings.maxsize+"MB."),!1!==this.settings.types.indexOf(n.type)&&""!=n.type||t.push(n.name+" ce type de fichier n' est pas support."),this.errors=t,0==this.errors.length&&this.files.push(n)}},upload:function(){if(0!=this.files.length)return this.uploadFile(this.files.shift());0==this.errors.length&&(this.$parent.mode="browse",this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{refresh:(new Date).getTime()})))},uploadFile:function(t){this.uploading=!0,this.fileName=t.name,this.inputs.date.length>0&&(this.inputs.date=-1!=this.inputs.date.indexOf("T")?this.inputs.date.replace("T"," ")+":00":this.inputs.date);let e=new FormData;for(let r in this.inputs)e.append(r,this.inputs[r]);for(let r in this.atags)e.append("atags["+r+"][name]",this.atags[r]);e.append("path",t),e.append("uuid",this.aid);let n={headers:{Accept:"application/json","Content-Type":"multipart/form-data"},onUploadProgress:this.progressHandler};O.post(this.settings.url+"attachment/attachments/add.json",e,n).then(this.uploadSuccessCb,this.errorUploadCb)},progressHandler:function(t){t.lengthComputable&&(this.progress=t.loaded/t.total)},uploadSuccessCb:function(t){this.uploading=!1,this.hasUploaded=!0,this.$store.commit(this.aid+"/addUploadedFile",t.data.data),this.upload()},errorUploadCb:function(t){this.uploading=!1,this.errors.push(t.response.data.message?t.response.data.message:t),this.upload()}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{},[t.uploading?n("div",{staticClass:"progress__info"},[n("label",[t._v('Uploading file: "'+t._s(t.fileName)+'"')]),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",style:{width:t.percent+"%"},attrs:{role:"progressbar"}},[t._v(t._s(t.percent))])])]):t._e(),n("div",{},[t._l(t.files,(function(e,r){return n("div",{staticClass:"alert alert-info"},[e.preview?n("div",{staticClass:"alert__preview-img"},[n("img",{attrs:{src:e.preview}})]):t._e(),t._v(" File: "+t._s(e.name)+" ready to upload! ")])})),t._l(t.errors,(function(e,r){return n("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v(" "+t._s(e)+" "),t._m(0,!0)])})),n("attachment-inputs",{attrs:{aid:t.aid,mode:"upload"}}),n("div",{staticClass:"input"},[n("label",[t._v("Files "),n("input",{ref:"files",attrs:{type:"file",id:"files",multiple:""},on:{change:t.validate}})])]),n("div",{staticClass:"input"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"button"},on:{click:t.upload}},[t._v("Upload")])])],2)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("")])])}],!1,gr,null,null,null);function gr(t){for(let e in pr)this[e]=pr[e]}var vr=function(){return mr.exports}();const br={};var yr=sn({name:"attachment-embed",components:{"attachment-inputs":hr},props:{aid:String},data:()=>({progress:0,uploading:!1,errors:[],name:"",embed:""}),computed:{percent(){return Math.floor(100*this.progress)},settings(){return this.$store.get(this.aid+"/settings")},atags(){return this.$store.get(this.aid+"/upload.atags")},inputs(){return this.$store.get(this.aid+"/upload.inputs")}},created(){this.$store.commit(this.aid+"/flushUploadedFiles")},methods:{upload(){if(""==this.name.trim())return this.errors.push("A name is required!");if(""==this.embed.trim())return this.errors.push("Embed code is required!");this.uploading=!0;let t=new FormData;for(let n in this.inputs)t.append(n,this.inputs[n]);for(let n in this.atags)t.append("atags["+n+"][name]",this.atags-[n]);t.append("name",this.name.trim()),t.append("embed",this.embed.trim()),t.append("uuid",this.settings.uuid);let e={headers:{Accept:"application/json","Content-Type":"multipart/form-data"},progress:this.progressHandler};O.post(this.settings.url+"attachment/attachments/add.json",t,e).then(this.uploadSuccessCb,this.errorUploadCb)},progressHandler:function(t){t.lengthComputable&&(this.progress=t.loaded/t.total)},uploadSuccessCb:function(t){this.uploading=!1,this.hasUploaded=!0,this.$store.commit(this.aid+"/addUploadedFile",t.data.data),this.finish()},errorUploadCb:function(t){this.uploading=!1,this.errors.push(t),this.finish()},finish:function(){0==this.errors.length&&(this.$parent.mode="browse",this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{refresh:(new Date).getTime()})))}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{},[t.uploading?n("div",{staticClass:"progress__info"},[n("label",[t._v("Uploading...")]),n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",style:{width:t.percent+"%"},attrs:{role:"progressbar"}},[t._v(t._s(t.percent))])])]):t._e(),n("div",{},[t._l(t.errors,(function(e,r){return n("div",{staticClass:"alert alert-warning",attrs:{role:"alert"}},[t._v(" An error occured: "+t._s(e)+" "),t._m(0,!0)])})),n("attachment-inputs",{attrs:{aid:t.aid,mode:"upload"}}),n("div",{staticClass:"input text required"},[n("label",{attrs:{for:"name"}},[t._v("Name")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"input text required"},[n("label",{attrs:{for:"embed"}},[t._v("Embed code")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.embed,expression:"embed"}],staticClass:"form-control",attrs:{name:"embed",id:"embed",rows:"5"},domProps:{value:t.embed},on:{input:function(e){e.target.composing||(t.embed=e.target.value)}}})]),n("div",{staticClass:"input"},[n("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"button"},on:{click:t.upload}},[t._v("Upload")])])],2)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("")])])}],!1,Cr,null,null,null);function Cr(t){for(let e in br)this[e]=br[e]}var wr=function(){return yr.exports}();const xr={};var _r=sn({name:"attachment-edit",components:{attachment:xn,"attachment-inputs":hr},props:{aid:String,settings:Object},data:()=>({loading:!1,attachmentInputs:{fields:[{key:"title",value:null,isSame:!1,hasChange:!1},{key:"date",value:null,isSame:!1,hasChange:!1},{key:"description",value:null,isSame:!1,hasChange:!1},{key:"author",value:null,isSame:!1,hasChange:!1},{key:"copyright",value:null,isSame:!1,hasChange:!1}],atags:[],atagsToKeep:[]}}),created(){this.mergeDatas()},computed:{atagTypes(){return this.$store.get(this.aid+"/atags/list")},aParams(){return this.$store.get(this.aid+"/aParams")},selectedFiles(){return this.$store.get(this.aid+"/selection.files")}},watch:{selectedFiles:{handler(){this.mergeDatas()},deep:!0},aParams:{handler(){this.attachmentInputs.atags=this.aParams.atags.split(",")},deep:!0}},methods:{mergeDatas(){for(let t=0;t<this.selectedFiles.length;t++){let e=this.selectedFiles[t];for(let t=0;t<this.attachmentInputs.fields.length;t++){let n=this.attachmentInputs.fields[t],r=n.key,i=n.value;e[r]==i||null==n.value?(n.isSame=!0,n.value=e[r]):(n.isSame=!1,n.value=null)}for(let n=0;n<e.atags.length;n++){0==t&&this.attachmentInputs.atags.push(e.atags[n].name),-1==this.attachmentInputs.atagsToKeep.findIndex((t=>t==e.atags[n].name))&&this.attachmentInputs.atagsToKeep.push(e.atags[n].name);for(let t=0;t<this.attachmentInputs.atags.length;t++)-1==e.atags.findIndex((e=>e.name===this.attachmentInputs.atags[t]))&&this.attachmentInputs.atags.splice(t,1)}}for(let t=0;t<this.attachmentInputs.atagsToKeep.length;t++)-1!==this.attachmentInputs.atags.findIndex((e=>e===this.attachmentInputs.atagsToKeep[t]))&&this.attachmentInputs.atagsToKeep.splice(t,1);1==this.selectedFiles.length&&(this.attachmentInputs.atagsToKeep=[]),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:this.attachmentInputs.atags.join(","),page:1}))},edit(){this.loading=!0;for(let t=0;t<this.selectedFiles.length;t++){let e=this.selectedFiles[t];for(let t=0;t<this.attachmentInputs.fields.length;t++){let n=this.attachmentInputs.fields[t];n.hasChange&&(e[n.key]=n.value)}for(let t=0;t<e.atags.length;t++){let n=e.atags[t];-1==this.attachmentInputs.atags.findIndex((t=>t==n.name))&&-1==this.attachmentInputs.atagsToKeep.findIndex((t=>t==n.name))&&e.atags.splice(e.atags.findIndex((t=>t.name==n.name)),1)}for(let t=0;t<this.attachmentInputs.atags.length;t++)if(-1==e.atags.findIndex((e=>e.name==this.attachmentInputs.atags[t])))for(let n=0;n<this.atagTypes.length;n++){let r=this.atagTypes[n].atags.find((e=>e.name==this.attachmentInputs.atags[t]));if(r){e.atags.push(r);break}}}O.post(this.settings.url+"attachment/attachments/edit-all.json",this.selectedFiles,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then(this.editSuccess,this.editError)},editSuccess(){this.$store.commit(this.aid+"/flushSelection"),this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:"",refresh:(new Date).getTime()})),this.loading=!1,this.$parent.mode="browse"},editError(){alert("Une erreur est survenue veuillez ressayer.")}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[1==t.loading?n("div",{staticClass:" text-center"},[n("img",{attrs:{src:"https://static.wgr.ch/attachment/loading.gif",alt:""}})]):n("div",[n("div",{staticClass:"section__files-list"},[n("div",{staticClass:"row"},t._l(t.selectedFiles,(function(e,r){return n("div",{key:r,staticClass:"col-sm-2"},[n("attachment",{attrs:{index:r,aid:t.aid,mode:"thumb",attachment:e,settings:t.settings}})],1)})),0),n("div",{staticClass:"utils--spacer-semi"})]),n("attachment-inputs",{attrs:{aid:t.aid,mode:"edit"}}),n("button",{staticClass:"btn btn-success",attrs:{type:"button",name:"button"},on:{click:t.edit}},[t._v("Editer")])],1)])}),[],!1,Er,null,null,null);function Er(t){for(let e in xr)this[e]=xr[e]}var Sr=function(){return _r.exports}();const kr={};var Nr=sn({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"26px",height:"18px",viewBox:"0 0 26 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",[e("polygon",{attrs:{id:"Path",points:"26 4.9 0 4.9 0 3 26 2.9"}}),e("polygon",{attrs:{id:"Path",points:"26 14.9 0 14.9 0 13 26 12.9"}}),e("circle",{attrs:{id:"Oval",cx:"8.1",cy:"3.9",r:"3.5"}}),e("circle",{attrs:{id:"Oval",cx:"17.5",cy:"13.9",r:"3.5"}})])])}),[],!1,Tr,null,null,null);function Tr(t){for(let e in kr)this[e]=kr[e]}var zr=function(){return Nr.exports}();const Ar={};var Mr=sn({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"32px",height:"32px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("g",[e("path",{attrs:{d:"M7.999,14.857 C7.994,14.857 7.989,14.857 7.983,14.857 C7.352,14.857 6.84,15.368 6.84,16 C6.84,16.632 7.351,17.143 7.983,17.143 C7.989,17.143 7.994,17.143 8,17.143 L23.998,17.143 C24.003,17.143 24.008,17.143 24.014,17.143 C24.645,17.143 25.157,16.632 25.157,16 C25.157,15.368 24.646,14.857 24.014,14.857 C24.008,14.857 24.003,14.857 23.997,14.857 L7.999,14.857 Z",id:"Path"}}),e("path",{attrs:{d:"M17.142,8 C17.142,7.995 17.142,7.99 17.142,7.984 C17.142,7.353 16.631,6.841 15.999,6.841 C15.367,6.841 14.856,7.352 14.856,7.984 C14.856,7.99 14.856,7.995 14.856,8.001 L14.856,8 L14.856,23.999 C14.856,24.004 14.856,24.009 14.856,24.015 C14.856,24.646 15.367,25.158 15.999,25.158 C16.631,25.158 17.142,24.647 17.142,24.015 C17.142,24.009 17.142,24.004 17.142,23.998 L17.142,23.999 L17.142,8 Z",id:"Path"}}),e("path",{attrs:{d:"M15.999,2.30926389e-14 C7.176,2.30926389e-14 2.30926389e-14,7.177 2.30926389e-14,15.999 C2.30926389e-14,24.821 7.177,31.998 15.999,31.998 C24.822,31.998 31.998,24.821 31.998,15.999 C31.998,7.177 24.821,2.30926389e-14 15.999,2.30926389e-14 Z M15.999,2.286 C23.587,2.286 29.713,8.413 29.713,16 C29.713,23.587 23.587,29.714 15.999,29.714 C8.411,29.714 2.285,23.588 2.285,16 C2.285,8.412 8.411,2.286 15.999,2.286 Z",id:"Shape"}})])])}),[],!1,Or,null,null,null);function Or(t){for(let e in Ar)this[e]=Ar[e]}var Pr=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",["input"==t.mode?n("div",{staticClass:"input form-group"},[n("label",[t._v(t._s(t.settings.label))]),n("div",{staticClass:"attachment-input"},[n("div",{staticClass:"btn-group",attrs:{"data-intro":"Ajouter des mdias  l'aide de ces boutons","data-position":"right"}},[n("button",{staticClass:"btn btn-fill btn-xs btn-info",attrs:{type:"button"},on:{click:function(e){t.mode="browse"}}},[n("i",{staticClass:"fa fa-cloud",attrs:{"aria-hidden":"true"}}),t._v("Browse ")])]),n("div",[n("draggable",{staticClass:"row",on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.selectedFiles,callback:function(e){t.selectedFiles=e},expression:"selectedFiles"}},t._l(t.selectedFiles,(function(e,r){return n("div",{key:e.id,staticClass:"col-12",class:t.settings.cols},[n("attachment",{attrs:{index:r,aid:t.aid,mode:"input",attachment:e,settings:t.settings}})],1)})),0),0==t.selectedFiles.length?n("div",["belongsTo"==t.settings.relation?n("input",{attrs:{type:"hidden",name:t.settings.field,value:""}}):t._e(),"belongsTo"!=t.settings.relation?n("input",{attrs:{type:"hidden",name:"attachments[]",value:""}}):t._e()]):t._e()],1),t._l(t.settings.errors,(function(e,r){return n("div",{key:r,staticClass:"error-message"},[t._v(t._s(e))])}))],2)]):t._e(),"input"!=t.mode?n("div",{staticClass:"section-attachment--container",class:{"attachment-overlay-full":t.settings.overlay,"d-none":"hidden"==t.mode}},[t.settings.overlay?n("section",{},[n("div",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function(e){t.mode=t.tinymce?t.selectedFiles.length?"editor-options":"hidden":"input"}}},[t._v("FERMER")])])]):t._e(),"browse"==t.mode?n("section",{staticClass:"section-attachment--browse"},[n("div",{staticClass:"row no-gutters g-0"},[n("div",{staticClass:"w-100"}),n("div",{staticClass:"col-md-3 col-xl-2"},[n("div",{staticClass:"section__side"},[-1!=t.settings.groupActions.indexOf("add")?n("div",{staticClass:"section__add section--blue-light color--blue-dark action pointer d-flex flex-row align-items-center",on:{click:function(e){t.mode="upload",t.$forceUpdate()}}},[n("icon-add"),t._v(""),n("p",{staticClass:"mb-0"},[t._v("Ajouter des fichiers")])],1):t._e(),n("div",{staticClass:"section__nav"},[n("div",{staticClass:"d-flex flex-row align-items-center"},[n("icon-filter"),t._v(""),n("p",{staticClass:"mb-0"},[t._v("Filtres et tags")])],1),n("div",{staticClass:"utils--spacer-semi"}),n("attachment-atags",{attrs:{aid:t.aid,upload:!1,filters:t.settings.browse.filters,options:t.settings.options}})],1)])]),n("div",{staticClass:"col-md-9 col-xl-10"},[n("attachments",{attrs:{aid:t.aid,settings:t.settings}})],1)])]):t._e(),"upload"==t.mode?n("section",{staticClass:"section-attachment--upload"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"section__nav"},[n("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[n("h1",[t._v("Ajouter des fichiers")]),n("div",{staticClass:"btn-group"},[-1!=t.reIndexOf(t.settings.types,/embed/gm)&&-1==t.settings.groupActions.indexOf("tinymce")?n("button",{staticClass:"btn btn--blue color--white",attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="embed"}}},[t._v(" AJOUTER UN CODE EMBED ")]):t._e(),n("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="browse"}}},[t._v("ANNULER")])])]),n("div",{staticClass:"utils--spacer-semi"}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-3"},[n("label",[t._v("Tags")]),n("attachment-atags",{attrs:{aid:t.aid,upload:!0,filters:t.settings.browse.filters,options:t.settings.options}})],1),n("div",{staticClass:"col-12 col-md-9"},[n("attachment-upload",{attrs:{aid:t.aid}})],1)])])])])]):t._e(),"embed"==t.mode?n("section",{staticClass:"section-attachment--embed"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"section__nav"},[n("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[n("h1",[t._v("Ajouter un code embed")]),n("div",{staticClass:"btn-group"},[n("button",{staticClass:"btn btn--blue color--white",attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="upload"}}},[t._v(" UPLOADER UN FICHIER ")]),n("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="browse"}}},[t._v("ANNULER")])])]),n("div",{staticClass:"utils--spacer-semi"}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-3"},[n("label",[t._v("Tags")]),n("attachment-atags",{attrs:{aid:t.aid,upload:!0,filters:t.settings.browse.filters,options:t.settings.options}})],1),n("div",{staticClass:"col-12 col-md-9"},[n("attachment-embed",{attrs:{aid:t.aid}})],1)])])])])]):t._e(),"edit"==t.mode?n("section",{staticClass:"section-attachment--upload"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"section__nav"},[n("div",{staticClass:"d-flex flex-row justify-content-between align-items-center"},[n("h1",[t._v("Editer des fichiers")]),n("button",{staticClass:"btn btn-danger",attrs:{type:"button",name:"button"},on:{click:function(e){t.mode="browse"}}},[t._v("ANNULER")])]),n("div",{staticClass:"utils--spacer-semi"}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-3"},[n("label",[t._v("Tags")]),n("attachment-atags",{attrs:{aid:t.aid,upload:!0,filters:t.settings.browse.filters,options:t.settings.options}})],1),n("div",{staticClass:"col-12 col-md-9"},[n("attachment-edit",{attrs:{aid:t.aid,settings:t.settings}})],1)])])])])]):t._e(),"editor-options"==t.mode?n("section",{staticClass:"section-attachment--editor-options"},[n("inline-options",{attrs:{file:!!t.selectedFiles&&t.selectedFiles[0],aid:t.aid,settings:t.settings}})],1):t._e()]):t._e()])},Rr=[];const Lr={name:"attachment-browse",mixins:[B],components:{draggable:an,"attachment-atags":fn,"attachment-upload":vr,"attachment-embed":wr,"attachment-edit":Sr,attachments:or,attachment:xn,"inline-options":cr,"icon-add":function(){return Mr.exports}(),"icon-filter":zr},props:{entity:Object},data:()=>({tinymce:!1}),computed:{aParams(){return this.$store.get(this.aid+"/aParams")},tParams(){return this.$store.get(this.aid+"/tParams")},selectedFiles:{get(){return this.$store.get(this.aid+"/selection.files")},set(t){this.$store.set(this.aid+"/selection.files",t)}}},watch:{aParams:{handler(){"browse"==this.mode&&this.fetchAttachments({config:{params:this.aParams}})},deep:!0},tParams:{handler(){this.fetchTags({config:{params:this.tParams}})},deep:!0},selectedFiles(t){let e=[];for(let n=0;n<t.length;n++)e.push(t[n].id);this.entity&&this.entity.setAttachments&&this.entity.setAttachments(t)},mode(){switch(this.$forceUpdate(),this.mode){case"browse":this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{atags:"",upload:0,refresh:(new Date).getTime(),page:1}));break;default:this.$store.set(this.aid+"/aParams",Object.assign(this.$store.get(this.aid+"/aParams"),{upload:1}))}}},created(){this.aParams.uuid=this.tParams.uuid=this.aid},methods:u({reIndexOf(t,e){for(let n in t)if(t[n].toString().match(e))return n;return-1}},m({fetchAttachments(t,e){return t(this.aid+"/attachments/fetchList",e)},fetchTags(t,e){return t(this.aid+"/atags/fetchList",e)},createSelectedFilesToken(t,e){return t(this.aid+"/token/create",e)}}))},Dr={};var Br=sn(Lr,Pr,Rr,!1,Hr,null,null,null);function Hr(t){for(let e in Dr)this[e]=Dr[e]}var Ir=function(){return Br.exports}();Vue.directive("sortable",(function(t,e){options=e.value||{},window.Sortable.create(t,options)})),Vue.filter("inputName",(function(t){return t.split(".").reduce((function(t,e){return t+"["+e+"]"}))})),Vue.filter("bytesToMegaBytes",(function(t){return t/1024/1024})),Vue.filter("sqlDate",(function(t){return t.replace("T","")})),Vue.filter("decimal",(function(t,e){if(isNaN(t))return t;var n="1"+Array(+(e>0&&e+1)).join("0");return Math.round(t*n)/n})),Vue.filter("truncate",(function(t,e){return t?t.length<e?t:(e-=3,t.substring(0,e)+"..."):""})),Vue.filter("icon",(function(t){if(t.aarchive)switch(t.aarchive.state){case"COMPLETED":input="aarchive/completed";break;default:input="aarchive/progress"}else input=t.type+"/"+t.subtype;switch(!0){case"aarchive/progress"==input:return'<i class="material-icons rotating">cached</i>';case"aarchive/completed"==input:return'<i class="material-icons">cloud_done</i>';case"image/jpeg"==input:case"image/png"==input:case"image/gif"==input:return'<i class="material-icons">photo</i>';case-1!=input.lastIndexOf("embed"):return'<i class="material-icons">code</i>';case"application/pdf"==input:return'<i class="material-icons">picture_as_pdf</i>';case"video/mp4"==input:case"video/ogg"==input:return'<i class="material-icons">videocam</i>';case"audio/mp3"==input:case"audio/ogg"==input:return'<i class="material-icons">audiotrack</i>';default:return'<i class="material-icons">insert_drive_file</i>'}})),Vue.filter("isNiceImage",(function(t){switch(t.type+"/"+t.subtype){case"image/jpeg":case"image/png":case"image/gif":return!0;default:return!1}})),Vue.filter("isEmbed",(function(t){switch(t.type){case"embed":return!0;default:return!1}})),Vue.filter("isNotEmbed",(function(t){switch(t.type){case"embed":return!1;default:return!0}})),Vue.filter("isThumbable",(function(t){switch(t.type+"/"+t.subtype){case"image/jpeg":case"image/png":case"image/gif":case"video/mp4":case"video/webm":case"video/mov":case"video/avi":case"video/ogg":case"video/mkv":case"application/pdf":return!0;case"embed/youtube":case"embed/vimeo":return!!t.path;default:return!1}})),Vue.filter("isNotThumbable",(function(t){switch(t.type+"/"+t.subtype){case"image/jpeg":case"image/png":case"image/gif":return!1;case"embed/youtube":case"embed/vimeo":return!t.path;default:return!0}})),window.getCsrfToken||(window.getCsrfToken=function(){for(var t="csrfToken=",e=decodeURIComponent(document.cookie).split(";"),n=0;n<e.length;n++){for(var r=e[n];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(t))return r.substring(t.length,r.length)}return""}),Vue.use(C);const Vr=[Ir];var Fr={version:"4.0.0",install:function(t,{store:e}){Vr.forEach((e=>t.component(e.name,e)))}};!function(t){var e=function(){},n=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},r=function(t){return function(){return t}},i=function(t){return t};function o(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.concat(n);return t.apply(null,i)}}var a,s,l,c,u,d,f,h,p,m,g,v,b,y,C,w,x,_=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},E=r(!1),S=r(!0),k=E,N=S,T=function(){return z},z=(c={fold:function(t,e){return t()},is:k,isSome:k,isNone:N,getOr:l=function(t){return t},getOrThunk:s=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){},or:l,orThunk:s,map:T,ap:T,each:function(){},bind:T,flatten:T,exists:k,forall:N,filter:T,equals:a=function(t){return t.isNone()},equals_:a,toArray:function(){return[]},toString:r("none()")},Object.freeze&&Object.freeze(c),c),A=function(t){var e=function(){return t},n=function(){return i},r=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:N,isNone:k,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return A(e(t))},ap:function(e){return e.fold(T,(function(e){return A(e(t))}))},each:function(e){e(t)},bind:r,flatten:e,exists:r,forall:r,filter:function(e){return e(t)?i:z},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(k,(function(e){return n(t,e)}))},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return i},M={some:A,none:T,from:function(t){return null==t?z:A(t)}},O=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e}(e)===t}},P=O("string"),R=O("object"),L=O("array"),D=O("null"),B=O("boolean"),H=O("function"),I=O("number"),V=Array.prototype.slice,F=void 0===(u=Array.prototype.indexOf)?function(t,e){return J(t,e)}:function(t,e){return u.call(t,e)},j=function(t,e){return-1<F(t,e)},$=function(t,e){return Z(t,e).isSome()},U=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++){var o=t[i];r[i]=e(o,i,t)}return r},q=function(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n,t)},W=function(t,e){for(var n=[],r=[],i=0,o=t.length;i<o;i++){var a=t[i];(e(a,i,t)?n:r).push(a)}return{pass:n,fail:r}},X=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];e(o,r,t)&&n.push(o)}return n},K=function(t,e,n){return function(t,e){for(var n=t.length-1;0<=n;n--)e(t[n])}(t,(function(t){n=e(n,t)})),n},Y=function(t,e,n){return q(t,(function(t){n=e(n,t)})),n},G=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];if(e(i,n,t))return M.some(i)}return M.none()},Z=function(t,e){for(var n=0,r=t.length;n<r;n++)if(e(t[n],n,t))return M.some(n);return M.none()},J=function(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return n;return-1},Q=Array.prototype.push,tt=function(t,e){return function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!L(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);Q.apply(e,t[n])}return e}(U(t,e))},et=function(t,e){for(var n=0,r=t.length;n<r;++n)if(!0!==e(t[n],n,t))return!1;return!0},nt=function(t,e){return X(t,(function(t){return!j(e,t)}))},rt=function(t){return 0===t.length?M.none():M.some(t[0])},it=function(t){return 0===t.length?M.none():M.some(t[t.length-1])},ot=H(Array.from)?Array.from:function(t){return V.call(t)},at=function(){return(at=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},st=t.navigator,lt=st.userAgent,ct=function(e){return"matchMedia"in t.window&&t.matchMedia(e).matches};b=/Android/.test(lt),f=(f=!(d=/WebKit/.test(lt))&&/MSIE/gi.test(lt)&&/Explorer/gi.test(st.appName))&&/MSIE (\w+)\./.exec(lt)[1],h=-1!==lt.indexOf("Trident/")&&(-1!==lt.indexOf("rv:")||-1!==st.appName.indexOf("Netscape"))&&11,p=-1!==lt.indexOf("Edge/")&&!f&&!h&&12,f=f||h||p,m=!d&&!h&&/Gecko/.test(lt),g=-1!==lt.indexOf("Mac"),v=/(iPad|iPhone)/.test(lt),y="FormData"in t.window&&"FileReader"in t.window&&"URL"in t.window&&!!t.URL.createObjectURL,C=ct("only screen and (max-device-width: 480px)")&&(b||v),w=ct("only screen and (min-width: 800px)")&&(b||v),x=-1!==lt.indexOf("Windows Phone"),p&&(d=!1);var ut,dt,ft,ht,pt,mt,gt,vt,bt,yt,Ct,wt,xt,_t,Et,St,kt,Nt,Tt,zt={opera:!1,webkit:d,ie:f,gecko:m,mac:g,iOS:v,android:b,contentEditable:!v||y||534<=parseInt(lt.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==f,range:t.window.getSelection&&"Range"in t.window,documentMode:f&&!p?t.document.documentMode||7:10,fileApi:y,ceFalse:!1===f||8<f,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!1===f||11<f,desktop:!C&&!w,windowsPhone:x},At=window.Promise?window.Promise:function(){function e(t,e){return function(){t.apply(e,arguments)}}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(a,this),e(s,this))},i=r.immediateFn||"function"==typeof t.setImmediate&&t.setImmediate||function(e){t.setTimeout(e,1)};function o(t){var e=this;null!==this._state?i((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(Al){return void t.reject(Al)}t.resolve(r)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(a,this),e(s,this))}this._state=!0,this._value=t,l.call(this)}catch(Al){s.call(this,Al)}}function s(t){this._state=!1,this._value=t,l.call(this)}function l(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r}function u(t,e,n){var r=!1;try{t((function(t){r||(r=!0,e(t))}),(function(t){r||(r=!0,n(t))}))}catch(i){if(r)return;r=!0,n(i)}}return r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=this;return new r((function(r,i){o.call(n,new c(t,e,r,i))}))},r.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new r((function(e,n){if(0===t.length)return e([]);var r=t.length;function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(o,t)}),n)}t[o]=a,0==--r&&e(t)}catch(l){n(l)}}for(var o=0;o<t.length;o++)i(o,t[o])}))},r.resolve=function(t){return t&&"object"==typeof t&&t.constructor===r?t:new r((function(e){e(t)}))},r.reject=function(t){return new r((function(e,n){n(t)}))},r.race=function(t){return new r((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},r}(),Mt=function(e,n){return"number"!=typeof n&&(n=0),t.setTimeout(e,n)},Ot=function(e,n){return"number"!=typeof n&&(n=1),t.setInterval(e,n)},Pt=function(e,n){var r,i;return(i=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];t.clearTimeout(r),r=Mt((function(){e.apply(this,i)}),n)}).stop=function(){t.clearTimeout(r)},i},Rt={requestAnimationFrame:function(e,n){ut?ut.then(e):ut=new At((function(e){n||(n=t.document.body),function(e,n){var r,i=t.window.requestAnimationFrame,o=["ms","moz","webkit"];for(r=0;r<o.length&&!i;r++)i=t.window[o[r]+"RequestAnimationFrame"];i||(i=function(e){t.window.setTimeout(e,0)}),i(e,n)}(e,n)})).then(e)},setTimeout:Mt,setInterval:Ot,setEditorTimeout:function(t,e,n){return Mt((function(){t.removed||e()}),n)},setEditorInterval:function(e,n,r){var i;return i=Ot((function(){e.removed?t.clearInterval(i):n()}),r)},debounce:Pt,throttle:Pt,clearInterval:function(e){return t.clearInterval(e)},clearTimeout:function(e){return t.clearTimeout(e)}},Lt=/^(?:mouse|contextmenu)|click/,Dt={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},Bt=function(){return!1},Ht=function(){return!0},It=function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Vt=function(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Ft=function(e,n){var r,i,o=n||{};for(r in e)Dt[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||t.document),zt.experimentalShadowDom&&(o.target=function(t,e){if(t.composedPath){var n=t.composedPath();if(n&&0<n.length)return n[0]}return e}(e,o.target)),e&&Lt.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var a=o.target.ownerDocument||t.document,s=a.documentElement,l=a.body;o.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),o.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Ht,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Ht,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Ht,o.stopPropagation()})==((i=o).isDefaultPrevented===Ht||i.isDefaultPrevented===Bt)&&(o.isDefaultPrevented=Bt,o.isPropagationStopped=Bt,o.isImmediatePropagationStopped=Bt),void 0===o.metaKey&&(o.metaKey=!1),o},jt=function(t,e,n){var r=t.document,i={type:"ready"};if(n.domLoaded)e(i);else{var o=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){Vt(t,"DOMContentLoaded",a),Vt(t,"load",a),n.domLoaded||(n.domLoaded=!0,e(i))},s=function(){o()&&(Vt(r,"readystatechange",s),a())},l=function(){try{r.documentElement.doScroll("left")}catch(t){return void Rt.setTimeout(l)}a()};!r.addEventListener||zt.ie&&zt.ie<11?(It(r,"readystatechange",s),r.documentElement.doScroll&&t.self===t.top&&l()):o()?a():It(t,"DOMContentLoaded",a),It(t,"load",a)}},$t=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in t.document.documentElement,this.hasFocusIn="onfocusin"in t.document.documentElement,this.count=1}return e.prototype.bind=function(e,n,r,i){var o,a,s,l,c,u,d,f=this,h=t.window,p=function(t){f.executeHandlers(Ft(t||h.event),o)};if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?o=e[f.expando]:(o=f.count++,e[f.expando]=o,f.events[o]={}),i=i||e;var m=n.split(" ");for(s=m.length;s--;)u=p,c=d=!1,"DOMContentLoaded"===(l=m[s])&&(l="ready"),f.domLoaded&&"ready"===l&&"complete"===e.readyState?r.call(i,Ft({type:l})):(f.hasMouseEnterLeave||(c=f.mouseEnterLeave[l])&&(u=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Ft(t||h.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,f.executeHandlers(t,o))}),f.hasFocusIn||"focusin"!==l&&"focusout"!==l||(d=!0,c="focusin"===l?"focus":"blur",u=function(t){(t=Ft(t||h.event)).type="focus"===t.type?"focusin":"focusout",f.executeHandlers(t,o)}),(a=f.events[o][l])?"ready"===l&&f.domLoaded?r(Ft({type:l})):a.push({func:r,scope:i}):(f.events[o][l]=a=[{func:r,scope:i}],a.fakeName=c,a.capture=d,a.nativeHandler=u,"ready"===l?jt(e,u,f):It(e,c||l,u,d)));return e=a=0,r}},e.prototype.unbind=function(t,e,n){var r,i,o,a,s,l;if(!t||3===t.nodeType||8===t.nodeType)return this;if(r=t[this.expando]){if(l=this.events[r],e){var c=e.split(" ");for(o=c.length;o--;)if(i=l[s=c[o]]){if(n)for(a=i.length;a--;)if(i[a].func===n){var u=i.nativeHandler,d=i.fakeName,f=i.capture;(i=i.slice(0,a).concat(i.slice(a+1))).nativeHandler=u,i.fakeName=d,i.capture=f,l[s]=i}n&&0!==i.length||(delete l[s],Vt(t,i.fakeName||s,i.nativeHandler,i.capture))}}else{for(s in l)i=l[s],Vt(t,i.fakeName||s,i.nativeHandler,i.capture);l={}}for(s in l)return this;delete this.events[r];try{delete t[this.expando]}catch(h){t[this.expando]=null}}return this},e.prototype.fire=function(t,e,n){var r;if(!t||3===t.nodeType||8===t.nodeType)return this;var i=Ft(null,n);for(i.type=e,i.target=t;(r=t[this.expando])&&this.executeHandlers(i,r),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!i.isPropagationStopped(););return this},e.prototype.clean=function(t){var e,n;if(!t||3===t.nodeType||8===t.nodeType)return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(this.unbind(t),e=(n=t.getElementsByTagName("*")).length;e--;)(t=n[e])[this.expando]&&this.unbind(t);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(t,e){var n,r,i,o,a=this.events[e];if(n=a&&a[t.type])for(r=0,i=n.length;r<i;r++)if((o=n[r])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return},e.Event=new e,e}(),Ut="sizzle"+-new Date,qt=t.window.document,Wt=0,Xt=0,Kt=ke(),Yt=ke(),Gt=ke(),Zt=function(t,e){return t===e&&(wt=!0),0},Jt="undefined",Qt={}.hasOwnProperty,te=[],ee=te.pop,ne=te.push,re=te.push,ie=te.slice,oe=te.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},ae="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",le="\\["+ae+"*("+se+")(?:"+ae+"*([*^$|!~]?=)"+ae+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+se+"))|)"+ae+"*\\]",ce=":("+se+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+le+")*)|.*)\\)|)",ue=new RegExp("^"+ae+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ae+"+$","g"),de=new RegExp("^"+ae+"*,"+ae+"*"),fe=new RegExp("^"+ae+"*([>+~]|"+ae+")"+ae+"*"),he=new RegExp("="+ae+"*([^\\]'\"]*?)"+ae+"*\\]","g"),pe=new RegExp(ce),me=new RegExp("^"+se+"$"),ge={ID:new RegExp("^#("+se+")"),CLASS:new RegExp("^\\.("+se+")"),TAG:new RegExp("^("+se+"|[*])"),ATTR:new RegExp("^"+le),PSEUDO:new RegExp("^"+ce),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ae+"*(even|odd|(([+-]|)(\\d*)n|)"+ae+"*(?:([+-]|)"+ae+"*(\\d+)|))"+ae+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+ae+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ae+"*((?:-\\d)?\\d*)"+ae+"*\\)|)(?=[^-]|$)","i")},ve=/^(?:input|select|textarea|button)$/i,be=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,Ce=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/[+~]/,xe=/'|\\/g,_e=new RegExp("\\\\([\\da-f]{1,6}"+ae+"?|("+ae+")|.)","ig"),Ee=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{re.apply(te=ie.call(qt.childNodes),qt.childNodes),te[qt.childNodes.length].nodeType}catch(dx){re={apply:te.length?function(t,e){ne.apply(t,ie.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}var Se=function(t,e,n,r){var i,o,a,s,l,c,u,d,f,h;if((e?e.ownerDocument||e:qt)!==_t&&xt(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=(e=e||_t).nodeType)&&9!==s)return[];if(St&&!r){if(i=Ce.exec(t))if(a=i[1]){if(9===s){if(!(o=e.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&Tt(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return re.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&ft.getElementsByClassName)return re.apply(n,e.getElementsByClassName(a)),n}if(ft.qsa&&(!kt||!kt.test(t))){if(d=u=Ut,f=e,h=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(c=gt(t),(u=e.getAttribute("id"))?d=u.replace(xe,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+Re(c[l]);f=we.test(t)&&Oe(e.parentNode)||e,h=c.join(",")}if(h)try{return re.apply(n,f.querySelectorAll(h)),n}catch(p){}finally{u||e.removeAttribute("id")}}}return bt(t.replace(ue,"$1"),e,n,r)};function ke(){var t=[];return function e(n,r){return t.push(n+" ")>ht.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function Ne(t){return t[Ut]=!0,t}function Te(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ze(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function Ae(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function Me(t){return Ne((function(e){return e=+e,Ne((function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function Oe(t){return t&&typeof t.getElementsByTagName!==Jt&&t}for(dt in ft=Se.support={},mt=Se.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},xt=Se.setDocument=function(t){var e,n=t?t.ownerDocument||t:qt,r=n.defaultView;return n!==_t&&9===n.nodeType&&n.documentElement?(Et=(_t=n).documentElement,St=!mt(n),r&&r!==function(t){try{return t.top}catch(e){}return null}(r)&&(r.addEventListener?r.addEventListener("unload",(function(){xt()}),!1):r.attachEvent&&r.attachEvent("onunload",(function(){xt()}))),ft.attributes=!0,ft.getElementsByTagName=!0,ft.getElementsByClassName=ye.test(n.getElementsByClassName),ft.getById=!0,ht.find.ID=function(t,e){if(typeof e.getElementById!==Jt&&St){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},ht.filter.ID=function(t){var e=t.replace(_e,Ee);return function(t){return t.getAttribute("id")===e}},ht.find.TAG=ft.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==Jt)return e.getElementsByTagName(t)}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},ht.find.CLASS=ft.getElementsByClassName&&function(t,e){if(St)return e.getElementsByClassName(t)},Nt=[],kt=[],ft.disconnectedMatch=!0,kt=kt.length&&new RegExp(kt.join("|")),Nt=Nt.length&&new RegExp(Nt.join("|")),e=ye.test(Et.compareDocumentPosition),Tt=e||ye.test(Et.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Zt=e?function(t,e){if(t===e)return wt=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!ft.sortDetached&&e.compareDocumentPosition(t)===r?t===n||t.ownerDocument===qt&&Tt(qt,t)?-1:e===n||e.ownerDocument===qt&&Tt(qt,e)?1:Ct?oe.call(Ct,t)-oe.call(Ct,e):0:4&r?-1:1)}:function(t,e){if(t===e)return wt=!0,0;var r,i=0,o=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:Ct?oe.call(Ct,t)-oe.call(Ct,e):0;if(o===a)return Te(t,e);for(r=t;r=r.parentNode;)s.unshift(r);for(r=e;r=r.parentNode;)l.unshift(r);for(;s[i]===l[i];)i++;return i?Te(s[i],l[i]):s[i]===qt?-1:l[i]===qt?1:0},n):_t},Se.matches=function(t,e){return Se(t,null,null,e)},Se.matchesSelector=function(t,e){if((t.ownerDocument||t)!==_t&&xt(t),e=e.replace(he,"='$1']"),ft.matchesSelector&&St&&(!Nt||!Nt.test(e))&&(!kt||!kt.test(e)))try{var n=(void 0).call(t,e);if(n||ft.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(dx){}return 0<Se(e,_t,null,[t]).length},Se.contains=function(t,e){return(t.ownerDocument||t)!==_t&&xt(t),Tt(t,e)},Se.attr=function(t,e){(t.ownerDocument||t)!==_t&&xt(t);var n=ht.attrHandle[e.toLowerCase()],r=n&&Qt.call(ht.attrHandle,e.toLowerCase())?n(t,e,!St):void 0;return void 0!==r?r:ft.attributes||!St?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},Se.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Se.uniqueSort=function(t){var e,n=[],r=0,i=0;if(wt=!ft.detectDuplicates,Ct=!ft.sortStable&&t.slice(0),t.sort(Zt),wt){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return Ct=null,t},pt=Se.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=pt(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=pt(e);return n},(ht=Se.selectors={cacheLength:50,createPseudo:Ne,match:ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_e,Ee),t[3]=(t[3]||t[4]||t[5]||"").replace(_e,Ee),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||Se.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&Se.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ge.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&pe.test(n)&&(e=gt(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_e,Ee).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Kt[t+" "];return e||(e=new RegExp("(^|"+ae+")"+t+"("+ae+"|$)"))&&Kt(t,(function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Jt&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=Se.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&-1<i.indexOf(n):"$="===e?n&&i.slice(-n.length)===n:"~="===e?-1<(" "+i+" ").indexOf(n):"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var c,u,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(h=(c=(u=g[Ut]||(g[Ut]={}))[t]||[])[0]===Wt&&c[1],f=c[0]===Wt&&c[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===e){u[t]=[Wt,h,f];break}}else if(b&&(c=(e[Ut]||(e[Ut]={}))[t])&&c[0]===Wt)f=c[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[Ut]||(d[Ut]={}))[t]=[Wt,f]),d!==e)););return(f-=i)===r||f%r==0&&0<=f/r}}},PSEUDO:function(t,e){var n,r=ht.pseudos[t]||ht.setFilters[t.toLowerCase()]||Se.error("unsupported pseudo: "+t);return r[Ut]?r(e):1<r.length?(n=[t,t,"",e],ht.setFilters.hasOwnProperty(t.toLowerCase())?Ne((function(t,n){for(var i,o=r(t,e),a=o.length;a--;)t[i=oe.call(t,o[a])]=!(n[i]=o[a])})):function(t){return r(t,0,n)}):r}},pseudos:{not:Ne((function(t){var e=[],n=[],r=vt(t.replace(ue,"$1"));return r[Ut]?Ne((function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))})):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}})),has:Ne((function(t){return function(e){return 0<Se(t,e).length}})),contains:Ne((function(t){return t=t.replace(_e,Ee),function(e){return-1<(e.textContent||e.innerText||pt(e)).indexOf(t)}})),lang:Ne((function(t){return me.test(t||"")||Se.error("unsupported lang: "+t),t=t.replace(_e,Ee).toLowerCase(),function(e){var n;do{if(n=St?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.window.location&&t.window.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===Et},focus:function(t){return t===_t.activeElement&&(!_t.hasFocus||_t.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!ht.pseudos.empty(t)},header:function(t){return be.test(t.nodeName)},input:function(t){return ve.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:Me((function(){return[0]})),last:Me((function(t,e){return[e-1]})),eq:Me((function(t,e,n){return[n<0?n+e:n]})),even:Me((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:Me((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:Me((function(t,e,n){for(var r=n<0?n+e:n;0<=--r;)t.push(r);return t})),gt:Me((function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t}))}}).pseudos.nth=ht.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})ht.pseudos[dt]=ze(dt);for(dt in{submit:!0,reset:!0})ht.pseudos[dt]=Ae(dt);function Pe(){}function Re(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function Le(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=Xt++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,l,c=[Wt,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if((s=(l=e[Ut]||(e[Ut]={}))[r])&&s[0]===Wt&&s[1]===o)return c[2]=s[2];if((l[r]=c)[2]=t(e,n,a))return!0}}}function De(t){return 1<t.length?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function Be(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function He(t,e,n,r,i,o){return r&&!r[Ut]&&(r=He(r)),i&&!i[Ut]&&(i=He(i,o)),Ne((function(o,a,s,l){var c,u,d,f=[],h=[],p=a.length,m=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)Se(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?m:Be(m,f,t,s,l),v=n?i||(o?t:p||r)?[]:a:g;if(n&&n(g,v,s,l),r)for(c=Be(v,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(v[h[u]]=!(g[h[u]]=d));if(o){if(i||t){if(i){for(c=[],u=v.length;u--;)(d=v[u])&&c.push(g[u]=d);i(null,v=[],c,l)}for(u=v.length;u--;)(d=v[u])&&-1<(c=i?oe.call(o,d):f[u])&&(o[c]=!(a[c]=d))}}else v=Be(v===a?v.splice(p,v.length):v),i?i(null,a,v,l):re.apply(a,v)}))}function Ie(t){for(var e,n,r,i=t.length,o=ht.relative[t[0].type],a=o||ht.relative[" "],s=o?1:0,l=Le((function(t){return t===e}),a,!0),c=Le((function(t){return-1<oe.call(e,t)}),a,!0),u=[function(t,n,r){return!o&&(r||n!==yt)||((e=n).nodeType?l(t,n,r):c(t,n,r))}];s<i;s++)if(n=ht.relative[t[s].type])u=[Le(De(u),n)];else{if((n=ht.filter[t[s].type].apply(null,t[s].matches))[Ut]){for(r=++s;r<i&&!ht.relative[t[r].type];r++);return He(1<s&&De(u),1<s&&Re(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(ue,"$1"),n,s<r&&Ie(t.slice(s,r)),r<i&&Ie(t=t.slice(r)),r<i&&Re(t))}u.push(n)}return De(u)}Pe.prototype=ht.filters=ht.pseudos,ht.setFilters=new Pe,gt=Se.tokenize=function(t,e){var n,r,i,o,a,s,l,c=Yt[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=ht.preFilter;a;){for(o in n&&!(r=de.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=fe.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ue," ")}),a=a.slice(n.length)),ht.filter)ht.filter.hasOwnProperty(o)&&(!(r=ge[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length)));if(!n)break}return e?a.length:a?Se.error(t):Yt(t,s).slice(0)},vt=Se.compile=function(t,e){var n,r,i,o,a,s,l=[],c=[],u=Gt[t+" "];if(!u){for(e||(e=gt(t)),n=e.length;n--;)(u=Ie(e[n]))[Ut]?l.push(u):c.push(u);(u=Gt(t,(r=c,i=l,o=0<i.length,a=0<r.length,s=function(t,e,n,s,l){var c,u,d,f=0,h="0",p=t&&[],m=[],g=yt,v=t||a&&ht.find.TAG("*",l),b=Wt+=null==g?1:Math.random()||.1,y=v.length;for(l&&(yt=e!==_t&&e);h!==y&&null!=(c=v[h]);h++){if(a&&c){for(u=0;d=r[u++];)if(d(c,e,n)){s.push(c);break}l&&(Wt=b)}o&&((c=!d&&c)&&f--,t&&p.push(c))}if(f+=h,o&&h!==f){for(u=0;d=i[u++];)d(p,m,e,n);if(t){if(0<f)for(;h--;)p[h]||m[h]||(m[h]=ee.call(s));m=Be(m)}re.apply(s,m),l&&!t&&0<m.length&&1<f+i.length&&Se.uniqueSort(s)}return l&&(Wt=b,yt=g),p},o?Ne(s):s))).selector=t}return u},bt=Se.select=function(t,e,n,r){var i,o,a,s,l,c="function"==typeof t&&t,u=!r&&gt(t=c.selector||t);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&ft.getById&&9===e.nodeType&&St&&ht.relative[o[1].type]){if(!(e=(ht.find.ID(a.matches[0].replace(_e,Ee),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=ge.needsContext.test(t)?0:o.length;i--&&(a=o[i],!ht.relative[s=a.type]);)if((l=ht.find[s])&&(r=l(a.matches[0].replace(_e,Ee),we.test(o[0].type)&&Oe(e.parentNode)||e))){if(o.splice(i,1),!(t=r.length&&Re(o)))return re.apply(n,r),n;break}}return(c||vt(t,u))(r,e,!St,n,we.test(t)&&Oe(e.parentNode)||e),n},ft.sortStable=Ut.split("").sort(Zt).join("")===Ut,ft.detectDuplicates=!!wt,xt(),ft.sortDetached=!0;var Ve=Array.isArray,Fe=function(t,e,n){var r,i;if(!t)return 0;if(n=n||t,void 0!==t.length){for(r=0,i=t.length;r<i;r++)if(!1===e.call(n,t[r],r,t))return 0}else for(r in t)if(t.hasOwnProperty(r)&&!1===e.call(n,t[r],r,t))return 0;return 1},je=function(t,e,n){var r,i;for(r=0,i=t.length;r<i;r++)if(e.call(n,t[r],r,t))return r;return-1},$e={isArray:Ve,toArray:function(t){var e,n,r=t;if(!Ve(t))for(r=[],e=0,n=t.length;e<n;e++)r[e]=t[e];return r},each:Fe,map:function(t,e){var n=[];return Fe(t,(function(r,i){n.push(e(r,i,t))})),n},filter:function(t,e){var n=[];return Fe(t,(function(r,i){e&&!e(r,i,t)||n.push(r)})),n},indexOf:function(t,e){var n,r;if(t)for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,r){var i=0;for(arguments.length<3&&(n=t[0]);i<t.length;i++)n=e.call(r,n,t[i],i);return n},findIndex:je,find:function(t,e,n){var r=je(t,e,n);return-1!==r?t[r]:void 0},last:function(t){return t[t.length-1]}},Ue=/^\s*|\s*$/g,qe=function(t){return null==t?"":(""+t).replace(Ue,"")},We=function(t,e){return e?!("array"!==e||!$e.isArray(t))||typeof t===e:void 0!==t},Xe=function(t,e,n,r){r=r||this,t&&(n&&(t=t[n]),$e.each(t,(function(t,i){if(!1===e.call(r,t,i,n))return!1;Xe(t,e,n,r)})))},Ke={trim:qe,isArray:$e.isArray,is:We,toArray:$e.toArray,makeMap:function(t,e,n){var r;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},r=t.length;r--;)n[t[r]]={};return n},each:$e.each,map:$e.map,grep:$e.filter,inArray:$e.indexOf,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t,e){for(var n,r,i,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s,l=arguments;for(n=1,r=l.length;n<r;n++)for(i in e=l[n])e.hasOwnProperty(i)&&void 0!==(s=e[i])&&(t[i]=s);return t},create:function(t,e,n){var r,i,o,a,s,l=this,c=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(i=l.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return i[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],i[o]));e[o]||(e[o]=function(){},c=1),i[o]=e[o],l.extend(i[o].prototype,e),t[5]&&(r=l.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=i[o],i[o]=c?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},i[o].prototype[o]=i[o],l.each(r,(function(t,e){i[o].prototype[e]=r[e]})),l.each(e,(function(t,e){r[e]?i[o].prototype[e]=function(){return this.parent=r[e],t.apply(this,arguments)}:e!==o&&(i[o].prototype[e]=t)}))),l.each(e.static,(function(t,e){i[o][e]=t}))}},walk:Xe,createNS:function(e,n){var r,i;for(n=n||t.window,e=e.split("."),r=0;r<e.length;r++)n[i=e[r]]||(n[i]={}),n=n[i];return n},resolve:function(e,n){var r,i;for(n=n||t.window,r=0,i=(e=e.split(".")).length;r<i&&(n=n[e[r]]);r++);return n},explode:function(t,e){return!t||We(t,"array")?t:$e.map(t.split(e||","),qe)},_addCacheSuffix:function(t){var e=zt.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},Ye=t.document,Ge=Array.prototype.push,Ze=Array.prototype.slice,Je=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Qe=$t.Event,tn=Ke.makeMap("children,contents,next,prev"),en=function(t){return void 0!==t},nn=function(t){return"string"==typeof t},rn=function(t,e){var n,r,i;for(i=(e=e||Ye).createElement("div"),n=e.createDocumentFragment(),i.innerHTML=t;r=i.firstChild;)n.appendChild(r);return n},on=function(t,e,n,r){var i;if(nn(e))e=rn(e,yn(t[0]));else if(e.length&&!e.nodeType){if(e=zn.makeArray(e),r)for(i=e.length-1;0<=i;i--)on(t,e[i],n,r);else for(i=0;i<e.length;i++)on(t,e[i],n,r);return t}if(e.nodeType)for(i=t.length;i--;)n.call(t[i],e);return t},an=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},sn=function(t,e,n){var r,i;return e=zn(e)[0],t.each((function(){var t=this;n&&r===t.parentNode||(r=t.parentNode,i=e.cloneNode(!1),t.parentNode.insertBefore(i,t)),i.appendChild(t)})),t},ln=Ke.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),cn=Ke.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),un={for:"htmlFor",class:"className",readonly:"readOnly"},dn={float:"cssFloat"},fn={},hn={},pn=function(t,e){return new zn.fn.init(t,e)},mn=/^\s*|\s*$/g,gn=function(t){return null==t?"":(""+t).replace(mn,"")},vn=function(t,e){var n,r,i,o;if(t)if(void 0===(n=t.length)){for(r in t)if(t.hasOwnProperty(r)&&(o=t[r],!1===e.call(o,r,o)))break}else for(i=0;i<n&&(o=t[i],!1!==e.call(o,i,o));i++);return t},bn=function(t,e){var n=[];return vn(t,(function(t,r){e(r,t)&&n.push(r)})),n},yn=function(t){return t?9===t.nodeType?t:t.ownerDocument:Ye};pn.fn=pn.prototype={constructor:pn,selector:"",context:null,length:0,init:function(e,n){var r,i,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(n&&n.nodeType)o.context=n;else{if(n)return zn(e).attr(n);o.context=n=t.document}if(nn(e)){if(!(r="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Je.exec(e)))return zn(n).find(e);if(r[1])for(i=rn(e,yn(n)).firstChild;i;)Ge.call(o,i),i=i.nextSibling;else{if(!(i=yn(n).getElementById(r[2])))return o;if(i.id!==r[2])return o.find(e);o.length=1,o[0]=i}}else this.add(e,!1);return o},toArray:function(){return Ke.toArray(this)},add:function(t,e){var n,r,i=this;if(nn(t))return i.add(zn(t));if(!1!==e)for(n=zn.unique(i.toArray().concat(zn.makeArray(t))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else Ge.apply(i,zn.makeArray(t));return i},attr:function(t,e){var n,r=this;if("object"==typeof t)vn(t,(function(t,e){r.attr(t,e)}));else{if(!en(e)){if(r[0]&&1===r[0].nodeType){if((n=fn[t])&&n.get)return n.get(r[0],t);if(cn[t])return r.prop(t)?t:void 0;null===(e=r[0].getAttribute(t,2))&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if((n=fn[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return r},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=un[t]||t))vn(t,(function(t,e){n.prop(t,e)}));else{if(!en(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,e){var n,r,i=this,o=function(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))},a=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"==typeof t)vn(t,(function(t,e){i.css(t,e)}));else if(en(e))t=o(t),"number"!=typeof e||ln[t]||(e=e.toString()+"px"),i.each((function(){var n=this.style;if((r=hn[t])&&r.set)r.set(this,e);else{try{this.style[dn[t]||t]=e}catch(i){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(a(t)):n.removeAttribute(t))}}));else{if(n=i[0],(r=hn[t])&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(t))}catch(s){return}}return i},remove:function(){for(var t,e=this.length;e--;)t=this[e],Qe.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(en(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(Ml){zn(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(en(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return on(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return on(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){return this[0]&&this[0].parentNode?on(this,arguments,(function(t){this.parentNode.insertBefore(t,this)})):this},after:function(){return this[0]&&this[0].parentNode?on(this,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):this},appendTo:function(t){return zn(t).append(this),this},prependTo:function(t){return zn(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return sn(this,t)},wrapAll:function(t){return sn(this,t,!0)},wrapInner:function(t){return this.each((function(){zn(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){zn(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),zn(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t||(-1!==t.indexOf(" ")?vn(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,r){var i,o;(o=an(r,t))!==e&&(i=r.className,o?r.className=gn((" "+i+" ").replace(" "+t+" "," ")):r.className+=i?" "+t:t)}))),n},hasClass:function(t){return an(this[0],t)},each:function(t){return vn(this,t)},on:function(t,e){return this.each((function(){Qe.bind(this,t,e)}))},off:function(t,e){return this.each((function(){Qe.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"==typeof t?Qe.fire(this,t.type,t):Qe.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new zn(Ze.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,r=[];for(e=0,n=this.length;e<n;e++)zn.find(t,this[e],r);return zn(r)},filter:function(t){return zn("function"==typeof t?bn(this.toArray(),(function(e,n){return t(n,e)})):zn.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof zn&&(t=t[0]),this.each((function(n,r){for(;r;){if("string"==typeof t&&zn(r).is(t)){e.push(r);break}if(r===t){e.push(r);break}r=r.parentNode}})),zn(e)},offset:function(t){var e,n,r,i,o=0,a=0;return t?this.css(t):((e=this[0])&&(r=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(i=e.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:Ge,sort:Array.prototype.sort,splice:Array.prototype.splice},Ke.extend(pn,{extend:Ke.extend,makeArray:function(t){return(e=t)&&e===e.window||t.nodeType?[t]:Ke.toArray(t);var e},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:Ke.isArray,each:vn,trim:gn,grep:bn,find:Se,expr:Se.selectors,unique:Se.uniqueSort,text:Se.getText,contains:Se.contains,filter:function(t,e,n){var r=e.length;for(n&&(t=":not("+t+")");r--;)1!==e[r].nodeType&&e.splice(r,1);return 1===e.length?zn.find.matchesSelector(e[0],t)?[e[0]]:[]:zn.find.matches(t,e)}});var Cn=function(t,e,n){var r=[],i=t[e];for("string"!=typeof n&&n instanceof zn&&(n=n[0]);i&&9!==i.nodeType;){if(void 0!==n){if(i===n)break;if("string"==typeof n&&zn(i).is(n))break}1===i.nodeType&&r.push(i),i=i[e]}return r},wn=function(t,e,n,r){var i=[];for(r instanceof zn&&(r=r[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==r){if(t===r)break;if("string"==typeof r&&zn(t).is(r))break}i.push(t)}return i},xn=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};vn({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Cn(t,"parentNode")},next:function(t){return xn(t,"nextSibling",1)},prev:function(t){return xn(t,"previousSibling",1)},children:function(t){return wn(t.firstChild,"nextSibling",1)},contents:function(t){return Ke.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){pn.fn[t]=function(n){var r=[];this.each((function(){var t=e.call(r,this,n,r);t&&(zn.isArray(t)?r.push.apply(r,t):r.push(t))})),1<this.length&&(tn[t]||(r=zn.unique(r)),0===t.indexOf("parents")&&(r=r.reverse()));var i=zn(r);return n?i.filter(n):i}})),vn({parentsUntil:function(t,e){return Cn(t,"parentNode",e)},nextUntil:function(t,e){return wn(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return wn(t,"previousSibling",1,e).slice(1)}},(function(t,e){pn.fn[t]=function(n,r){var i=[];this.each((function(){var t=e.call(i,this,n,i);t&&(zn.isArray(t)?i.push.apply(i,t):i.push(t))})),1<this.length&&(i=zn.unique(i),0!==t.indexOf("parents")&&"prevUntil"!==t||(i=i.reverse()));var o=zn(i);return r?o.filter(r):o}})),pn.fn.is=function(t){return!!t&&0<this.filter(t).length},pn.fn.init.prototype=pn.fn,pn.overrideDefaults=function(t){var e,n=function(r,i){return e=e||t(),0===arguments.length&&(r=e.element),i||(i=e.context),new n.fn.init(r,i)};return zn.extend(n,this),n};var _n=function(t,e,n){vn(n,(function(n,r){t[n]=t[n]||{},t[n][e]=r}))};zt.ie&&zt.ie<8&&(_n(fn,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?void 0:e},size:function(t){var e=t.size;return 20===e?void 0:e},class:function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?void 0:e}}),_n(fn,"set",{class:function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),zt.ie&&zt.ie<9&&(dn.float="styleFloat",_n(hn,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),pn.attrHooks=fn,pn.cssHooks=hn;var En,Sn,kn,Nn,Tn,zn=pn,An=function(){return Mn(0,0)},Mn=function(t,e){return{major:t,minor:e}},On=function(t,e){var n=String(e).toLowerCase();return 0===t.length?An():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}}(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Mn(r(1),r(2))}(t,n)},Pn=An,Rn="Firefox",Ln=function(t,e){return function(){return e===t}},Dn=function(t){var e=t.current;return{current:e,version:t.version,isEdge:Ln("Edge",e),isChrome:Ln("Chrome",e),isIE:Ln("IE",e),isOpera:Ln("Opera",e),isFirefox:Ln(Rn,e),isSafari:Ln("Safari",e)}},Bn=function(){return Dn({current:void 0,version:Pn()})},Hn=Dn,In=(r("Edge"),r("Chrome"),r("IE"),r("Opera"),r(Rn),r("Safari"),"Windows"),Vn="Android",Fn="Solaris",jn="FreeBSD",$n=function(t,e){return function(){return e===t}},Un=function(t){var e=t.current;return{current:e,version:t.version,isWindows:$n(In,e),isiOS:$n("iOS",e),isAndroid:$n(Vn,e),isOSX:$n("OSX",e),isLinux:$n("Linux",e),isSolaris:$n(Fn,e),isFreeBSD:$n(jn,e)}},qn=function(){return Un({current:void 0,version:Pn()})},Wn=Un,Xn=(r(In),r("iOS"),r(Vn),r("Linux"),r("OSX"),r(Fn),r(jn),function(t,e){var n=String(e).toLowerCase();return G(t,(function(t){return t.search(n)}))}),Kn=function(t,e){return-1!==t.indexOf(e)},Yn=function(t,e){return n=t,0,""===(r=e)||!(n.length<r.length)&&n.substr(0,0+r.length)===r;var n,r},Gn=function(t){return t.replace(/^\s+|\s+$/g,"")},Zn=function(t){return t.replace(/\s+$/g,"")},Jn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qn=function(t){return function(e){return Kn(e,t)}},tr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Kn(t,"edge/")&&Kn(t,"chrome")&&Kn(t,"safari")&&Kn(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Jn],search:function(t){return Kn(t,"chrome")&&!Kn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Kn(t,"msie")||Kn(t,"trident")}},{name:"Opera",versionRegexes:[Jn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qn("firefox")},{name:"Safari",versionRegexes:[Jn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Kn(t,"safari")||Kn(t,"mobile/"))&&Kn(t,"applewebkit")}}],er=[{name:"Windows",search:Qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Kn(t,"iphone")||Kn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Qn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qn("linux"),versionRegexes:[]},{name:"Solaris",search:Qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qn("freebsd"),versionRegexes:[]}],nr={browsers:r(tr),oses:r(er)},rr=function(t){var e,n,i,o,a,s,l,c,u,d,f,h=nr.browsers(),p=nr.oses(),m=function(t,e){return Xn(t,e).map((function(t){var n=On(t.versionRegexes,e);return{current:t.name,version:n}}))}(h,t).fold(Bn,Hn),g=function(t,e){return Xn(t,e).map((function(t){var n=On(t.versionRegexes,e);return{current:t.name,version:n}}))}(p,t).fold(qn,Wn);return{browser:m,os:g,deviceType:(n=m,i=t,o=(e=g).isiOS()&&!0===/ipad/i.test(i),a=e.isiOS()&&!o,s=e.isAndroid()&&3===e.version.major,l=e.isAndroid()&&4===e.version.major,c=o||s||l&&!0===/mobile/i.test(i),u=e.isiOS()||e.isAndroid(),d=u&&!c,f=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(i),{isiPad:r(o),isiPhone:r(a),isTablet:r(c),isPhone:r(d),isTouch:r(u),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(f)})}},ir={detect:(kn=!(En=function(){var e=t.navigator.userAgent;return rr(e)}),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kn||(kn=!0,Sn=En.apply(null,t)),Sn})},or=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:r(t)}},ar=function(e,n){var r=(n||t.document).createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||1<r.childNodes.length)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return or(r.childNodes[0])},sr=function(e,n){var r=(n||t.document).createElement(e);return or(r)},lr=function(e,n){var r=(n||t.document).createTextNode(e);return or(r)},cr=or,ur=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),dr=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),fr=t.Node.TEXT_NODE,hr=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,void 0!==t.window?t.window:Function("return this;")(),function(t){return t.dom().nodeName.toLowerCase()}),pr=function(t){return function(e){return e.dom().nodeType===t}},mr=pr(dr),gr=pr(fr),vr=Object.keys,br=Object.hasOwnProperty,yr=function(t,e){for(var n=vr(t),r=0,i=n.length;r<i;r++){var o=n[r];e(t[o],o,t)}},Cr=function(t,e){return wr(t,(function(t,n,r){return{k:n,v:e(t,n,r)}}))},wr=function(t,e){var n={};return yr(t,(function(r,i){var o=e(r,i,t);n[o.k]=o.v})),n},xr=function(t,e){var n={},r={};return yr(t,(function(t,i){(e(t,i)?n:r)[i]=t})),{t:n,f:r}},_r=function(t,e){return Er(t,e)?M.from(t[e]):M.none()},Er=function(t,e){return br.call(t,e)},Sr=function(t){return void 0!==t.style&&H(t.style.getPropertyValue)},kr=function(t){var e=gr(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)},Nr=function(e,n,r){if(!(P(r)||B(r)||I(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Tr=function(t,e,n){Nr(t.dom(),e,n)},zr=function(t,e){var n=t.dom();yr(e,(function(t,e){Nr(n,e,t)}))},Ar=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Mr=function(t,e){t.dom().removeAttribute(e)},Or=function(e,n){var r=e.dom(),i=t.window.getComputedStyle(r).getPropertyValue(n),o=""!==i||kr(e)?i:Pr(r,n);return null===o?void 0:o},Pr=function(t,e){return Sr(t)?t.style.getPropertyValue(e):""},Rr=function(t,e){var n=t.dom(),r=Pr(n,e);return M.from(r).filter((function(t){return 0<t.length}))},Lr=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return q(t,(function(t,n){i[t]=r(e[n])})),i}},Dr=function(t,e){for(var n=[],r=function(t){return n.push(t),e(t)},i=e(t);(i=i.bind(r)).isSome(););return n},Br=dr,Hr=ur,Ir=function(t,e){var n=t.dom();if(n.nodeType!==Br)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},Vr=function(t){return t.nodeType!==Br&&t.nodeType!==Hr||0===t.childElementCount},Fr=function(t,e){return t.dom()===e.dom()},jr=ir.detect().browser.isIE()?function(e,n){return function(e,n){return function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)}(e,n,t.Node.DOCUMENT_POSITION_CONTAINED_BY)}(e.dom(),n.dom())}:function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},$r=function(t){return cr(t.dom().ownerDocument)},Ur=function(t){return cr(t.dom().ownerDocument.defaultView)},qr=function(t){return M.from(t.dom().parentNode).map(cr)},Wr=function(t){return M.from(t.dom().previousSibling).map(cr)},Xr=function(t){return M.from(t.dom().nextSibling).map(cr)},Kr=function(t){return e=Dr(t,Wr),(n=V.call(e,0)).reverse(),n;var e,n},Yr=function(t){return Dr(t,Xr)},Gr=function(t){return U(t.dom().childNodes,cr)},Zr=function(t,e){var n=t.dom().childNodes;return M.from(n[e]).map(cr)},Jr=function(t){return Zr(t,0)},Qr=function(t){return Zr(t,t.dom().childNodes.length-1)},ti=(Lr("element","offset"),ir.detect().browser),ei=function(t){return G(t,mr)},ni=function(t,e){return t.children&&j(t.children,e)},ri=function(t,e,n){var r,i,o,a=0,s=0,l=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===Or(cr(t),"position"))return{x:a=(i=e.getBoundingClientRect()).left+(l.documentElement.scrollLeft||t.scrollLeft)-l.documentElement.clientLeft,y:s=i.top+(l.documentElement.scrollTop||t.scrollTop)-l.documentElement.clientTop};for(r=e;r&&r!==n&&r.nodeType&&!ni(r,n);)a+=r.offsetLeft||0,s+=r.offsetTop||0,r=r.offsetParent;for(r=e.parentNode;r&&r!==n&&r.nodeType&&!ni(r,n);)a-=r.scrollLeft||0,s-=r.scrollTop||0,r=r.parentNode;s+=(o=cr(e),ti.isFirefox()&&"table"===hr(o)?ei(Gr(o)).filter((function(t){return"caption"===hr(t)})).bind((function(t){return ei(Yr(t)).map((function(e){var n=e.dom().offsetTop,r=t.dom().offsetTop,i=t.dom().offsetHeight;return n<=r?-i:0}))})).getOr(0):0)}return{x:a,y:s}},ii={},oi={exports:ii};Nn=ii,Tn=oi,function(t){"object"==typeof Nn&&void 0!==Tn?Tn.exports=t():("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=t()}((function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l=!1;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return i(e[a][1][t]||t)}),u,u.exports,t,e,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){var r,i,o=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function l(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(dx){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(dx){r=a}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(dx){i=s}}();var c,u=[],d=!1,f=-1;function h(){d&&c&&(d=!1,c.length?u=c.concat(u):f=-1,u.length&&p())}function p(){if(!d){var t=l(h);d=!0;for(var e=u.length;e;){for(c=u,u=[];++f<e;)c&&c[f].run();f=-1,e=u.length}c=null,d=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(dx){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new m(t,e)),1!==u.length||d||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){var r=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(dx){return void l(e.promise,dx)}s(e.promise,r)}else(1===t._state?s:l)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void d((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(dx){l(t,dx)}var r,i}function l(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,l(e,t))}))}catch(r){if(n)return;n=!0,l(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new u(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){i(o,t)}),n)}e[o]=a,0==--r&&t(e)}catch(l){n(l)}}for(var o=0;o<e.length;o++)i(o,e[o])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},o._immediateFn="function"==typeof t?function(e){t(e)}:function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},o._setImmediateFn=function(t){o._immediateFn=t},o._setUnhandledRejectionFn=function(t){o._unhandledRejectionFn=t},void 0!==e&&e.exports?e.exports=o:n.Promise||(n.Promise=o)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){var i=t("process/browser.js").nextTick,o=Function.prototype.apply,a=Array.prototype.slice,s={},l=0;function c(t,e){this._id=t,this._clearFn=e}n.setTimeout=function(){return new c(o.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new c(o.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n.setImmediate="function"==typeof e?e:function(t){var e=l++,r=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,i((function(){s[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))})),e},n.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),i="undefined"!=typeof window?window:Function("return this;")();e.exports={boltExport:i.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)}));var ai,si,li,ci=oi.exports.boltExport,ui=function(e){var n=M.none(),r=[],i=function(t){o()?a(t):r.push(t)},o=function(){return n.isSome()},a=function(e){n.each((function(n){t.setTimeout((function(){e(n)}),0)}))};return e((function(t){n=M.some(t),function(t){q(t,a)}(r),r=[]})),{get:i,map:function(t){return ui((function(e){i((function(n){e(t(n))}))}))},isReady:o}},di={nu:ui,pure:function(t){return ui((function(e){e(t)}))}},fi=function(e){t.setTimeout((function(){throw e}),0)},hi=function(t){var e=function(e){t().then(e,fi)};return{map:function(e){return hi((function(){return t().then(e)}))},bind:function(e){return hi((function(){return t().then((function(t){return e(t).toPromise()}))}))},anonBind:function(e){return hi((function(){return t().then((function(){return e.toPromise()}))}))},toLazy:function(){return di.nu(e)},toCached:function(){var e=null;return hi((function(){return null===e&&(e=t()),e}))},toPromise:t,get:e}},pi=function(t){return hi((function(){return new ci(t)}))},mi=function(t){return function(t,e){return e((function(e){var n=[],r=0;0===t.length?e([]):q(t,(function(i,o){var a;i.get((a=o,function(i){n[a]=i,++r>=t.length&&e(n)}))}))}))}(t,pi)},gi=function(t){return{is:function(e){return t===e},isValue:S,isError:E,getOr:r(t),getOrThunk:r(t),getOrDie:r(t),or:function(e){return gi(t)},orThunk:function(e){return gi(t)},fold:function(e,n){return n(t)},map:function(e){return gi(e(t))},mapError:function(e){return gi(t)},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return M.some(t)}}},vi=function(t){return{is:E,isValue:E,isError:S,getOr:i,getOrThunk:function(t){return t()},getOrDie:function(){return e=String(t),function(){throw new Error(e)}();var e},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return vi(t)},mapError:function(e){return vi(e(t))},each:e,bind:function(e){return vi(t)},exists:E,forall:S,toOption:M.none}},bi={value:gi,error:vi,fromOption:function(t,e){return t.fold((function(){return vi(e)}),gi)}},yi=function(t){return function(e){return!!e&&e.nodeType===t}},Ci=yi(1),wi=function(t){var e=t.map((function(t){return t.toLowerCase()}));return function(t){if(t&&t.nodeName){var n=t.nodeName.toLowerCase();return j(e,n)}return!1}},xi=function(t){return function(e){if(Ci(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},_i=wi(["textarea","input"]),Ei=yi(3),Si=yi(8),ki=yi(9),Ni=yi(11),Ti=wi(["br"]),zi=xi("true"),Ai=xi("false"),Mi={isText:Ei,isElement:Ci,isComment:Si,isDocument:ki,isDocumentFragment:Ni,isBr:Ti,isContentEditableTrue:zi,isContentEditableFalse:Ai,isRestrictedNode:function(t){return!!t&&!Object.getPrototypeOf(t)},matchNodeNames:wi,hasPropValue:function(t,e){return function(n){return Ci(n)&&n[t]===e}},hasAttribute:function(t,e){return function(e){return Ci(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,e){return function(n){return Ci(n)&&n.getAttribute(t)===e}},matchStyleValues:function(t,e){var n=e.toLowerCase().split(" ");return function(e){var r;if(Ci(e))for(r=0;r<n.length;r++){var i=e.ownerDocument.defaultView.getComputedStyle(e,null);if((i?i.getPropertyValue(t):null)===n[r])return!0}return!1}},isBogus:function(t){return Ci(t)&&t.hasAttribute("data-mce-bogus")},isBogusAll:function(t){return Ci(t)&&"all"===t.getAttribute("data-mce-bogus")},isTable:function(t){return Ci(t)&&"TABLE"===t.tagName},isTextareaOrInput:_i},Oi=function(){function t(t,e){this.node=t,this.rootNode=e,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},t.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},t.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},t.prototype.findSibling=function(t,e,n,r){var i,o;if(t){if(!r&&t[e])return t[e];if(t!==this.rootNode){if(i=t[n])return i;for(o=t.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(i=o[n])return i}}},t.prototype.findPreviousNode=function(t,e,n,r){var i,o,a;if(t){if(i=t[n],this.rootNode&&i===this.rootNode)return;if(i){if(!r)for(a=i[e];a;a=a[e])if(!a[e])return a;return i}if((o=t.parentNode)&&o!==this.rootNode)return o}},t}(),Pi=function(t){var e;return function(n){return(e=e||function(t,e){for(var n={},r=0,i=t.length;r<i;r++){var o=t[r];n[String(o)]=e(o,r)}return n}(t,r(!0))).hasOwnProperty(hr(n))}},Ri=Pi(["h1","h2","h3","h4","h5","h6"]),Li=Pi(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Di=function(t){return mr(t)&&!Li(t)},Bi=function(t){return mr(t)&&"br"===hr(t)},Hi=Pi(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Ii=Pi(["ul","ol","dl"]),Vi=Pi(["li","dd","dt"]),Fi=Pi(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),ji=Pi(["thead","tbody","tfoot"]),$i=Pi(["td","th"]),Ui=Pi(["pre","script","textarea","style"]),qi=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Wi=function(t,e){var n,r=e.childNodes;if(!Mi.isElement(e)||!qi(e)){for(n=r.length-1;0<=n;n--)Wi(t,r[n]);if(!1===Mi.isDocument(e)){if(Mi.isText(e)&&0<e.nodeValue.length){var i=Ke.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||0<i)return;if(0===i&&(a=(o=e).previousSibling&&"SPAN"===o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"===o.nextSibling.nodeName,a&&s))return}else if(Mi.isElement(e)&&(1===(r=e.childNodes).length&&qi(r[0])&&e.parentNode.insertBefore(r[0],e),r.length||Fi(cr(e))))return;t.remove(e)}var o,a,s;return e}},Xi={trimNode:Wi},Ki=Ke.makeMap,Yi=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Gi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zi=/[<>&\"\']/g,Ji=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Qi={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};si={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},li={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var to=function(t,e){var n,r,i,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)r=String.fromCharCode(parseInt(t[n],e)),si[r]||(i="&"+t[n+1]+";",o[r]=i,o[i]=r);return o}};ai=to("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var eo=function(t,e){return t.replace(e?Yi:Gi,(function(t){return si[t]||t}))},no=function(t,e){return t.replace(e?Yi:Gi,(function(t){return 1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":si[t]||"&#"+t.charCodeAt(0)+";"}))},ro=function(t,e,n){return n=n||ai,t.replace(e?Yi:Gi,(function(t){return si[t]||n[t]||t}))},io={encodeRaw:eo,encodeAllRaw:function(t){return(""+t).replace(Zi,(function(t){return si[t]||t}))},encodeNumeric:no,encodeNamed:ro,getEncodeFunc:function(t,e){var n=to(e)||ai,r=Ki(t.replace(/\+/g,","));return r.named&&r.numeric?function(t,e){return t.replace(e?Yi:Gi,(function(t){return void 0!==si[t]?si[t]:void 0!==n[t]?n[t]:1<t.length?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:r.named?e?function(t,e){return ro(t,e,n)}:ro:r.numeric?no:eo},decode:function(t){return t.replace(Ji,(function(t,e){return e?65535<(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Qi[e]||String.fromCharCode(e):li[t]||ai[t]||(n=t,(r=sr("div").dom()).innerHTML=n,r.textContent||r.innerText||n);var n,r}))}},oo={},ao={},so=Ke.makeMap,lo=Ke.each,co=Ke.extend,uo=Ke.explode,fo=Ke.inArray,ho=function(t,e){return(t=Ke.trim(t))?t.split(e||" "):[]},po=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),lo(t,(function(t,r){n[r]=n[r.toUpperCase()]="map"===e?so(t,/[, ]/):uo(t,/[, ]/)}))),n};function mo(t){var e,n,r,i,o,a,s,l,c,u,d,f,h,p={},m={},g=[],v={},b={},y=function(e,n,r){var i=t[e];return i?i=so(i,/[, ]/,so(i.toUpperCase(),/[, ]/)):(i=oo[e])||(i=so(n," ",so(n.toUpperCase()," ")),i=co(i,r),oo[e]=i),i};r=function(t){var e,n,r,i,o,a,s={},l=function(t,n,r){var i,o,a,l=function(t,e){var n,r,i={};for(n=0,r=t.length;n<r;n++)i[t[n]]=e||{};return i};for(n=n||"","string"==typeof(r=r||[])&&(r=ho(r)),i=(t=ho(t)).length;i--;)a={attributes:l(o=ho([e,n].join(" "))),attributesOrder:o,children:l(r,ao)},s[t[i]]=a},c=function(t,e){var n,r,i,o;for(n=(t=ho(t)).length,e=ho(e);n--;)for(r=s[t[n]],i=0,o=e.length;i<o;i++)r.attributes[e[i]]={},r.attributesOrder.push(e[i])};return oo[t]?oo[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",r=[r,a="acronym applet basefont big font strike tt"].join(" "),lo(ho(a),(function(t){l(t,"",r)})),n=[n,o="center dir isindex noframes"].join(" "),i=[n,r].join(" "),lo(ho(o),(function(t){l(t,"",i)}))),i=i||[n,r].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),l("address dt dd div caption","",i),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),l("blockquote","cite",i),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",i),l("dl","","dt dd"),l("a","href target rel media hreflang type",r),l("q","cite",r),l("ins del","cite datetime",i),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",i),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),l("param","name value"),l("map","name",[i,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",i),l("th","colspan rowspan headers scope abbr",i),l("form","accept-charset action autocomplete enctype method name novalidate target",i),l("fieldset","disabled form name",[i,"legend"].join(" ")),l("label","form for",r),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?i:r),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[i,"li"].join(" ")),l("noscript","",i),"html4"!==t&&(l("wbr"),l("ruby","",[r,"rt rp"].join(" ")),l("figcaption","",i),l("mark rt rp summary bdi","",r),l("canvas","width height",i),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[r,"option"].join(" ")),l("article section nav aside main header footer","",i),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[i,"figcaption"].join(" ")),l("time","datetime",r),l("dialog","open",i),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",r),l("progress","value max",r),l("meter","value min max low high optimum",r),l("details","open",[i,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(c("script","language xml:space"),c("style","xml:space"),c("object","declare classid code codebase codetype archive standby align border hspace vspace"),c("embed","align name hspace vspace"),c("param","valuetype type"),c("a","charset name rev shape coords"),c("br","clear"),c("applet","codebase archive code object alt name width height align hspace vspace"),c("img","name longdesc align border hspace vspace"),c("iframe","longdesc frameborder marginwidth marginheight scrolling align"),c("font basefont","size color face"),c("input","usemap align"),c("select","onchange"),c("textarea"),c("h1 h2 h3 h4 h5 h6 div p legend caption","align"),c("ul","type compact"),c("li","type"),c("ol dl menu dir","compact"),c("pre","width xml:space"),c("hr","align noshade size width"),c("isindex","prompt"),c("table","summary width frame rules cellspacing cellpadding align bgcolor"),c("col","width align char charoff valign"),c("colgroup","width align char charoff valign"),c("thead","align char charoff valign"),c("tr","align char charoff valign bgcolor"),c("th","axis align char charoff valign nowrap bgcolor width height"),c("form","accept"),c("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),c("tfoot","align char charoff valign"),c("tbody","align char charoff valign"),c("area","nohref"),c("body","background bgcolor text link vlink alink")),"html4"!==t&&(c("input button select textarea","autofocus"),c("input textarea","placeholder"),c("a","download"),c("link script img","crossorigin"),c("iframe","sandbox seamless allowfullscreen")),lo(ho("a form meter progress dfn"),(function(t){s[t]&&delete s[t].children[t]})),delete s.caption.children.table,delete s.script,oo[t]=s)}((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),e=po(t.valid_styles),n=po(t.invalid_styles,"map"),l=po(t.valid_classes,"map"),i=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),s=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),u=y("non_empty_elements","td th iframe video audio object script pre code",a),d=y("move_caret_before_on_enter_elements","table",u),f=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),c=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",f),h=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),lo((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(t){b[t]=new RegExp("</"+t+"[^>]*>","gi")}));var C=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},w=function(t){var e,n,r,i,o,a,s,l,c,u,d,f,h,m,v,b,y,w,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,E=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(t)for(t=ho(t,","),p["@"]&&(b=p["@"].attributes,y=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=_.exec(t[e])){if(m=o[1],c=o[2],v=o[3],l=o[5],a={attributes:f={},attributesOrder:h=[]},"#"===m&&(a.paddEmpty=!0),"-"===m&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),b){for(w in b)f[w]=b[w];h.push.apply(h,y)}if(l)for(r=0,i=(l=ho(l,"|")).length;r<i;r++)if(o=E.exec(l[r])){if(s={},d=o[1],u=o[2].replace(/[\\:]:/g,":"),m=o[3],x=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(u),s.required=!0),"-"===d){delete f[u],h.splice(fo(h,u),1);continue}m&&("="===m&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:u,value:x}),s.defaultValue=x),":"===m&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:u,value:x}),s.forcedValue=x),"<"===m&&(s.validValues=so(x,"?"))),S.test(u)?(a.attributePatterns=a.attributePatterns||[],s.pattern=C(u),a.attributePatterns.push(s)):(f[u]||h.push(u),f[u]=s)}b||"@"!==c||(b=f,y=h),v&&(a.outputName=c,p[v]=a),S.test(c)?(a.pattern=C(c),g.push(a)):p[c]=a}},x=function(t){p={},g=[],w(t),lo(r,(function(t,e){m[e]=t.children}))},_=function(t){var e=/^(~)?(.+)$/;t&&(oo.text_block_elements=oo.block_elements=null,lo(ho(t,","),(function(t){var n=e.exec(t),r="~"===n[1],i=r?"span":"div",o=n[2];if(m[o]=m[i],v[o]=i,r||(c[o.toUpperCase()]={},c[o]={}),!p[o]){var a=p[i];delete(a=co({},a)).removeEmptyAttrs,delete a.removeEmpty,p[o]=a}lo(m,(function(t,e){t[i]&&(m[e]=t=co({},m[e]),t[o]=t[i])}))})))},E=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;oo[t.schema]=null,e&&lo(ho(e,","),(function(t){var e,r,i=n.exec(t);i&&(r=i[1],e=r?m[i[2]]:m[i[2]]={"#comment":{}},e=m[i[2]],lo(ho(i[3],"|"),(function(t){"-"===r?delete e[t]:e[t]={}})))}))},S=function(t){var e,n=p[t];if(n)return n;for(e=g.length;e--;)if((n=g[e]).pattern.test(t))return n};return t.valid_elements?x(t.valid_elements):(lo(r,(function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},m[e]=t.children})),"html5"!==t.schema&&lo(ho("strong/b em/i"),(function(t){t=ho(t,"/"),p[t[1]].outputName=t[0]})),lo(ho("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(t){p[t]&&(p[t].removeEmpty=!0)})),lo(ho("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){p[t].paddEmpty=!0})),lo(ho("span"),(function(t){p[t].removeEmptyAttrs=!0}))),_(t.custom_elements),E(t.valid_children),w(t.extended_valid_elements),E("+ol[ul|ol],+ul[ul|ol]"),lo({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){p[e]&&(p[e].parentsRequired=ho(t))})),t.invalid_elements&&lo(uo(t.invalid_elements),(function(t){p[t]&&delete p[t]})),S("span")||w("span[!data-mce-type|*]"),{children:m,elements:p,getValidStyles:function(){return e},getValidClasses:function(){return l},getBlockElements:function(){return c},getInvalidStyles:function(){return n},getShortEndedElements:function(){return a},getTextBlockElements:function(){return f},getTextInlineElements:function(){return h},getBoolAttrs:function(){return s},getElementRule:S,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return u},getMoveCaretBeforeOnEnterElements:function(){return d},getWhiteSpaceElements:function(){return i},getSpecialElements:function(){return b},isValidChild:function(t,e){var n=m[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,r,i=S(t);if(i){if(!e)return!0;if(i.attributes[e])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(t))return!0}return!1},getCustomElements:function(){return v},addValidElements:w,setValidElements:x,addCustomElements:_,addValidChildren:E}}var go,vo=function(t,e,n,r){var i=function(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t};return"#"+i(e)+i(n)+i(r)},bo=function(t,e){var n,r,i,o,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,c=/\s+$/,u={},d="\ufeff";for(t=t||{},e&&(i=e.getValidStyles(),o=e.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)u[r[n]]=d+n,u[d+n]=r[n];return{toHex:function(t){return t.replace(a,vo)},parse:function(e){var r,i,o,f,h,p,m,g={},v=t.url_converter,b=t.url_converter_scope||this,y=function(t,e,r){var i,o,a,s;if((i=g[t+"-top"+e])&&(o=g[t+"-right"+e])&&(a=g[t+"-bottom"+e])&&(s=g[t+"-left"+e])){var l=[i,o,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);-1<n&&r||(g[t+e]=-1===n?l[0]:l.join(" "),delete g[t+"-top"+e],delete g[t+"-right"+e],delete g[t+"-bottom"+e],delete g[t+"-left"+e])}},C=function(t){var e,n=g[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return g[t]=n[0],!0}},w=function(t){return f=!0,u[t]},x=function(t,e){return f&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return u[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},_=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},E=function(t){return t.replace(/\\[0-9a-f]+/gi,_)},S=function(e,n,r,i,o,a){if(o=o||a)return"'"+(o=x(o)).replace(/\'/g,"\\'")+"'";if(n=x(n||r||i),!t.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return v&&(n=v.call(b,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,w)}));r=l.exec(e);)if(l.lastIndex=r.index+r[0].length,i=r[1].replace(c,"").toLowerCase(),o=r[2].replace(c,""),i&&o){if(i=E(i),o=E(o),-1!==i.indexOf(d)||-1!==i.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===i||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===i&&"700"===o?o="bold":"color"!==i&&"background-color"!==i||(o=o.toLowerCase()),o=(o=o.replace(a,vo)).replace(s,S),g[i]=f?x(o,!0):o}y("border","",!0),y("border","-width"),y("border","-color"),y("border","-style"),y("padding",""),y("margin",""),"border",p="border-style",m="border-color",C(h="border-width")&&C(p)&&C(m)&&(g.border=g[h]+" "+g[p]+" "+g[m],delete g[h],delete g[p],delete g[m]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(t,e){var n,r,a,s,l,c="",u=function(e){var n,r,o,a;if(n=i[e])for(r=0,o=n.length;r<o;r++)e=n[r],(a=t[e])&&(c+=(0<c.length?" ":"")+e+": "+a+";")};if(e&&i)u("*"),u(e);else for(n in t)!(r=t[n])||o&&(a=n,s=e,l=void 0,(l=o["*"])&&l[a]||(l=o[s])&&l[a])||(c+=(0<c.length?" ":"")+n+": "+r+";");return c}}},yo=Ke.each,Co=Ke.grep,wo=zt.ie,xo=/^([a-z0-9],?)+$/i,_o=/^[ \t\r\n]*$/,Eo=function(t,e){var n=e.attr("style"),r=t.serialize(t.parse(n),e[0].nodeName);r||(r=null),e.attr("data-mce-style",r)},So=function(t,e){var n,r,i=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)r=t.nodeType,(!e||3!==r||r!==n&&t.nodeValue.length)&&(i++,n=r);return i};function ko(e,o){var a,s=this;void 0===o&&(o={});var l={},c=t.window,u={},d=0,f=function(e,o){void 0===o&&(o={});var a,s=0,l={};a=o.maxLoadTime||5e3;var c=function(t){e.getElementsByTagName("head")[0].appendChild(t)},u=function(n,r,i){var u,d,f,h,p=function(t){h.status=t,h.passed=[],h.failed=[],u&&(u.onload=null,u.onerror=null,u=null)},m=function(){for(var t=h.passed,e=t.length;e--;)t[e]();p(2)},g=function(){for(var t=h.failed,e=t.length;e--;)t[e]();p(3)},v=function(t,e){t()||((new Date).getTime()-f<a?Rt.setTimeout(e):g())},b=function(){v((function(){for(var t,n,r=e.styleSheets,i=r.length;i--;)if((n=(t=r[i]).ownerNode?t.ownerNode:t.owningElement)&&n.id===u.id)return m(),!0}),b)},y=function(){v((function(){try{var t=d.sheet.cssRules;return m(),!!t}catch(e){}}),y)};if(n=Ke._addCacheSuffix(n),l[n]?h=l[n]:(h={passed:[],failed:[]},l[n]=h),r&&h.passed.push(r),i&&h.failed.push(i),1!==h.status)if(2!==h.status)if(3!==h.status){if(h.status=1,(u=e.createElement("link")).rel="stylesheet",u.type="text/css",u.id="u"+s++,u.async=!1,u.defer=!1,f=(new Date).getTime(),o.contentCssCors&&(u.crossOrigin="anonymous"),!("onload"in u)||(C=t.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(C[1],10)<536){if(0<t.navigator.userAgent.indexOf("Firefox"))return(d=e.createElement("style")).textContent='@import "'+n+'"',y(),void c(d);b()}else u.onload=b,u.onerror=g;var C;c(u),u.href=n}else g();else m()},d=function(t){return pi((function(e){u(t,n(e,r(bi.value(t))),n(e,r(bi.error(t))))}))},f=function(t){return t.fold(i,i)};return{load:u,loadAll:function(t,e,n){mi(U(t,d)).get((function(t){var r=W(t,(function(t){return t.isValue()}));0<r.fail.length?n(r.fail.map(f)):e(r.pass.map(f))}))}}}(e,{contentCssCors:o.contentCssCors}),h=[],p=o.schema?o.schema:mo({}),m=bo({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope},o.schema),g=o.ownEvents?new $t:$t.Event,v=p.getBlockElements(),b=zn.overrideDefaults((function(){return{context:e,element:X.getRoot()}})),y=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},C=function(t){return"string"==typeof t&&(t=y(t)),b(t)},w=function(t,e,n){var r,i,o=C(t);return o.length&&(i=(r=a[e])&&r.get?r.get(o,e):o.attr(e)),void 0===i&&(i=n||""),i},x=function(t){var e=y(t);return e?e.attributes:[]},_=function(t,e,n){var r,i;""===n&&(n=null);var s=C(t);r=s.attr(e),s.length&&((i=a[e])&&i.set?i.set(s,n,e):s.attr(e,n),r!==n&&o.onSetAttrib&&o.onSetAttrib({attrElm:s,attrName:e,attrValue:n}))},E=function(){return o.root_element||e.body},S=function(t,n){return ri(e.body,y(t),n)},k=function(t,e,n){var r=C(t);return n?r.css(e):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e=zt.ie&&zt.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[e]:void 0)},N=function(t){var e,n;return t=y(t),e=k(t,"width"),n=k(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},T=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(xo.test(e)){var r=e.toLowerCase().split(/,/),i=t.nodeName.toLowerCase();for(n=r.length-1;0<=n;n--)if(r[n]===i)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return 0<Se(e,o[0].ownerDocument||o[0],null,o).length},z=function(t,e,n,r){var i,o=[],a=y(t);for(r=void 0===r,n=n||("BODY"!==E().nodeName?E().parentNode:null),Ke.is(e,"string")&&(e="*"===(i=e)?function(t){return 1===t.nodeType}:function(t){return T(t,i)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!e||"function"==typeof e&&e(a)){if(!r)return[a];o.push(a)}a=a.parentNode}return r?o:null},A=function(t,e,n){var r=e;if(t)for("string"==typeof e&&(r=function(t){return T(t,e)}),t=t[n];t;t=t[n])if("function"==typeof r&&r(t))return t;return null},M=function(t,e,n){var r,i="string"==typeof t?y(t):t;if(!i)return!1;if(Ke.isArray(i)&&(i.length||0===i.length))return r=[],yo(i,(function(t,i){t&&("string"==typeof t&&(t=y(t)),r.push(e.call(n,t,i)))})),r;var o=n||s;return e.call(o,i)},O=function(t,e){C(t).each((function(t,n){yo(e,(function(t,e){_(n,e,t)}))}))},R=function(t,e){var n=C(t);wo?n.each((function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(r){zn("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)},L=function(t,n,r,i,o){return M(t,(function(t){var a="string"==typeof n?e.createElement(n):n;return O(a,r),i&&("string"!=typeof i&&i.nodeType?a.appendChild(i):"string"==typeof i&&R(a,i)),o?a:t.appendChild(a)}))},D=function(t,n,r){return L(e.createElement(t),t,n,r,!0)},B=io.encodeAllRaw,H=function(t,e){var n=C(t);return e?n.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),1<n.length?n.toArray():n[0]},I=function(t,e,n){C(t).toggleClass(e,n).each((function(){""===this.className&&zn(this).attr("class",null)}))},V=function(t,e,n){return M(e,(function(e){return Ke.is(e,"array")&&(t=t.cloneNode(!0)),n&&yo(Co(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))},F=function(){return e.createRange()},j=function(t,n,r,i){if(Ke.isArray(t)){for(var a=t.length,s=[];a--;)s[a]=j(t[a],n,r,i);return s}return!o.collect||t!==e&&t!==c||h.push([t,n,r,i]),g.bind(t,n,r,i||X)},$=function(t,n,r){var i;if(Ke.isArray(t)){i=t.length;for(var o=[];i--;)o[i]=$(t[i],n,r);return o}if(h&&(t===e||t===c))for(i=h.length;i--;){var a=h[i];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||g.unbind(a[0],a[1],a[2])}return g.unbind(t,n,r)},q=function(t){if(t&&Mi.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},X={doc:e,settings:o,win:c,files:u,stdMode:!0,boxModel:!0,styleSheetLoader:f,boundEvents:h,styles:m,schema:p,events:g,isBlock:function(t){if("string"==typeof t)return!!v[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!v[t.nodeName])}return!1},$:b,$$:C,root:null,clone:function(t,n){if(!wo||1!==t.nodeType||n)return t.cloneNode(n);if(n)return null;var r=e.createElement(t.nodeName);return yo(x(t),(function(e){_(r,e.nodeName,w(t,e.nodeName))})),r},getRoot:E,getViewPort:function(t){var e=t||c,n=e.document.documentElement;return{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(t){var e,n;return t=y(t),e=S(t),n=N(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:N,getParent:function(t,e,n){var r=z(t,e,n,!1);return r&&0<r.length?r[0]:null},getParents:z,get:y,getNext:function(t,e){return A(t,e,"nextSibling")},getPrev:function(t,e){return A(t,e,"previousSibling")},select:function(t,n){return Se(t,y(n)||o.root_element||e,[])},is:T,add:L,create:D,createHTML:function(t,e,n){var r,i="";for(r in i+="<"+t,e)e.hasOwnProperty(r)&&null!==e[r]&&void 0!==e[r]&&(i+=" "+r+'="'+B(e[r])+'"');return void 0!==n?i+">"+n+"</"+t+">":i+" />"},createFragment:function(t){var n,r=e.createElement("div"),i=e.createDocumentFragment();for(t&&(r.innerHTML=t);n=r.firstChild;)i.appendChild(n);return i},remove:H,setStyle:function(t,e,n){var r=P(e)?C(t).css(e,n):C(t).css(e);o.update_styles&&Eo(m,r)},getStyle:k,setStyles:function(t,e){var n=C(t).css(e);o.update_styles&&Eo(m,n)},removeAllAttribs:function(t){return M(t,(function(t){var e,n=t.attributes;for(e=n.length-1;0<=e;e--)t.removeAttributeNode(n.item(e))}))},setAttrib:_,setAttribs:O,getAttrib:w,getPos:S,parseStyle:function(t){return m.parse(t)},serializeStyle:function(t,e){return m.serialize(t,e)},addStyle:function(n){var r,i;if(X!==ko.DOM&&e===t.document){if(l[n])return;l[n]=!0}(i=e.getElementById("mceDefaultStyles"))||((i=e.createElement("style")).id="mceDefaultStyles",i.type="text/css",(r=e.getElementsByTagName("head")[0]).firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=n:i.appendChild(e.createTextNode(n))},loadCSS:function(n){var r;X===ko.DOM||e!==t.document?(n||(n=""),r=e.getElementsByTagName("head")[0],yo(n.split(","),(function(t){var e;t=Ke._addCacheSuffix(t),u[t]||(u[t]=!0,e=D("link",at({rel:"stylesheet",type:"text/css",href:t},o.contentCssCors?{crossOrigin:"anonymous"}:{})),r.appendChild(e))}))):ko.DOM.loadCSS(n)},addClass:function(t,e){C(t).addClass(e)},removeClass:function(t,e){I(t,e,!1)},hasClass:function(t,e){return C(t).hasClass(e)},toggleClass:I,show:function(t){C(t).show()},hide:function(t){C(t).hide()},isHidden:function(t){return"none"===C(t).css("display")},uniqueId:function(t){return(t||"mce_")+d++},setHTML:R,getOuterHTML:function(t){var e="string"==typeof t?y(t):t;return Mi.isElement(e)?e.outerHTML:zn("<div></div>").append(zn(e).clone()).html()},setOuterHTML:function(t,e){C(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}H(zn(this).html(e),!0)}))},decode:io.decode,encode:B,insertAfter:function(t,e){var n=y(e);return M(t,(function(t){var e,r;return e=n.parentNode,(r=n.nextSibling)?e.insertBefore(t,r):e.appendChild(t),t}))},replace:V,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=D(e),yo(x(t),(function(e){_(n,e.nodeName,w(t,e.nodeName))})),V(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,r=t;r;){for(n=e;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&t.ownerDocument?t.ownerDocument.documentElement:r},toHex:function(t){return m.toHex(Ke.trim(t))},run:M,getAttribs:x,isEmpty:function(t,e){var n,r,i,o,a=0;if(t=t.firstChild){var s=new Oi(t,t.parentNode),l=p?p.getWhiteSpaceElements():{};e=e||(p?p.getNonEmptyElements():null);do{if(i=t.nodeType,Mi.isElement(t)){var c=t.getAttribute("data-mce-bogus");if(c){t=s.next("all"===c);continue}if(o=t.nodeName.toLowerCase(),e&&e[o]){if("br"!==o)return!1;a++,t=s.next();continue}for(n=(r=x(t)).length;n--;)if("name"===(o=r[n].nodeName)||"data-mce-bookmark"===o)return!1}if(8===i)return!1;if(3===i&&!_o.test(t.nodeValue))return!1;if(3===i&&t.parentNode&&l[t.parentNode.nodeName]&&_o.test(t.nodeValue))return!1;t=s.next()}while(t)}return a<=1},createRng:F,nodeIndex:So,split:function(t,e,n){var r,i,o,a=F();if(t&&e)return a.setStart(t.parentNode,So(t)),a.setEnd(e.parentNode,So(e)),r=a.extractContents(),(a=F()).setStart(e.parentNode,So(e)+1),a.setEnd(t.parentNode,So(t)+1),i=a.extractContents(),(o=t.parentNode).insertBefore(Xi.trimNode(X,r),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(Xi.trimNode(X,i),t),H(t),n||e},bind:j,unbind:$,fire:function(t,e,n){return g.fire(t,e,n)},getContentEditable:q,getContentEditableParent:function(t){for(var e=E(),n=null;t&&t!==e&&null===(n=q(t));t=t.parentNode);return n},destroy:function(){if(h)for(var t=h.length;t--;){var e=h[t];g.unbind(e[0],e[1],e[2])}Se.setDocument&&Se.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return a=function(t,e,n){var r=e.keep_values,i={set:function(t,r,i){e.url_converter&&(r=e.url_converter.call(e.url_converter_scope||n(),r,i,t[0])),t.attr("data-mce-"+i,r).attr(i,r)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},o={style:{set:function(t,e){null===e||"object"!=typeof e?(r&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return t.serialize(t.parse(n),e[0].nodeName)}}};return r&&(o.href=o.src=i),o}(m,o,(function(){return X})),X}(go=ko||(ko={})).DOM=go(t.document),go.nodeIndex=So;var No,To=ko,zo=To.DOM,Ao=Ke.each,Mo=Ke.grep,Oo=function(){function e(){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0}return e.prototype.loadScript=function(e,n,r){var i,o,a=zo;o=a.uniqueId(),(i=t.document.createElement("script")).id=o,i.type="text/javascript",i.src=Ke._addCacheSuffix(e),i.onload=function(){a.remove(o),i&&(i.onreadystatechange=i.onload=i=null),n()},i.onerror=function(){H(r)?r():void 0!==t.console&&t.console.log&&t.console.log("Failed to load script: "+e)},(t.document.getElementsByTagName("head")[0]||t.document.body).appendChild(i)},e.prototype.isDone=function(t){return 2===this.states[t]},e.prototype.markDone=function(t){this.states[t]=2},e.prototype.add=function(t,e,n,r){void 0===this.states[t]&&(this.queue.push(t),this.states[t]=0),e&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:e,failure:r,scope:n||this}))},e.prototype.load=function(t,e,n,r){return this.add(t,e,n,r)},e.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},e.prototype.loadQueue=function(t,e,n){this.loadScripts(this.queue,t,e,n)},e.prototype.loadScripts=function(t,e,n,r){var i,o=this,a=[],s=function(t,e){Ao(o.scriptLoadedCallbacks[e],(function(e){H(e[t])&&e[t].call(e.scope)})),o.scriptLoadedCallbacks[e]=void 0};o.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this}),(i=function(){var e=Mo(t);if(t.length=0,Ao(e,(function(t){2!==o.states[t]?3!==o.states[t]?1!==o.states[t]&&(o.states[t]=1,o.loading++,o.loadScript(t,(function(){o.states[t]=2,o.loading--,s("success",t),i()}),(function(){o.states[t]=3,o.loading--,a.push(t),s("failure",t),i()}))):s("failure",t):s("success",t)})),!o.loading){var n=o.queueLoadedCallbacks.slice(0);o.queueLoadedCallbacks.length=0,Ao(n,(function(t){0===a.length?H(t.success)&&t.success.call(t.scope):H(t.failure)&&t.failure.call(t.scope,a)}))}})()},e.ScriptLoader=new e,e}(),Po=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return Po(n())}}},Ro={},Lo=Po("en"),Do={getData:function(){return Cr(Ro,(function(t){return at({},t)}))},setCode:function(t){t&&Lo.set(t)},getCode:function(){return Lo.get()},add:function(t,e){var n=Ro[t];for(var r in n||(Ro[t]=n={}),e)n[r.toLowerCase()]=e[r]},translate:function(t){var e,n,r=Ro[Lo.get()]||{},i=function(t){return H(t)?Object.prototype.toString.call(t):o(t)?"":""+t},o=function(t){return""===t||null==t},a=function(t){var e=i(t),n=e.toLowerCase();return Er(r,n)?i(r[n]):e},s=function(t){return t.replace(/{context:\w+}$/,"")};if(o(t))return"";if(R(e=t)&&Er(e,"raw"))return i(t.raw);if(L(n=t)&&1<n.length){var l=t.slice(1);return s(a(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return Er(l,e)?i(l[e]):t})))}return s(a(t))},isRtl:function(){return _r(Ro,Lo.get()).bind((function(t){return _r(t,"_dir")})).exists((function(t){return"rtl"===t}))},hasCode:function(t){return Er(Ro,t)}},Bo=Ke.each;function Ho(){var t=this,e=[],n={},r={},i=[],o=function(t){var e;return r[t]&&(e=r[t].dependencies),e||[]},a=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},s=function(t,e,n,r){var i=o(t);Bo(i,(function(t){var n=a(e,t);l(n.resource,n,void 0,void 0)})),n&&(r?n.call(r):n.call(Oo))},l=function(t,e,i,o,a){if(!n[t]){var l="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=Ho.baseURL+"/"+l),n[t]=l.substring(0,l.lastIndexOf("/")),r[t]?s(t,e,i,o):Oo.ScriptLoader.add(l,(function(){return s(t,e,i,o)}),o,a)}};return{items:e,urls:n,lookup:r,_listeners:i,get:function(t){return r[t]?r[t].instance:void 0},dependencies:o,requireLangPack:function(t,e){var r=Do.getCode();if(r&&!1!==Ho.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+r.substr(0,2)+","))r=r.substr(0,2);else if(-1===e.indexOf(","+r+","))return;Oo.ScriptLoader.add(n[t]+"/langs/"+r+".js")}},add:function(t,n,o){e.push(n),r[t]={instance:n,dependencies:o};var a=W(i,(function(e){return e.name===t}));return i=a.fail,Bo(a.pass,(function(t){t.callback()})),n},remove:function(t){delete n[t],delete r[t]},createUrl:a,addComponents:function(e,n){var r=t.urls[e];Bo(n,(function(t){Oo.ScriptLoader.add(r+"/"+t)}))},load:l,waitFor:function(t,e){r.hasOwnProperty(t)?e():i.push({name:t,callback:e})}}}(No=Ho||(Ho={})).PluginManager=No(),No.ThemeManager=No();var Io=Ho,Vo=function(t,e){qr(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},Fo=function(t,e){Xr(t).fold((function(){qr(t).each((function(t){$o(t,e)}))}),(function(t){Vo(t,e)}))},jo=function(t,e){Jr(t).fold((function(){$o(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},$o=function(t,e){t.dom().appendChild(e.dom())},Uo=function(t,e){q(e,(function(e){$o(t,e)}))},qo=function(t){t.dom().textContent="",q(Gr(t),(function(t){Wo(t)}))},Wo=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},Xo=function(t){var e,n=Gr(t);0<n.length&&(e=t,q(n,(function(t){Vo(e,t)}))),Wo(t)},Ko=function(e,n){var r=null;return{cancel:function(){null!==r&&(t.clearTimeout(r),r=null)},throttle:function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];null===r&&(r=t.setTimeout((function(){e.apply(null,i),r=null}),n))}}},Yo=function(t,e){var n=Ar(t,e);return void 0===n||""===n?[]:n.split(" ")},Go=function(t){return void 0!==t.dom().classList},Zo=function(t,e){Go(t)?t.dom().classList.add(e):function(t,e){return r=e,i=Yo(n=t,"class").concat([r]),Tr(n,"class",i.join(" ")),!0;var n,r,i}(t,e)},Jo=function(t,e){return Go(t)&&t.dom().classList.contains(e)},Qo=function(t,e){var n=[];return q(Gr(t),(function(t){e(t)&&(n=n.concat([t])),n=n.concat(Qo(t,e))})),n},ta=function(e,n){return r=n,o=void 0===(i=e)?t.document:i.dom(),Vr(o)?[]:U(o.querySelectorAll(r),cr);var r,i,o};function ea(t,e,n,r,i){return t(n,r)?M.some(n):H(i)&&i(n)?M.none():e(n,r,i)}var na,ra=function(t,e,n){for(var i=t.dom(),o=H(n)?n:r(!1);i.parentNode;){i=i.parentNode;var a=cr(i);if(e(a))return M.some(a);if(o(a))break}return M.none()},ia=function(t,e,n){return ea((function(t,e){return e(t)}),ra,t,e,n)},oa=function(t,e,n){return ra(t,(function(t){return Ir(t,e)}),n)},aa=function(e,n){return r=n,o=void 0===(i=e)?t.document:i.dom(),Vr(o)?M.none():M.from(o.querySelector(r)).map(cr);var r,i,o},sa=function(t,e,n){return ea(Ir,oa,t,e,n)},la=r("mce-annotation"),ca=r("data-mce-annotation"),ua=r("data-mce-annotation-uid"),da=function(t,e){var n=t.selection.getRng(),r=cr(n.startContainer),i=cr(t.getBody()),o=e.fold((function(){return"."+la()}),(function(t){return"["+ca()+'="'+t+'"]'})),a=Zr(r,n.startOffset).getOr(r),s=sa(a,o,(function(t){return Fr(t,i)})),l=function(t,e){return n=e,(r=t.dom())&&r.hasAttribute&&r.hasAttribute(n)?M.some(Ar(t,e)):M.none();var n,r};return s.bind((function(e){return l(e,""+ua()).bind((function(n){return l(e,""+ca()).map((function(e){var r=fa(t,n);return{uid:n,name:e,elements:r}}))}))}))},fa=function(t,e){var n=cr(t.getBody());return ta(n,"["+ua()+'="'+e+'"]')},ha=0,pa=function(t,e){return cr(t.dom().cloneNode(e))},ma=function(t){return pa(t,!1)},ga=function(t){return pa(t,!0)},va=function(e,n){var r,i,o=$r(e).dom(),a=cr(o.createDocumentFragment()),s=(r=n,(i=(o||t.document).createElement("div")).innerHTML=r,Gr(cr(i)));Uo(a,s),qo(e),$o(e,a)},ba=function(t){return"\ufeff"===t},ya="\ufeff",Ca=function(t){return t.replace(new RegExp("\ufeff","g"),"")},wa=Mi.isElement,xa=Mi.isText,_a=function(t){return xa(t)&&(t=t.parentNode),wa(t)&&t.hasAttribute("data-mce-caret")},Ea=function(t){return xa(t)&&ba(t.data)},Sa=function(t){return _a(t)||Ea(t)},ka=function(t){return t.firstChild!==t.lastChild||!Mi.isBr(t.firstChild)},Na=function(t){var e=t.container();return!(!t||!Mi.isText(e))&&(e.data.charAt(t.offset())===ya||t.isAtStart()&&Ea(e.previousSibling))},Ta=function(t){var e=t.container();return!(!t||!Mi.isText(e))&&(e.data.charAt(t.offset()-1)===ya||t.isAtEnd()&&Ea(e.nextSibling))},za=function(t){return xa(t)&&t.data[0]===ya},Aa=function(t){return xa(t)&&t.data[t.data.length-1]===ya},Ma=function(t){return t&&t.hasAttribute("data-mce-caret")?(n=(e=t.getElementsByTagName("br"))[e.length-1],Mi.isBogus(n)&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n},Oa=Mi.isContentEditableTrue,Pa=Mi.isContentEditableFalse,Ra=Mi.isBr,La=Mi.isText,Da=Mi.matchNodeNames(["script","style","textarea"]),Ba=Mi.matchNodeNames(["img","input","textarea","hr","iframe","video","audio","object"]),Ha=Mi.matchNodeNames(["table"]),Ia=Sa,Va=function(t){return!Ia(t)&&(La(t)?!Da(t.parentNode):Ba(t)||Ra(t)||Ha(t)||Fa(t))},Fa=function(t){return!1===(e=t,Mi.isElement(e)&&"true"===e.getAttribute("unselectable"))&&Pa(t);var e},ja=function(t,e){return Va(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Fa(t))return!1;if(Oa(t))return!0}return!0}(t,e)},$a=Math.round,Ua=function(t){return t?{left:$a(t.left),top:$a(t.top),bottom:$a(t.bottom),right:$a(t.right),width:$a(t.width),height:$a(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},qa=function(t,e){return t=Ua(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},Wa=function(t,e,n){return 0<=t&&t<=Math.min(e.height,n.height)/2},Xa=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&Wa(e.top-t.bottom,t,e)},Ka=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&Wa(e.bottom-t.top,t,e)},Ya=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},Ga=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Za=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Ja=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Qa=function(t){return"string"==typeof t&&768<=t.charCodeAt(0)&&Ja.test(t)},ts=function(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r];if(!i.isSome())return M.none();n.push(i.getOrDie())}return M.some(e.apply(null,n))},es=[].slice,ns=Mi.isElement,rs=Va,is=Mi.matchStyleValues("display","block table"),os=Mi.matchStyleValues("float","left right"),as=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=es.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}}(ns,rs,_(os)),ss=_(Mi.matchStyleValues("white-space","pre pre-line pre-wrap")),ls=Mi.isText,cs=Mi.isBr,us=To.nodeIndex,ds=Za,fs=function(t){return"createRange"in t?t.createRange():To.DOM.createRng()},hs=function(t){return t&&/[\r\n\t ]/.test(t)},ps=function(t){return!!t.setStart&&!!t.setEnd},ms=function(t){var e,n=t.startContainer,r=t.startOffset;return!!(hs(t.toString())&&ss(n.parentNode)&&Mi.isText(n)&&(e=n.data,hs(e[r-1])||hs(e[r+1])))},gs=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},vs=function(t){var e,n,r,i,o,a,s,l;return e=0<(n=t.getClientRects()).length?Ua(n[0]):Ua(t.getBoundingClientRect()),!ps(t)&&cs(t)&&gs(e)?(o=(r=t).ownerDocument,a=fs(o),s=o.createTextNode(""),(l=r.parentNode).insertBefore(s,r),a.setStart(s,0),a.setEnd(s,1),i=Ua(a.getBoundingClientRect()),l.removeChild(s),i):gs(e)&&ps(t)?function(t){var e=t.startContainer,n=t.endContainer,r=t.startOffset,i=t.endOffset;if(e===n&&Mi.isText(n)&&0===r&&1===i){var o=t.cloneRange();return o.setEndAfter(n),vs(o)}return null}(t):e},bs=function(t,e){var n=qa(t,e);return n.width=1,n.right=n.left+1,n};function ys(t,e,n){var i=function(){return n||(n=function(t){var e,n,r=[],i=function(t){var e,n;0!==t.height&&(0<r.length&&(e=t,n=r[r.length-1],e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right)||r.push(t))},o=function(t,e){var n=fs(t.ownerDocument);if(e<t.data.length){if(Qa(t.data[e]))return r;if(Qa(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!ms(n)))return i(bs(vs(n),!1)),r}0<e&&(n.setStart(t,e-1),n.setEnd(t,e),ms(n)||i(bs(vs(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),ms(n)||i(bs(vs(n),!0)))};if(ls(t.container()))return o(t.container(),t.offset()),r;if(ns(t.container()))if(t.isAtEnd())n=ds(t.container(),t.offset()),ls(n)&&o(n,n.data.length),as(n)&&!cs(n)&&i(bs(vs(n),!1));else{if(n=ds(t.container(),t.offset()),ls(n)&&o(n,0),as(n)&&t.isAtEnd())return i(bs(vs(n),!1)),r;e=ds(t.container(),t.offset()-1),as(e)&&!cs(e)&&(is(e)||is(n)||!as(n))&&i(bs(vs(e),!1)),as(n)&&i(bs(vs(n),!0))}return r}(ys(t,e))),n};return{container:r(t),offset:r(e),toRange:function(){var n;return(n=fs(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return ls(t),0===e},isAtEnd:function(){return ls(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return ds(t,n?e-1:e)}}}(na=ys||(ys={})).fromRangeStart=function(t){return na(t.startContainer,t.startOffset)},na.fromRangeEnd=function(t){return na(t.endContainer,t.endOffset)},na.after=function(t){return na(t.parentNode,us(t)+1)},na.before=function(t){return na(t.parentNode,us(t))},na.isAbove=function(t,e){return ts([rt(e.getClientRects()),it(t.getClientRects())],Xa).getOr(!1)},na.isBelow=function(t,e){return ts([it(e.getClientRects()),rt(t.getClientRects())],Ka).getOr(!1)},na.isAtStart=function(t){return!!t&&t.isAtStart()},na.isAtEnd=function(t){return!!t&&t.isAtEnd()},na.isTextPosition=function(t){return!!t&&Mi.isText(t.container())},na.isElementPosition=function(t){return!1===na.isTextPosition(t)};var Cs,ws,xs=ys,_s=Mi.isText,Es=Mi.isBogus,Ss=To.nodeIndex,ks=function(t){var e=t.parentNode;return Es(e)?ks(e):e},Ns=function(t){return t?$e.reduce(t.childNodes,(function(t,e){return Es(e)&&"BR"!==e.nodeName?t=t.concat(Ns(e)):t.push(e),t}),[]):[]},Ts=function(t){return function(e){return t===e}},zs=function(t){var e,n,r,i;return(_s(t)?"text()":t.nodeName.toLowerCase())+"["+(n=Ns(ks(e=t)),r=$e.findIndex(n,Ts(e),e),n=n.slice(0,r+1),i=$e.reduce(n,(function(t,e,r){return _s(e)&&_s(n[r-1])&&t++,t}),0),n=$e.filter(n,Mi.matchNodeNames([e.nodeName])),(r=$e.findIndex(n,Ts(e),e))-i+"]")},As=function(t,e){var n,r,i,o,a,s=[];return n=e.container(),r=e.offset(),_s(n)?i=function(t,e){for(;(t=t.previousSibling)&&_s(t);)e+=t.data.length;return e}(n,r):(r>=(o=n.childNodes).length?(i="after",r=o.length-1):i="before",n=o[r]),s.push(zs(n)),a=function(t,e,n){var r=[];for(e=e.parentNode;e!==t;e=e.parentNode)r.push(e);return r}(t,n),a=$e.filter(a,_(Mi.isBogus)),(s=s.concat($e.map(a,(function(t){return zs(t)})))).reverse().join("/")+","+i},Ms=function(t,e){var n,r,i;return e?(e=(n=e.split(","))[0].split("/"),i=1<n.length?n[1]:"before",(r=$e.reduce(e,(function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),n=t,r=e[1],i=parseInt(e[2],10),o=Ns(n),o=$e.filter(o,(function(t,e){return!_s(t)||!_s(o[e-1])})),(o=$e.filter(o,Mi.matchNodeNames([r])))[i]):null;var n,r,i,o}),t))?_s(r)?function(t,e){for(var n,r=t,i=0;_s(r);){if(n=r.data.length,i<=e&&e<=i+n){t=r,e-=i;break}if(!_s(r.nextSibling)){t=r,e=n;break}i+=n,r=r.nextSibling}return _s(t)&&e>t.data.length&&(e=t.data.length),xs(t,e)}(r,parseInt(i,10)):(i="after"===i?Ss(r)+1:Ss(r),xs(r.parentNode,i)):null):null},Os=function(t,e){Mi.isText(e)&&0===e.data.length&&t.remove(e)},Ps=function(t,e,n){var r,i,o,a,s,l,c;Mi.isDocumentFragment(n)?(o=t,a=e,s=n,l=M.from(s.firstChild),c=M.from(s.lastChild),a.insertNode(s),l.each((function(t){return Os(o,t.previousSibling)})),c.each((function(t){return Os(o,t.nextSibling)}))):(r=t,i=n,e.insertNode(i),Os(r,i.previousSibling),Os(r,i.nextSibling))},Rs=Mi.isContentEditableFalse,Ls=function(t,e,n,r,i){var o,a=r[i?"startContainer":"endContainer"],s=r[i?"startOffset":"endOffset"],l=[],c=0,u=t.getRoot();for(Mi.isText(a)?l.push(n?function(t,e,n){var r,i;for(i=t(e.data.slice(0,n)).length,r=e.previousSibling;r&&Mi.isText(r);r=r.previousSibling)i+=t(r.data).length;return i}(e,a,s):s):(s>=(o=a.childNodes).length&&o.length&&(c=1,s=Math.max(0,o.length-1)),l.push(t.nodeIndex(o[s],n)+c));a&&a!==u;a=a.parentNode)l.push(t.nodeIndex(a,n));return l},Ds=function(t,e,n){var r=0;return Ke.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void r++})),r},Bs=function(t,e){var n,r,i,o=e?"start":"end";n=t[o+"Container"],r=t[o+"Offset"],Mi.isElement(n)&&"TR"===n.nodeName&&(n=(i=n.childNodes)[Math.min(e?r:r-1,i.length-1)])&&(r=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,r))},Hs=function(t){return Bs(t,!0),Bs(t,!1),t},Is=function(t,e){var n;if(Mi.isElement(t)&&(t=Za(t,e),Rs(t)))return t;if(Sa(t)){if(Mi.isText(t)&&_a(t)&&(t=t.parentNode),n=t.previousSibling,Rs(n))return n;if(n=t.nextSibling,Rs(n))return n}},Vs=function(t,e,n){var r=n.getNode(),i=r?r.nodeName:null,o=n.getRng();if(Rs(r)||"IMG"===i)return{name:i,index:Ds(n.dom,i,r)};var a,s,l,c,u,d,f,h=Is((a=o).startContainer,a.startOffset)||Is(a.endContainer,a.endOffset);return h?{name:i=h.tagName,index:Ds(n.dom,i,h)}:(s=t,c=e,u=o,d=(l=n).dom,(f={}).start=Ls(d,s,c,u,!0),l.isCollapsed()||(f.end=Ls(d,s,c,u,!1)),f)},Fs=function(t,e,n){var r={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",r,"&#xFEFF;"):t.create("span",r)},js=function(t,e){var n=t.dom,r=t.getRng(),i=n.uniqueId(),o=t.isCollapsed(),a=t.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Ds(n,s,a)};var l=Hs(r.cloneRange());if(!o){l.collapse(!1);var c=Fs(n,i+"_end",e);Ps(n,l,c)}(r=Hs(r)).collapse(!0);var u=Fs(n,i+"_start",e);return Ps(n,r,u),t.moveToBookmark({id:i,keep:1}),{id:i}},$s={getBookmark:function(t,e,n){return 2===e?Vs(Ca,n,t):3===e?(i=(r=t).getRng(),{start:As(r.dom.getRoot(),xs.fromRangeStart(i)),end:As(r.dom.getRoot(),xs.fromRangeEnd(i))}):e?{rng:t.getRng()}:js(t,!1);var r,i},getUndoBookmark:o(Vs,i,!0),getPersistentBookmark:js},Us="_mce_caret",qs=function(t){return Mi.isElement(t)&&t.id===Us},Ws=function(t,e){for(;e&&e!==t;){if(e.id===Us)return e;e=e.parentNode}return null},Xs=Mi.isElement,Ks=Mi.isText,Ys=function(t){var e=t.parentNode;e&&e.removeChild(t)},Gs=function(t,e){0===e.length?Ys(t):t.nodeValue=e},Zs=function(t){var e=Ca(t);return{count:t.length-e.length,text:e}},Js=function(t,e){return Qs(t),e},Qs=function(t){if(Xs(t)&&Sa(t)&&(ka(t)?t.removeAttribute("data-mce-caret"):Ys(t)),Ks(t)){var e=Ca(function(t){try{return t.nodeValue}catch(e){return""}}(t));Gs(t,e)}},tl={removeAndReposition:function(t,e){return xs.isTextPosition(e)?function(t,e){return Ks(t)&&e.container()===t?(r=e,i=Zs((n=t).data.substr(0,r.offset())),o=Zs(n.data.substr(r.offset())),0<(a=i.text+o.text).length?(Gs(n,a),xs(n,r.offset()-i.count)):r):Js(t,e);var n,r,i,o,a}(t,e):(n=t,(r=e).container()===n.parentNode?function(t,e){var n,r,i,o=e.container(),a=(n=ot(o.childNodes),r=t,i=F(n,r),-1===i?M.none():M.some(i)).map((function(t){return t<e.offset()?xs(o,e.offset()-1):e})).getOr(e);return Qs(t),a}(n,r):Js(n,r));var n,r},remove:Qs},el=ir.detect().browser,nl=Mi.isContentEditableFalse,rl=function(t,e,n){var r,i,o,a,s,l=qa(e.getBoundingClientRect(),n);return o="BODY"===t.tagName?(r=t.ownerDocument.documentElement,i=t.scrollLeft||r.scrollLeft,t.scrollTop||r.scrollTop):(s=t.getBoundingClientRect(),i=t.scrollLeft-s.left,t.scrollTop-s.top),l.left+=i,l.right+=i,l.top+=o,l.bottom+=o,l.width=1,0<(a=e.offsetWidth-e.clientWidth)&&(n&&(a*=-1),l.left+=a,l.right+=a),l},il=function(e,n,r){var i,o,a=Po(M.none()),s=function(){!function(t){var e,n,r,i,o;for(e=zn("*[contentEditable=false]",t),i=0;i<e.length;i++)r=(n=e[i]).previousSibling,Aa(r)&&(1===(o=r.data).length?r.parentNode.removeChild(r):r.deleteData(o.length-1,1)),r=n.nextSibling,za(r)&&(1===(o=r.data).length?r.parentNode.removeChild(r):r.deleteData(0,1))}(e),o&&(tl.remove(o),o=null),a.get().each((function(t){zn(t.caret).remove(),a.set(M.none())})),Rt.clearInterval(i)};return{show:function(l,c){var u,d,f;if(s(),f=c,Mi.isElement(f)&&/^(TD|TH)$/i.test(f.tagName))return null;if(!n(c))return o=function(t,e){var n,r,i;if(r=t.ownerDocument.createTextNode(ya),i=t.parentNode,e){if(n=t.previousSibling,xa(n)){if(Sa(n))return n;if(Aa(n))return n.splitText(n.data.length-1)}i.insertBefore(r,t)}else{if(n=t.nextSibling,xa(n)){if(Sa(n))return n;if(za(n))return n.splitText(1),n}t.nextSibling?i.insertBefore(r,t.nextSibling):i.appendChild(r)}return r}(c,l),d=c.ownerDocument.createRange(),nl(o.nextSibling)?(d.setStart(o,0),d.setEnd(o,0)):(d.setStart(o,1),d.setEnd(o,1)),d;o=function(e,n,r){var i,o,a;return(i=n.ownerDocument.createElement(e)).setAttribute("data-mce-caret",r?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((a=t.document.createElement("br")).setAttribute("data-mce-bogus","1"),a)),o=n.parentNode,r?o.insertBefore(i,n):n.nextSibling?o.insertBefore(i,n.nextSibling):o.appendChild(i),i}("p",c,l),u=rl(e,c,l),zn(o).css("top",u.top);var h=zn('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(u).appendTo(e)[0];return a.set(M.some({caret:h,element:c,before:l})),a.get().each((function(t){l&&zn(t.caret).addClass("mce-visual-caret-before")})),i=Rt.setInterval((function(){r()?zn("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):zn("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")}),500),(d=c.ownerDocument.createRange()).setStart(o,0),d.setEnd(o,0),d},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each((function(t){var n=rl(e,t.element,t.before);zn(t.caret).css(at({},n))}))},destroy:function(){return Rt.clearInterval(i)}}},ol=function(){return el.isIE()||el.isEdge()||el.isFirefox()},al=function(t){return nl(t)||Mi.isTable(t)&&ol()},sl=Mi.isContentEditableFalse,ll=Mi.matchStyleValues("display","block table table-cell table-caption list-item"),cl=Sa,ul=_a,dl=Mi.isElement,fl=Va,hl=function(t){return 0<t},pl=function(t){return t<0},ml=function(t,e){for(var n;n=t(e);)if(!ul(n))return n;return null},gl=function(t,e,n,r,i){var o=new Oi(t,r);if(pl(e)){if((sl(t)||ul(t))&&n(t=ml(o.prev,!0)))return t;for(;t=ml(o.prev,i);)if(n(t))return t}if(hl(e)){if((sl(t)||ul(t))&&n(t=ml(o.next,!0)))return t;for(;t=ml(o.next,i);)if(n(t))return t}return null},vl=function(t,e){for(;t&&t!==e;){if(ll(t))return t;t=t.parentNode}return null},bl=function(t,e,n){return vl(t.container(),n)===vl(e.container(),n)},yl=function(t,e){var n,r;return e?(n=e.container(),r=e.offset(),dl(n)?n.childNodes[r+t]:null):null},Cl=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},wl=function(t,e,n){var r,i,o,a;for(i=t?"previousSibling":"nextSibling";n&&n!==e;){if(r=n[i],cl(r)&&(r=r[i]),sl(r)){if(a=n,vl(r,o=e)===vl(a,o))return r;break}if(fl(r))break;n=n.parentNode}return null},xl=o(Cl,!0),_l=o(Cl,!1),El=function(t,e,n){var r,i,a,s,l=o(wl,!0,e),c=o(wl,!1,e);if(i=n.startContainer,a=n.startOffset,_a(i)){if(dl(i)||(i=i.parentNode),"before"===(s=i.getAttribute("data-mce-caret"))&&(r=i.nextSibling,al(r)))return xl(r);if("after"===s&&(r=i.previousSibling,al(r)))return _l(r)}if(!n.collapsed)return n;if(Mi.isText(i)){if(cl(i)){if(1===t){if(r=c(i))return xl(r);if(r=l(i))return _l(r)}if(-1===t){if(r=l(i))return _l(r);if(r=c(i))return xl(r)}return n}if(Aa(i)&&a>=i.data.length-1)return 1===t&&(r=c(i))?xl(r):n;if(za(i)&&a<=1)return-1===t&&(r=l(i))?_l(r):n;if(a===i.data.length)return(r=c(i))?xl(r):n;if(0===a)return(r=l(i))?_l(r):n}return n},Sl=function(t,e){return M.from(yl(t?0:-1,e)).filter(sl)},kl=function(t,e,n){var r=El(t,e,n);return-1===t?ys.fromRangeStart(r):ys.fromRangeEnd(r)},Nl=function(t){return M.from(t.getNode()).map(cr)},Tl=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},zl=function(t,e){var n=bl(t,e);return!(n||!Mi.isBr(t.getNode()))||n};(ws=Cs||(Cs={}))[ws.Backwards=-1]="Backwards",ws[ws.Forwards=1]="Forwards";var Al,Ml,Ol,Pl=Mi.isContentEditableFalse,Rl=Mi.isText,Ll=Mi.isElement,Dl=Mi.isBr,Bl=Va,Hl=function(t){return Ba(t)||!!Fa(e=t)&&!0!==Y(ot(e.getElementsByTagName("*")),(function(t,e){return t||Oa(e)}),!1);var e},Il=ja,Vl=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Fl=function(t,e){if(hl(t)){if(Bl(e.previousSibling)&&!Rl(e.previousSibling))return xs.before(e);if(Rl(e))return xs(e,0)}if(pl(t)){if(Bl(e.nextSibling)&&!Rl(e.nextSibling))return xs.after(e);if(Rl(e))return xs(e,e.data.length)}return pl(t)?Dl(e)?xs.before(e):xs.after(e):xs.before(e)},jl=function(t,e,n){var i,o,a,s,l;if(!Ll(n)||!e)return null;if(e.isEqual(xs.after(n))&&n.lastChild){if(l=xs.after(n.lastChild),pl(t)&&Bl(n.lastChild)&&Ll(n.lastChild))return Dl(n.lastChild)?xs.before(n.lastChild):l}else l=e;var c,u,d,f=l.container(),h=l.offset();if(Rl(f)){if(pl(t)&&0<h)return xs(f,--h);if(hl(t)&&h<f.length)return xs(f,++h);i=f}else{if(pl(t)&&0<h&&(o=Vl(f,h-1),Bl(o)))return!Hl(o)&&(a=gl(o,t,Il,o))?Rl(a)?xs(a,a.data.length):xs.after(a):Rl(o)?xs(o,o.data.length):xs.before(o);if(hl(t)&&h<f.childNodes.length&&(o=Vl(f,h),Bl(o)))return Dl(o)?(c=n,(d=(u=o).nextSibling)&&Bl(d)?Rl(d)?xs(d,0):xs.before(d):jl(Cs.Forwards,xs.after(u),c)):!Hl(o)&&(a=gl(o,t,Il,o))?Rl(a)?xs(a,0):xs.before(a):Rl(o)?xs(o,0):xs.after(o);i=o||l.getNode()}return(hl(t)&&l.isAtEnd()||pl(t)&&l.isAtStart())&&(i=gl(i,t,r(!0),n,!0),Il(i,n))?Fl(t,i):(o=gl(i,t,Il,n),!(s=$e.last(X(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(f,n),Pl)))||o&&s.contains(o)?o?Fl(t,o):null:l=hl(t)?xs.after(s):xs.before(s))},$l=function(t){return{next:function(e){return jl(Cs.Forwards,e,t)},prev:function(e){return jl(Cs.Backwards,e,t)}}},Ul=function(t){return xs.isTextPosition(t)?0===t.offset():Va(t.getNode())},ql=function(t){if(xs.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Va(t.getNode(!0))},Wl=function(t,e){return!xs.isTextPosition(t)&&!xs.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Xl=function(t,e,n){var r=$l(e);return M.from(t?r.next(n):r.prev(n))},Kl=function(t,e,n){return Xl(t,e,n).bind((function(r){return bl(n,r,e)&&function(t,e,n){return t?!Wl(e,n)&&(r=e,!(!xs.isTextPosition(r)&&Mi.isBr(r.getNode())))&&ql(e)&&Ul(n):!Wl(n,e)&&Ul(e)&&ql(n);var r}(t,n,r)?Xl(t,e,r):M.some(r)}))},Yl=function(t,e,n,r){return Kl(t,e,n).bind((function(n){return r(n)?Yl(t,e,n,r):M.some(n)}))},Gl=function(t,e){var n,r,i,o,a,s=t?e.firstChild:e.lastChild;return Mi.isText(s)?M.some(xs(s,t?0:s.data.length)):s?Va(s)?M.some(t?xs.before(s):(a=s,Mi.isBr(a)?xs.before(a):xs.after(a))):(r=e,i=s,o=(n=t)?xs.before(i):xs.after(i),Xl(n,r,o)):M.none()},Zl=o(Xl,!0),Jl=o(Xl,!1),Ql={fromPosition:Xl,nextPosition:Zl,prevPosition:Jl,navigate:Kl,navigateIgnore:Yl,positionIn:Gl,firstPositionIn:o(Gl,!0),lastPositionIn:o(Gl,!1)},tc=function(t,e){return!t.isBlock(e)||e.innerHTML||zt.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e},ec=function(t,e){return Ql.lastPositionIn(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},nc=function(t,e,n){return!(!1!==e.hasChildNodes()||!Ws(t,e)||(i=n,o=(r=e).ownerDocument.createTextNode(ya),r.appendChild(o),i.setStart(o,0),i.setEnd(o,0),0));var r,i,o},rc=function(t,e,n,r){var i,o,a,s,l=n[e?"start":"end"],c=t.getRoot();if(l){for(a=l[0],o=c,i=l.length-1;1<=i;i--){if(s=o.childNodes,nc(c,o,r))return!0;if(l[i]>s.length-1)return!!nc(c,o,r)||ec(o,r);o=s[l[i]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),e?r.setStart(o,a):r.setEnd(o,a)}return!0},ic=function(t){return Mi.isText(t)&&0<t.data.length},oc=function(t,e,n){var r,i,o,a,s,l,c=t.get(n.id+"_"+e),u=n.keep;if(c){if(r=c.parentNode,i="start"===e?u?c.hasChildNodes()?(r=c.firstChild,1):ic(c.nextSibling)?(r=c.nextSibling,0):ic(c.previousSibling)?(r=c.previousSibling,c.previousSibling.data.length):(r=c.parentNode,t.nodeIndex(c)+1):t.nodeIndex(c):u?c.hasChildNodes()?(r=c.firstChild,1):ic(c.previousSibling)?(r=c.previousSibling,c.previousSibling.data.length):(r=c.parentNode,t.nodeIndex(c)):t.nodeIndex(c),s=r,l=i,!u){for(a=c.previousSibling,o=c.nextSibling,Ke.each(Ke.grep(c.childNodes),(function(t){Mi.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));c=t.get(n.id+"_"+e);)t.remove(c,!0);a&&o&&a.nodeType===o.nodeType&&Mi.isText(a)&&!zt.opera&&(i=a.nodeValue.length,a.appendData(o.nodeValue),t.remove(o),s=a,l=i)}return M.some(xs(s,l))}return M.none()},ac=function(t,e,n){return $s.getBookmark(t,e,n)},sc=function(t,e){(function(t,e){var n,r,i,o,a,s,l,c,u,d,f,h,p,m,g,v,b=t.dom;if(e){if(v=e,Ke.isArray(v.start))return m=e,g=(p=b).createRng(),rc(p,!0,m,g)&&rc(p,!1,m,g)?M.some(g):M.none();if("string"==typeof e.start)return M.some((d=e,f=(u=b).createRng(),h=Ms(u.getRoot(),d.start),f.setStart(h.container(),h.offset()),h=Ms(u.getRoot(),d.end),f.setEnd(h.container(),h.offset()),f));if(e.hasOwnProperty("id"))return l=oc(i=b,"start",o=e),c=oc(i,"end",o),ts([l,(a=c,s=l,a.isSome()?a:s)],(function(t,e){var n=i.createRng();return n.setStart(tc(i,t.container()),t.offset()),n.setEnd(tc(i,e.container()),e.offset()),n}));if(e.hasOwnProperty("name"))return n=b,r=e,M.from(n.select(r.name)[r.index]).map((function(t){var e=n.createRng();return e.selectNode(t),e}));if(e.hasOwnProperty("rng"))return M.some(e.rng)}return M.none()})(t,e).each((function(e){t.setRng(e)}))},lc=function(t){return Mi.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},cc=function(t){return t&&/^(IMG)$/.test(t.nodeName)},uc=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},dc=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},fc=function(t,e,n){var r,i,o,a=n.startOffset,s=n.startContainer;if((n.startContainer!==n.endContainer||!cc(n.startContainer.childNodes[n.startOffset]))&&1===s.nodeType)for(a<(o=s.childNodes).length?(s=o[a],r=new Oi(s,t.getParent(s,t.isBlock))):(s=o[o.length-1],(r=new Oi(s,t.getParent(s,t.isBlock))).next(!0)),i=r.current();i;i=r.next())if(3===i.nodeType&&!uc(i))return n.setStart(i,0),void e.setRng(n)},hc=function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!uc(t))return t},pc=function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},mc=function(t,e,n){return t.schema.isValidChild(e,n)},gc=uc,vc=function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t},bc=function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},yc=dc,Cc=function(t,e,n){return dc(t,t.getStyle(e,n),n)},wc=function(t,e){var n;return t.getParent(e,(function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n})),n},xc=function(t,e,n){return t.getParents(e,n,t.getRoot())},_c=lc,Ec=xc,Sc=gc,kc=pc,Nc=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},Tc=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},zc=function(t,e,n,r){var i,o,a=n.nodeValue;return void 0===r&&(r=t?a.length:0),t?(i=a.lastIndexOf(" ",r),-1!==(i=(o=a.lastIndexOf("",r))<i?i:o)&&!e&&(i<r||!t)&&i<=a.length&&i++):(i=a.indexOf(" ",r),o=a.indexOf("",r),i=-1!==i&&(-1===o||i<o)?i:o),i},Ac=function(t,e,n,r,i,o){var a,s,l;if(3===n.nodeType){if(-1!==(s=zc(i,o,n,r)))return{container:n,offset:s};l=n}for(var c=new Oi(n,t.getParent(n,t.isBlock)||e);a=c[i?"prev":"next"]();)if(3!==a.nodeType||_c(a.parentNode)){if(t.isBlock(a)||bc(a,"BR"))break}else if(-1!==(s=zc(i,o,l=a)))return{container:a,offset:s};if(l)return{container:l,offset:r=i?0:l.length}},Mc=function(t,e,n,r,i){var o,a,s,l;for(3===r.nodeType&&0===r.nodeValue.length&&r[i]&&(r=r[i]),o=Ec(t,r),a=0;a<o.length;a++)for(s=0;s<e.length;s++)if((!("collapsed"in(l=e[s]))||l.collapsed===n.collapsed)&&t.is(o[a],l.selector))return o[a];return r},Oc=function(t,e,n,r){var i,o=t.dom,a=o.getRoot();if(e[0].wrapper||(i=o.getParent(n,e[0].block,a)),!i){var s=o.getParent(n,"LI,TD,TH");i=o.getParent(3===n.nodeType?n.parentNode:n,(function(e){return e!==a&&kc(t,e)}),s)}if(i&&e[0].wrapper&&(i=Ec(o,i,"ul,ol").reverse()[0]||i),!i)for(i=n;i[r]&&!o.isBlock(i[r])&&(i=i[r],!bc(i,"br")););return i||n},Pc=function(t,e,n,r,i,o,a){var s,l,c,u,d,f;if(s=l=a?n:i,u=a?"previousSibling":"nextSibling",d=t.getRoot(),3===s.nodeType&&!Sc(s)&&(a?0<r:o<s.nodeValue.length))return s;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(c=l[u];c;c=c[u])if(!_c(c)&&!Sc(c)&&("BR"!==(f=c).nodeName||!f.getAttribute("data-mce-bogus")||f.nextSibling))return l;if(l===d||l.parentNode===d){s=l;break}l=l.parentNode}return s},Rc=function(t,e,n,r){var i,o=e.startContainer,a=e.startOffset,s=e.endContainer,l=e.endOffset,c=t.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Za(o,a)).nodeType&&(a=0),1===s.nodeType&&s.hasChildNodes()&&3===(s=Za(s,e.collapsed?l:l-1)).nodeType&&(l=s.nodeValue.length),o=Tc(c,o),s=Tc(c,s),(_c(o.parentNode)||_c(o))&&(o=_c(o)?o:o.parentNode,3===(o=e.collapsed?o.previousSibling||o:o.nextSibling||o).nodeType&&(a=e.collapsed?o.length:0)),(_c(s.parentNode)||_c(s))&&(s=_c(s)?s:s.parentNode,3===(s=e.collapsed?s.nextSibling||s:s.previousSibling||s).nodeType&&(l=e.collapsed?0:s.length)),e.collapsed&&((i=Ac(c,t.getBody(),o,a,!0,r))&&(o=i.container,a=i.offset),(i=Ac(c,t.getBody(),s,l,!1,r))&&(s=i.container,l=i.offset)),n[0].inline&&(s=r?s:function(t,e){var n=Nc(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Nc(n.node.previousSibling);n.node&&0<n.offset&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&1<n.offset&&(t=n.node).splitText(n.offset-1)}return t}(s,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==a||(o=Pc(c,n,o,a,s,l,!0)),n[0].inline&&3===s.nodeType&&l!==s.nodeValue.length||(s=Pc(c,n,o,a,s,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=Mc(c,n,e,o,"previousSibling"),s=Mc(c,n,e,s,"nextSibling")),(n[0].block||n[0].selector)&&(o=Oc(t,n,o,"previousSibling"),s=Oc(t,n,s,"nextSibling"),n[0].block&&(c.isBlock(o)||(o=Pc(c,n,o,a,s,l,!0)),c.isBlock(s)||(s=Pc(c,n,o,a,s,l,!1)))),1===o.nodeType&&(a=c.nodeIndex(o),o=o.parentNode),1===s.nodeType&&(l=c.nodeIndex(s)+1,s=s.parentNode),{startContainer:o,startOffset:a,endContainer:s,endOffset:l}},Lc=Ke.each,Dc=function(t,e,n){var r,i,o,a,s,l,c,u=e.startContainer,d=e.startOffset,f=e.endContainer,h=e.endOffset;if(0<(c=t.select("td[data-mce-selected],th[data-mce-selected]")).length)Lc(c,(function(t){n([t])}));else{var p,m,g,v=function(t){var e;return 3===(e=t[0]).nodeType&&e===u&&d>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===h&&0<t.length&&e===f&&3===e.nodeType&&t.splice(t.length-1,1),t},b=function(t,e,n){for(var r=[];t&&t!==n;t=t[e])r.push(t);return r},y=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},C=function(t,e,r){var i=r?"nextSibling":"previousSibling";for(s=(a=t).parentNode;a&&a!==e;a=s)s=a.parentNode,(l=b(a===t?a:a[i],i)).length&&(r||l.reverse(),n(v(l)))};if(1===u.nodeType&&u.hasChildNodes()&&(u=u.childNodes[d]),1===f.nodeType&&f.hasChildNodes()&&(m=h,--m>(g=(p=f).childNodes).length-1?m=g.length-1:m<0&&(m=0),f=g[m]||p),u===f)return n(v([u]));for(r=t.findCommonAncestor(u,f),a=u;a;a=a.parentNode){if(a===f)return C(u,r,!0);if(a===r)break}for(a=f;a;a=a.parentNode){if(a===u)return C(f,r);if(a===r)break}i=y(u,r)||u,o=y(f,r)||f,C(u,i,!0),(l=b(i===u?i:i.nextSibling,"nextSibling",o===f?o.nextSibling:o)).length&&n(v(l)),C(f,o)}},Bc=(Al=gr,Ml="text",{get:function(t){if(!Al(t))throw new Error("Can only get "+Ml+" value of a "+Ml+" node");return Ol(t).getOr("")},getOption:Ol=function(t){return Al(t)?M.from(t.dom().nodeValue):M.none()},set:function(t,e){if(!Al(t))throw new Error("Can only set raw "+Ml+" value of a "+Ml+" node");t.dom().nodeValue=e}}),Hc=function(t){return Bc.get(t)},Ic=function(t,e,n,r){var i,o=e.uid,a=void 0===o?("mce-annotation",i=(new Date).getTime(),"mce-annotation_"+Math.floor(1e9*Math.random())+ ++ha+String(i)):o,s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}(e,["uid"]),l=sr("span",t);Zo(l,la()),Tr(l,""+ua(),a),Tr(l,""+ca(),n);var c,u=r(a,s),d=u.attributes,f=void 0===d?{}:d,h=u.classes,p=void 0===h?[]:h;return zr(l,f),c=l,q(p,(function(t){Zo(c,t)})),l},Vc=function(t,e,n,r,i){var o=[],a=Ic(t.getDoc(),i,n,r),s=Po(M.none()),l=function(){s.set(M.none())},c=function(t){q(t,u)},u=function(e){var n,r;switch(function(t,e,n,r){return qr(e).fold((function(){return"skipping"}),(function(i){return"br"===r||gr(a=e)&&"\ufeff"===Hc(a)?"valid":mr(o=e)&&Jo(o,la())?"existing":qs(e)?"caret":mc(t,n,r)&&mc(t,hr(i),n)?"valid":"invalid-child";var o,a}))}(t,e,"span",hr(e))){case"invalid-child":l();var i=Gr(e);c(i),l();break;case"valid":var u=s.get().getOrThunk((function(){var t=ma(a);return o.push(t),s.set(M.some(t)),t}));Vo(n=e,r=u),$o(r,n)}};return Dc(t.dom,e,(function(t){var e;l(),e=U(t,cr),c(e)})),o},Fc=function(e){var n,r=(n={},{register:function(t,e){n[t]={name:t,settings:e}},lookup:function(t){return n.hasOwnProperty(t)?M.from(n[t]).map((function(t){return t.settings})):M.none()}});!function(t,e){t.on("init",(function(){t.serializer.addNodeFilter("span",(function(t){q(t,(function(t){var n;(n=t,M.from(n.attr(ca())).bind(e.lookup)).each((function(e){!1===e.persistent&&t.unwrap()}))}))}))}))}(e,r);var i=function(e,n){var r,i,o=Po({}),a=function(t,e){s(t,(function(t){return e(t),t}))},s=function(t,e){var n=o.get(),r=e(n.hasOwnProperty(t)?n[t]:{listeners:[],previous:Po(M.none())});n[t]=r,o.set(n)},l=(r=function(){var t,n,r=o.get(),i=(t=vr(r),(n=V.call(t,0)).sort(void 0),n);q(i,(function(t){s(t,(function(n){var r=n.previous.get();return da(e,M.some(t)).fold((function(){var e;r.isSome()&&(a(e=t,(function(t){q(t.listeners,(function(t){return t(!1,e)}))})),n.previous.set(M.none()))}),(function(t){var e,i,o,s=t.uid,l=t.name,c=t.elements;r.is(s)||(i=s,o=c,a(e=l,(function(t){q(t.listeners,(function(t){return t(!0,e,{uid:i,nodes:U(o,(function(t){return t.dom()}))})}))})),n.previous.set(M.some(s)))})),{previous:n.previous,listeners:n.listeners}}))}))},i=null,{cancel:function(){null!==i&&(t.clearTimeout(i),i=null)},throttle:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null!==i&&t.clearTimeout(i),i=t.setTimeout((function(){r.apply(null,e),i=null}),30)}});return e.on("remove",(function(){l.cancel()})),e.on("NodeChange",(function(){l.throttle()})),{addListener:function(t,e){s(t,(function(t){return{previous:t.previous,listeners:t.listeners.concat([e])}}))}}}(e);return{register:function(t,e){r.register(t,e)},annotate:function(t,n){r.lookup(t).each((function(r){var i,o,a,s;o=t,a=r,s=n,(i=e).undoManager.transact((function(){var t,e,n,r,l=i.selection.getRng();if(l.collapsed&&(r=Rc(t=i,e=l,[{inline:!0}],3===(n=e).startContainer.nodeType&&n.startContainer.nodeValue.length>=n.startOffset&&""===n.startContainer.nodeValue[n.startOffset]),e.setStart(r.startContainer,r.startOffset),e.setEnd(r.endContainer,r.endOffset),t.selection.setRng(e)),i.selection.getRng().collapsed){var c=Ic(i.getDoc(),s,o,a.decorate);va(c,""),i.selection.getRng().insertNode(c.dom()),i.selection.select(c.dom())}else{var u=$s.getPersistentBookmark(i.selection,!1),d=i.selection.getRng();Vc(i,d,o,a.decorate,s),i.selection.moveToBookmark(u)}}))}))},annotationChanged:function(t,e){i.addListener(t,e)},remove:function(t){da(e,M.some(t)).each((function(t){var e=t.elements;q(e,Xo)}))},getAll:function(t){var n,r,i,o,a=(n=t,r=cr(e.getBody()),i=ta(r,"["+ca()+'="'+n+'"]'),o={},q(i,(function(t){var e=Ar(t,ua()),n=o.hasOwnProperty(e)?o[e]:[];o[e]=n.concat([t])})),o);return Cr(a,(function(t){return U(t,(function(t){return t.dom()}))}))}}},jc=/^[ \t\r\n]*$/,$c={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Uc=function(t,e,n){var r=n?"lastChild":"firstChild",i=n?"prev":"next";if(t[r])return t[r];if(t!==e){var o=t[i];if(o)return o;for(var a=t.parent;a&&a!==e;a=a.parent)if(o=a[i])return o}},qc=function(){function t(t,e){this.name=t,1===(this.type=e)&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var r=new t(e,$c[e]||1);if(n)for(var i in n)r.attr(i,n[i]);return r},t.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},t.prototype.attr=function(t,e){var n;if("string"!=typeof t){for(var r in t)this.attr(r,t[r]);return this}if(n=this.attributes){if(void 0===e)return n.map[t];if(null===e){if(t in n.map){delete n.map[t];for(var i=n.length;i--;)if(n[i].name===t)return n.splice(i,1),this}return this}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,this}},t.prototype.clone=function(){var e,n=new t(this.name,this.type);if(e=this.attributes){var r=[];r.map={};for(var i=0,o=e.length;i<o;i++){var a=e[i];"id"!==a.name&&(r[r.length]={name:a.name,value:a.value},r.map[a.name]=a.value)}n.attributes=r}return n.value=this.value,n.shortEnded=this.shortEnded,n},t.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},t.prototype.unwrap=function(){for(var t=this.firstChild;t;){var e=t.next;this.insert(t,this,!0),t=e}this.remove()},t.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e)&&(e.prev=null):n.next=e,t.lastChild===this?(t.lastChild=n)&&(n.next=null):e.prev=n,this.parent=this.next=this.prev=null),this},t.prototype.append=function(t){t.parent&&t.remove();var e=this.lastChild;return e?((e.next=t).prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},t.prototype.insert=function(t,e,n){t.parent&&t.remove();var r=e.parent||this;return n?(e===r.firstChild?r.firstChild=t:e.prev.next=t,t.prev=e.prev,(t.next=e).prev=t):(e===r.lastChild?r.lastChild=t:e.next.prev=t,t.next=e.next,(t.prev=e).next=t),t.parent=r,t},t.prototype.getAll=function(t){for(var e=[],n=this.firstChild;n;n=Uc(n,this))n.name===t&&e.push(n);return e},t.prototype.empty=function(){if(this.firstChild){for(var t=[],e=this.firstChild;e;e=Uc(e,this))t.push(e);for(var n=t.length;n--;)(e=t[n]).parent=e.firstChild=e.lastChild=e.next=e.prev=null}return this.firstChild=this.lastChild=null,this},t.prototype.isEmpty=function(t,e,n){void 0===e&&(e={});var r=this.firstChild;if(r)do{if(1===r.type){if(r.attr("data-mce-bogus"))continue;if(t[r.name])return!1;for(var i=r.attributes.length;i--;){var o=r.attributes[i].name;if("name"===o||0===o.indexOf("data-mce-bookmark"))return!1}}if(8===r.type)return!1;if(3===r.type&&!jc.test(r.value))return!1;if(3===r.type&&r.parent&&e[r.parent.name]&&jc.test(r.value))return!1;if(n&&n(r))return!1}while(r=Uc(r,this));return!0},t.prototype.walk=function(t){return Uc(this,null,t)},t}(),Wc=function(t,e,n){var r,i,o,a,s=1;for(a=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;i=o.exec(e);){if(r=o.lastIndex,"/"===i[1])s--;else if(!i[1]){if(i[2]in a)continue;s++}if(0===s)break}return r},Xc=function(t,e){var n=t.exec(e);if(n){var r=n[1],i=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?i:null}return null};function Kc(t,e){void 0===e&&(e=mo());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var r=t.comment?t.comment:n,i=t.cdata?t.cdata:n,o=t.text?t.text:n,a=t.start?t.start:n,s=t.end?t.end:n,l=t.pi?t.pi:n,c=t.doctype?t.doctype:n;return{parse:function(n){var u,d,f,h,p,m,g,v,b,y,C,w,x,_,E,S,k,N,T,z,A,M,O,P,R,L,D,B,H,I=0,V=[],F=0,j=io.decode,$=Ke.makeMap("src,href,data,background,formaction,poster,xlink:href"),U=/((java|vb)script|mhtml):/i,q=function(t){var e,n;for(e=V.length;e--&&V[e].name!==t;);if(0<=e){for(n=V.length-1;e<=n;n--)(t=V[n]).valid&&s(t.name);V.length=e}},W=function(e,n,r,i,o){var a,s,l,c,u;if(r=(n=n.toLowerCase())in C?n:j(r||i||o||""),x&&!v&&0==(0===(l=n).indexOf("data-")||0===l.indexOf("aria-"))){if(!(a=N[n])&&T){for(s=T.length;s--&&!(a=T[s]).pattern.test(n););-1===s&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if($[n]&&!t.allow_script_urls){var d=r.replace(/[\s\u0000-\u001F]+/g,"");try{d=decodeURIComponent(d)}catch(f){d=unescape(d)}if(U.test(d))return;if(u=d,!(c=t).allow_html_data_urls&&(/^data:image\//i.test(u)?!1===c.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(u):/^data:/i.test(u)))return}v&&(n in $||0===n.indexOf("on"))||(h.map[n]=r,h.push({name:n,value:r}))};for(R=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=e.getShortEndedElements(),P=t.self_closing_elements||e.getSelfClosingElements(),C=e.getBoolAttrs(),x=t.validate,b=t.remove_internals,H=t.fix_self_closing,D=e.getSpecialElements(),O=n+">";u=R.exec(O);){if(I<u.index&&o(j(n.substr(I,u.index-I))),d=u[6])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),q(d);else if(d=u[7]){if(u.index+u[0].length>n.length){o(j(n.substr(u.index))),I=u.index+u[0].length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),w=d in y,H&&P[d]&&0<V.length&&V[V.length-1].name===d&&q(d);var X=Xc(L,u[8]);if(null!==X){if("all"===X){I=Wc(e,n,R.lastIndex),R.lastIndex=I;continue}E=!1}if(!x||(_=e.getElementRule(d))){if(E=!0,x&&(N=_.attributes,T=_.attributePatterns),(k=u[8])?((v=-1!==k.indexOf("data-mce-type"))&&b&&(E=!1),(h=[]).map={},k.replace(L,W)):(h=[]).map={},x&&!v){if(z=_.attributesRequired,A=_.attributesDefault,M=_.attributesForced,_.removeEmptyAttrs&&!h.length&&(E=!1),M)for(p=M.length;p--;)g=(S=M[p]).name,"{$uid}"===(B=S.value)&&(B="mce_"+F++),h.map[g]=B,h.push({name:g,value:B});if(A)for(p=A.length;p--;)(g=(S=A[p]).name)in h.map||("{$uid}"===(B=S.value)&&(B="mce_"+F++),h.map[g]=B,h.push({name:g,value:B}));if(z){for(p=z.length;p--&&!(z[p]in h.map););-1===p&&(E=!1)}if(S=h.map["data-mce-bogus"]){if("all"===S){I=Wc(e,n,R.lastIndex),R.lastIndex=I;continue}E=!1}}E&&a(d,h,w)}else E=!1;if(f=D[d]){f.lastIndex=I=u.index+u[0].length,I=(u=f.exec(n))?(E&&(m=n.substr(I,u.index-I)),u.index+u[0].length):(m=n.substr(I),n.length),E&&(0<m.length&&o(m,!0),s(d)),R.lastIndex=I;continue}w||(k&&k.indexOf("/")===k.length-1?E&&s(d):V.push({name:d,valid:E}))}else(d=u[1])?(">"===d.charAt(0)&&(d=" "+d),t.allow_conditional_comments||"[if"!==d.substr(0,3).toLowerCase()||(d=" "+d),r(d)):(d=u[2])?i(d.replace(/<!--|-->/g,"")):(d=u[3])?c(d):(d=u[4])&&l(d,u[5]);I=u.index+u[0].length}for(I<n.length&&o(j(n.substr(I))),p=V.length-1;0<=p;p--)(d=V[p]).valid&&s(d.name)}}}(Kc||(Kc={})).findEndTag=Wc;var Yc,Gc=Kc,Zc=function(t,e){var n,r,i,o,a,s,l,c,u=e,d=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,f=t.schema;for(s=t.getTempAttrs(),l=u,c=new RegExp(["\\s?("+s.join("|")+')="[^"]+"'].join("|"),"gi"),u=l.replace(c,""),a=f.getShortEndedElements();o=d.exec(u);)r=d.lastIndex,i=o[0].length,n=a[o[1]]?r:Gc.findEndTag(f,u,r),u=u.substring(0,r-i)+u.substring(n),d.lastIndex=r-i;return Ca(u)},Jc=Zc,Qc=Zc,tu=function(t,e,n){var r=t.getParam(e,n);if(-1===r.indexOf("="))return r;var i=t.getParam(e,"","hash");return i.hasOwnProperty(t.id)?i[t.id]:n},eu=function(t){return t.getParam("content_security_policy","")},nu=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":!0===e?"p":e},ru=function(t){return t.getParam("forced_root_block_attrs",{})},iu=function(t){return t.getParam("automatic_uploads",!0,"boolean")},ou=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},au=function(t){return t.getParam("images_upload_url","","string")},su=function(t){return t.getParam("images_upload_base_path","","string")},lu=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},cu=function(t){return t.getParam("images_upload_handler",null,"function")},uu=function(t){return t.getParam("content_css_cors",!1,"boolean")},du=function(t){return t.getParam("language","en","string")},fu=function(t){return t.getParam("indent_use_margin",!1)},hu=Ke.makeMap,pu=function(t){var e,n,r,i,o,a=[];return e=(t=t||{}).indent,n=hu(t.indent_before||""),r=hu(t.indent_after||""),i=io.getEncodeFunc(t.entity_encoding||"raw",t.entities),o="html"===t.element_format,{start:function(t,s,l){var c,u,d,f;if(e&&n[t]&&0<a.length&&0<(f=a[a.length-1]).length&&"\n"!==f&&a.push("\n"),a.push("<",t),s)for(c=0,u=s.length;c<u;c++)d=s[c],a.push(" ",d.name,'="',i(d.value,!0),'"');a[a.length]=!l||o?">":" />",l&&e&&r[t]&&0<a.length&&0<(f=a[a.length-1]).length&&"\n"!==f&&a.push("\n")},end:function(t){var n;a.push("</",t,">"),e&&r[t]&&0<a.length&&0<(n=a[a.length-1]).length&&"\n"!==n&&a.push("\n")},text:function(t,e){0<t.length&&(a[a.length]=e?t:i(t))},cdata:function(t){a.push("<![CDATA[",t,"]]>")},comment:function(t){a.push("\x3c!--",t,"--\x3e")},pi:function(t,n){n?a.push("<?",t," ",i(n),"?>"):a.push("<?",t,"?>"),e&&a.push("\n")},doctype:function(t){a.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}},mu=function(t,e){void 0===e&&(e=mo());var n=pu(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(r){var i,o;o=t.validate,i={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)for(;a(t),t=t.next;);}},n.reset();var a=function(t){var r,s,l,c,u,d,f,h,p,m=i[t.type];if(m)m(t);else{if(r=t.name,s=t.shortEnded,l=t.attributes,o&&l&&1<l.length&&((d=[]).map={},p=e.getElementRule(t.name))){for(f=0,h=p.attributesOrder.length;f<h;f++)(c=p.attributesOrder[f])in l.map&&(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));for(f=0,h=l.length;f<h;f++)(c=l[f].name)in d.map||(u=l.map[c],d.map[c]=u,d.push({name:c,value:u}));l=d}if(n.start(t.name,l,s),!s){if(t=t.firstChild)for(;a(t),t=t.next;);n.end(r)}}};return 1!==r.type||t.inner?i[11](r):a(r),n.getContent()}}},gu=function(t,e){e(t),t.firstChild&&gu(t.firstChild,e),t.next&&gu(t.next,e)},vu=function(t){var e=$r(t).dom();return t.dom()===e.activeElement},bu=function(e){var n=void 0!==e?e.dom():t.document;return M.from(n.activeElement).map(cr)},yu=function(e){if(!L(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return q(e,(function(i,o){var a=vr(i);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=i[s];if(void 0!==r[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!L(l))throw new Error("case arguments must be an array");n.push(s),r[s]=function(){var r=arguments.length;if(r!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+r);for(var i=new Array(r),a=0;a<i.length;a++)i[a]=arguments[a];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[o].apply(null,i)},match:function(t){var e=vr(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));if(!et(n,(function(t){return j(e,t)})))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[s].apply(null,i)},log:function(e){t.console.log(e,{constructors:n,constructor:s,params:i})}}}})),r},Cu={create:Lr("start","soffset","finish","foffset")},wu=yu([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xu=(wu.before,wu.on,wu.after,function(t){return t.fold(i,i,i)}),_u=yu([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Eu={domRange:_u.domRange,relative:_u.relative,exact:_u.exact,exactFromRange:function(t){return _u.exact(t.start(),t.soffset(),t.finish(),t.foffset())},getWin:function(t){var e=t.match({domRange:function(t){return cr(t.startContainer)},relative:function(t,e){return xu(t)},exact:function(t,e,n,r){return t}});return Ur(e)},range:Cu.create},Su=ir.detect().browser,ku=function(t,e){var n=gr(e)?Hc(e).length:Gr(e).length+1;return n<t?n:t<0?0:t},Nu=function(t){return Eu.range(t.start(),ku(t.soffset(),t.start()),t.finish(),ku(t.foffset(),t.finish()))},Tu=function(t,e){return!Mi.isRestrictedNode(e.dom())&&(jr(t,e)||Fr(t,e))},zu=function(t){return function(e){return Tu(t,e.start())&&Tu(t,e.finish())}},Au=function(t){return Eu.range(cr(t.startContainer),t.startOffset,cr(t.endContainer),t.endOffset)},Mu=function(t){return function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?M.from(e.getRangeAt(0)):M.none()).map(Au)}(Ur(t).dom()).filter(zu(t))},Ou=function(t,e){return M.from(e).filter(zu(t)).map(Nu)},Pu=function(e){var n=t.document.createRange();try{return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),M.some(n)}catch(Al){return M.none()}},Ru=function(t){return(t.bookmark?t.bookmark:M.none()).bind(o(Ou,cr(t.getBody()))).bind(Pu)},Lu=function(t){var e=function(t){return!0===t.inline||Su.isIE()}(t)?Mu(cr(t.getBody())):M.none();t.bookmark=e.isSome()?e:t.bookmark},Du=Ru,Bu={isEditorUIElement:function(t){var e=t.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},Hu=function(e){var n=Ko((function(){Lu(e)}),0);e.on("init",(function(){var r,i,o;e.inline&&(r=e,i=n,o=function(){i.throttle()},To.DOM.bind(t.document,"mouseup",o),r.on("remove",(function(){To.DOM.unbind(t.document,"mouseup",o)}))),function(t,e){var n,r;ir.detect().browser.isIE()?(r=t).on("focusout",(function(){Lu(r)})):(n=e,t.on("mouseup touchend",(function(t){n.throttle()}))),t.on("keyup NodeChange",(function(e){var n;"nodechange"===(n=e).type&&n.selectionChange||Lu(t)}))}(e,n)})),e.on("remove",(function(){n.cancel()}))},Iu=To.DOM,Vu=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==Iu.getParent(e,(function(e){return function(t){return Bu.isEditorUIElement(t)}(e)||!!n&&t.dom.is(e,n)}))},Fu=function(e,n){var r=n.editor;Hu(r),r.on("focusin",(function(){var t=e.focusedEditor;t!==this&&(t&&t.fire("blur",{focusedEditor:this}),e.setActive(this),(e.focusedEditor=this).fire("focus",{blurredEditor:t}),this.focus(!0))})),r.on("focusout",(function(){var n=this;Rt.setEditorTimeout(n,(function(){var r=e.focusedEditor;Vu(n,function(){try{return t.document.activeElement}catch(e){return t.document.body}}())||r!==n||(n.fire("blur",{focusedEditor:null}),e.focusedEditor=null)}))})),Yc||(Yc=function(n){var r,i=e.activeEditor;r=n.target,i&&r.ownerDocument===t.document&&(r===t.document.body||Vu(i,r)||e.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},Iu.bind(t.document,"focusin",Yc))},ju=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Iu.unbind(t.document,"focusin",Yc),Yc=null)},$u=Vu,Uu=function(t,e){(function(t,e){return(n=e,n.collapsed?M.from(Za(n.startContainer,n.startOffset)).map(cr):M.none()).bind((function(e){return ji(e)?M.some(e):!1===jr(t,e)?M.some(t):M.none()}));var n})(cr(t.getBody()),e).bind((function(t){return Ql.firstPositionIn(t.dom())})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},qu=function(t){if(t.setActive)try{t.setActive()}catch(Ol){t.focus()}else t.focus()},Wu=function(t){return t.inline?(n=t.getBody())&&function(t){return vu(t)||(e=t,bu($r(e)).filter((function(t){return e.dom().contains(t.dom())}))).isSome();var e}(cr(n)):(e=t).iframeElement&&vu(cr(e.iframeElement));var e,n},Xu=function(t){return t.editorManager.setActive(t)},Ku=Wu,Yu=function(t){return t instanceof qc},Gu=function(t,e){var n;t.dom.setHTML(t.getBody(),e),Ku(n=t)&&Ql.firstPositionIn(n.getBody()).each((function(t){var e=t.getNode(),r=Mi.isTable(e)?Ql.firstPositionIn(e).getOr(t):t;n.selection.setRng(r.toRange())}))},Zu=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=Yu(e)?"":e,Yu(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),M.from(t.getBody()).fold(r(e),(function(r){return Yu(e)?function(t,e,n,r){!function(t,e,n){var r=function(t,e,n){var r={},i={},o=[];for(var a in n.firstChild&&gu(n.firstChild,(function(n){q(t,(function(t){t.name===n.name&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})})),q(e,(function(t){"string"==typeof n.attr(t.name)&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})}))})),r)r.hasOwnProperty(a)&&o.push(r[a]);for(var a in i)i.hasOwnProperty(a)&&o.push(i[a]);return o}(t,e,n);q(r,(function(t){q(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}))}(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var i=mu({validate:t.validate},t.schema).serialize(n);return r.content=Ui(cr(e))?i:Ke.trim(i),Gu(t,r.content),r.no_events||t.fire("SetContent",r),n}(t,r,e,n):(i=t,o=r,s=n,0===(a=e).length||/^\s+$/.test(a)?(c='<br data-mce-bogus="1">',"TABLE"===o.nodeName?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(a="<li>"+c+"</li>"),(l=nu(i))&&i.schema.isValidChild(o.nodeName.toLowerCase(),l.toLowerCase())?(a=c,a=i.dom.createHTML(l,i.settings.forced_root_block_attrs,a)):a||(a='<br data-mce-bogus="1">'),Gu(i,a),i.fire("SetContent",s)):("raw"!==s.format&&(a=mu({validate:i.validate},i.schema).serialize(i.parser.parse(a,{isRootContent:!0,insert:!0}))),s.content=Ui(cr(o))?a:Ke.trim(a),Gu(i,s.content),s.no_events||i.fire("SetContent",s)),s.content);var i,o,a,s,l,c}))},Ju=To.DOM,Qu=function(t){return M.from(t).each((function(t){return t.destroy()}))},td=Object.prototype.hasOwnProperty,ed=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},i=0;i<e.length;i++){var o=e[i];for(var a in o)td.call(o,a)&&(r[a]=t(r[a],o[a]))}return r}},nd=ed((function(t,e){return R(t)&&R(e)?nd(t,e):e})),rd=ed((function(t,e){return e})),id=Lr("sections","settings"),od=ir.detect(),ad=od.deviceType.isTouch(),sd=od.deviceType.isPhone(),ld=["lists","autolink","autosave"],cd={theme:"mobile"},ud=function(t){var e=L(t)?t.join(" "):t,n=U(P(e)?e.split(" "):[],Gn);return X(n,(function(t){return 0<t.length}))},dd=function(t,e){return t.sections().hasOwnProperty(e)},fd=function(t,e,n,r,i){var a,s,l,c,u,d,f,h,p,m=(a=["mobile"],s=nd(e?{mobile:cd}:{},i),l=xr(s,(function(t,e){return j(a,e)})),id(l.t,l.f)),g=Ke.extend(n,r,m.settings(),(f=t,p=(h=m).settings().inline,f&&dd(h,"mobile")&&!p?function(t,e,n){void 0===n&&(n={});var r=t.sections(),i=r.hasOwnProperty(e)?r[e]:{};return Ke.extend({},n,i)}(m,"mobile"):{}),{validate:!0,external_plugins:(c=r,u=m.settings(),d=u.external_plugins?u.external_plugins:{},c&&c.external_plugins?Ke.extend({},c.external_plugins,d):d)});return function(t,e,n,r){var i,a,s,l,c,u,d=ud(n.forced_plugins),f=ud(r.plugins),h=dd(i=e,"mobile")?i.sections().mobile:{},p=h.plugins?ud(h.plugins):f,m=(u=t&&(l=s="mobile",c=(a=e).sections(),dd(a,s)&&c[s].theme===l)?X(p,o(j,ld)):t&&dd(e,"mobile")?p:f,[].concat(ud(d)).concat(ud(u)));return Ke.extend(r,{plugins:m.join(" ")})}(t,m,r,g)},hd=function(t,e,n){return M.from(e.settings[n]).filter(t)},pd=function(t,e){return e.dom()[t]},md=function(t,e){return parseInt(Or(e,t),10)},gd=o(pd,"clientWidth"),vd=o(pd,"clientHeight"),bd=o(md,"margin-top"),yd=o(md,"margin-left"),Cd=function(t,e,n){var r,i,o,a,s,l,c,u,d,f,h=cr(t.getBody()),p=t.inline?h:cr(h.dom().ownerDocument.documentElement),m=(r=t.inline,o=e,a=n,s=(i=p).dom().getBoundingClientRect(),{x:o-(r?s.left+i.dom().clientLeft+yd(i):0),y:a-(r?s.top+i.dom().clientTop+bd(i):0)});return c=m.x,u=m.y,d=gd(l=p),f=vd(l),0<=c&&0<=u&&c<=d&&u<=f};function wd(t){var e,n=[],r=function(){var e,n=t.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,reposition:e,getArgs:e}},i=function(){0<n.length&&r().reposition(n)},o=function(t){Z(n,(function(e){return e===t})).each((function(t){n.splice(t,1)}))},a=function(e){if(!t.removed&&function(t){var e;return(e=t.inline?t.getBody():t.getContentAreaContainer(),M.from(e).map(cr)).map((function(t){return jr($r(t),t)})).getOr(!1)}(t))return G(n,(function(t){return n=r().getArgs(t),i=e,!(n.type!==i.type||n.text!==i.text||n.progressBar||n.timeout||i.progressBar||i.timeout);var n,i})).getOrThunk((function(){t.editorManager.setActive(t);var a,s=r().open(e,(function(){o(s),i()}));return a=s,n.push(a),i(),s}))};return(e=t).on("SkinLoaded",(function(){var t=e.settings.service_message;t&&a({text:t,type:"warn",timeout:0})})),e.on("ResizeEditor ResizeWindow NodeChange",(function(){Rt.requestAnimationFrame(i)})),e.on("remove",(function(){q(n.slice(),(function(t){r().close(t)}))})),{open:a,close:function(){M.from(n[0]).each((function(t){r().close(t),o(t),i()}))},getNotifications:function(){return n}}}var xd,_d=function(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:e=function(){throw new Error("Theme did not provide a WindowManager implementation.")},openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}},r=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},i=function(n){var r;r=n,t.fire("CloseWindow",{dialog:r}),0===(e=X(e,(function(t){return t!==n}))).length&&t.focus()},o=function(n){t.editorManager.setActive(t),Lu(t);var r=n();return function(n){var r;e.push(n),r=n,t.fire("OpenWindow",{dialog:r})}(r),r};return t.on("remove",(function(){q(e,(function(t){n().close(t)}))})),{open:function(t,e){return o((function(){return n().open(t,e,i)}))},openUrl:function(t){return o((function(){return n().openUrl(t,i)}))},alert:function(t,e,i){n().alert(t,r(i||this,e))},confirm:function(t,e,i){n().confirm(t,r(i||this,e))},close:function(){M.from(e[e.length-1]).each((function(t){n().close(t),i(t)}))}}},Ed=function(t,e){t.notificationManager.open({type:"error",text:e})},Sd=function(t,e){t._skinLoaded?Ed(t,e):t.on("SkinLoaded",(function(){Ed(t,e)}))},kd=function(e){t.console.error(e)},Nd=function(t,e,n){return n?"Failed to load "+t+": "+n+" from url "+e:"Failed to load "+t+" url: "+e},Td=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t.window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))},zd=function(t,e){kd(Nd("plugin",t,e))},Ad=function(t,e){kd(Nd("icons",t,e))},Md=function(t,e){kd(Nd("language",t,e))},Od=function(t,e,n){var r=Do.translate(["Failed to initialize plugin: {0}",e]);Td(r,n),Sd(t,r)},Pd=function(t,e){Sd(t,Do.translate(["Failed to upload image: {0}",e]))},Rd=Sd,Ld=Td,Dd=(xd={},{add:function(t,e){xd[t]=e},get:function(t){return xd[t]?xd[t]:{icons:{}}},has:function(t){return Er(xd,t)}}),Bd=Io.PluginManager,Hd=Io.ThemeManager;function Id(e,n){var r={},i=function(e,r,i,o){var a,s;(a=new t.XMLHttpRequest).open("POST",n.url),a.withCredentials=n.credentials,a.upload.onprogress=function(t){o(t.loaded/t.total*100)},a.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var t,e,o;a.status<200||300<=a.status?i("HTTP Error: "+a.status):(t=JSON.parse(a.responseText))&&"string"==typeof t.location?r((e=n.basePath,o=t.location,e?e.replace(/\/$/,"")+"/"+o.replace(/^\//,""):o)):i("Invalid JSON: "+a.responseText)},(s=new t.FormData).append("file",e.blob(),e.filename()),a.send(s)},o=function(t,e){return{url:e,blobInfo:t,status:!0}},a=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},s=function(t,e){Ke.each(r[t],(function(t){t(e)})),delete r[t]};return!1===H(n.handler)&&(n.handler=i),{upload:function(t,l){return n.url||n.handler!==i?function(t,i){return t=Ke.grep(t,(function(t){return!e.isUploaded(t.blobUri())})),At.all(Ke.map(t,(function(t){return e.isPending(t.blobUri())?(d=t.blobUri(),new At((function(t){r[d]=r[d]||[],r[d].push(t)}))):(l=t,c=n.handler,u=i,e.markPending(l.blobUri()),new At((function(t){var n;try{var r=function(){n&&n.close()};c(l,(function(n){r(),e.markUploaded(l.blobUri(),n),s(l.blobUri(),o(l,n)),t(o(l,n))}),(function(n){r(),e.removeFailed(l.blobUri()),s(l.blobUri(),a(l,n)),t(a(l,n))}),(function(t){t<0||100<t||(n||(n=u()),n.progressBar.value(t))}))}catch(i){t(a(l,i.message))}})));var l,c,u,d})))}(t,l):new At((function(t){t([])}))}}}var Vd=function(t){var e,n,r=decodeURIComponent(t).split(",");return(n=/data:([^;]+)/.exec(r[0]))&&(e=n[1]),{type:e,data:r[1]}},Fd=function(e){return 0===e.indexOf("blob:")?(n=e,new At((function(e,r){var i=function(){r("Cannot convert "+n+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new t.XMLHttpRequest;o.open("GET",n,!0),o.responseType="blob",o.onload=function(){200===this.status?e(this.response):i()},o.onerror=i,o.send()}catch(a){i()}}))):0===e.indexOf("data:")?(r=e,new At((function(e){var n,i,o,a=Vd(r);try{n=t.atob(a.data)}catch(dx){return void e(new t.Blob([]))}for(i=new Uint8Array(n.length),o=0;o<i.length;o++)i[o]=n.charCodeAt(o);e(new t.Blob([i],{type:a.type}))}))):null;var n,r},jd=Vd,$d=0,Ud=function(t){return(t||"blobid")+$d++};function qd(e,n){var i={};return{findAll:function(o,a){var s,l;a||(a=r(!0)),s=X((l=o)?ot(l.getElementsByTagName("img")):[],(function(t){var n=t.src;return!!zt.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===zt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&a(t):0===n.indexOf("data:")&&a(t))}));var c=U(s,(function(e){if(i[e.src])return new At((function(t){i[e.src].then((function(n){if("string"==typeof n)return n;t({image:e,blobInfo:n.blobInfo})}))}));var r=new At((function(r,i){var o,a,s,l,c,u;o=n,s=r,l=i,0!==(a=e).src.indexOf("blob:")?(c=jd(a.src).data,(u=o.findFirst((function(t){return t.base64()===c})))?s({image:a,blobInfo:u}):Fd(a.src).then((function(t){u=o.create(Ud(),t,c),o.add(u),s({image:a,blobInfo:u})}),(function(t){l(t)}))):(u=o.getByUri(a.src))?s({image:a,blobInfo:u}):Fd(a.src).then((function(e){(function(e){return new At((function(n){var r=new t.FileReader;r.onloadend=function(){n(r.result)},r.readAsDataURL(e)}))})(e).then((function(t){c=jd(t).data,u=o.create(Ud(),e,c),o.add(u),s({image:a,blobInfo:u})}))}),(function(t){l(t)}))})).then((function(t){return delete i[t.image.src],t})).catch((function(t){return delete i[e.src],t}));return i[e.src]=r}));return At.all(c)}}}var Wd,Xd,Kd=0,Yd=function(t){return t+Kd+++(e=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+e()+e()+e());var e},Gd=function(e){var n,i,o,a,s,l,c,u,d,f=(n=[],i=function(e){var n,i,o;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||Yd("blobid"),i=e.name||n,{id:r(n),name:r(i),filename:r(i+"."+(o=e.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[o.toLowerCase()]||"dat")),blob:r(e.blob),base64:r(e.base64),blobUri:r(e.blobUri||t.URL.createObjectURL(e.blob)),uri:r(e.uri)}},{create:function(t,e,n,r){if(P(t))return i({id:t,name:r,blob:e,base64:n});if(R(t))return i(t);throw new Error("Unknown input type")},add:function(t){o(t.id())||n.push(t)},get:o=function(t){return a((function(e){return e.id()===t}))},getByUri:function(t){return a((function(e){return e.blobUri()===t}))},findFirst:a=function(t){return X(n,t)[0]},removeByUri:function(e){n=X(n,(function(n){return n.blobUri()!==e||(t.URL.revokeObjectURL(n.blobUri()),!1)}))},destroy:function(){q(n,(function(e){t.URL.revokeObjectURL(e.blobUri())})),n=[]}}),h=(c={},u=function(t,e){return{status:t,resultUri:e}},{hasBlobUri:d=function(t){return t in c},getResultUri:function(t){var e=c[t];return e?e.resultUri:null},isPending:function(t){return!!d(t)&&1===c[t].status},isUploaded:function(t){return!!d(t)&&2===c[t].status},markPending:function(t){c[t]=u(1,null)},markUploaded:function(t,e){c[t]=u(2,e)},removeFailed:function(t){delete c[t]},destroy:function(){c={}}}),p=[],m=function(t){return function(n){return e.selection?t(n):[]}},g=function(t,e,n){for(var r=0;-1!==(r=t.indexOf(e,r))&&(t=t.substring(0,r)+n+t.substr(r+e.length),r+=n.length-e.length+1),-1!==r;);return t},v=function(t,e,n){return t=g(t,'src="'+e+'"','src="'+n+'"'),g(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},b=function(t,n){q(e.undoManager.data,(function(e){"fragmented"===e.type?e.fragments=U(e.fragments,(function(e){return v(e,t,n)})):e.content=v(e.content,t,n)}))},y=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},C=function(t){return s||(s=Id(h,{url:au(e),basePath:su(e),credentials:lu(e),handler:cu(e)})),_().then(m((function(n){var r;return r=U(n,(function(t){return t.blobInfo})),s.upload(r,y).then(m((function(r){var i=U(r,(function(t,r){var i=n[r].image;return t.status&&function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")}(e)?function(t,n){f.removeByUri(t.src),b(t.src,n),e.$(t).attr({src:ou(e)?n+"?"+(new Date).getTime():n,"data-mce-src":e.convertURL(n,"src")})}(i,t.url):t.error&&Pd(e,t.error),{element:i,status:t.status}}));return t&&t(i),i})))})))},w=function(t){if(iu(e))return C(t)},x=function(t){return!1!==et(p,(function(e){return e(t)}))&&(0!==t.getAttribute("src").indexOf("data:")||function(t){return t.getParam("images_dataimg_filter",r(!0),"function")}(e)(t))},_=function(){return l||(l=qd(h,f)),l.findAll(e.getBody(),x).then(m((function(t){return t=X(t,(function(t){return"string"!=typeof t||(Rd(e,t),!1)})),q(t,(function(t){b(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),t})))},E=function(t){return t.replace(/src="(blob:[^"]+)"/g,(function(t,n){var r=h.getResultUri(n);if(r)return'src="'+r+'"';var i=f.getByUri(n);return i||(i=Y(e.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':t}))};return e.on("SetContent",(function(){iu(e)?w():_()})),e.on("RawSaveContent",(function(t){t.content=E(t.content)})),e.on("GetContent",(function(t){t.source_view||"raw"===t.format||(t.content=E(t.content))})),e.on("PostRender",(function(){e.parser.addNodeFilter("img",(function(t){q(t,(function(t){var e=t.attr("src");if(!f.getByUri(e)){var n=h.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:f,addFilter:function(t){p.push(t)},uploadImages:C,uploadImagesAuto:w,scanForImages:_,destroy:function(){f.destroy(),h.destroy(),l=s=null}}},Zd=function(t,e){return function(t,e,n){return jr(e,t)?function(t,e){for(var n=H(e)?e:E,r=t.dom(),i=[];null!==r.parentNode&&void 0!==r.parentNode;){var o=r.parentNode,a=cr(o);if(i.push(a),!0===n(a))break;r=o}return i}(t,(function(t){return n(t)||Fr(t,e)})).slice(0,-1):[]}(t,e,r(!1))},Jd=Zd,Qd=function(t,e){return[t].concat(Zd(t,e))},tf=function(t,e){return t.hasOwnProperty(e.nodeName)},ef=function(t,e){if(Mi.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||tf(t,e.nextSibling)))return!0}return!1},nf=function(t){var e,n,r,i,o,a,s,l,c,u,d=t.dom,f=t.selection,h=t.schema,p=h.getBlockElements(),m=f.getStart(),g=t.getBody(),v=nu(t);if(m&&Mi.isElement(m)&&v&&(u=g.nodeName.toLowerCase(),h.isValidChild(u,v.toLowerCase())&&(b=p,y=g,!$(Jd(cr(m),cr(y)),(function(t){return tf(b,t.dom())}))))){var b,y,C,w;for(n=(e=f.getRng()).startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,c=Ku(t),m=g.firstChild;m;)if(C=p,w=m,Mi.isText(w)||Mi.isElement(w)&&!tf(C,w)&&!lc(w)){if(ef(p,m)){m=(s=m).nextSibling,d.remove(s);continue}a||(a=d.create(v,ru(t)),m.parentNode.insertBefore(a,m),l=!0),m=(s=m).nextSibling,a.appendChild(s)}else a=null,m=m.nextSibling;l&&c&&(e.setStart(n,r),e.setEnd(i,o),f.setRng(e),t.nodeChanged())}},rf=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},of=function(t){return Jr(t).fold(r([t]),(function(e){return[t].concat(of(e))}))},af=function(t){return Qr(t).fold(r([t]),(function(e){return"br"===hr(e)?Wr(e).map((function(e){return[t].concat(af(e))})).getOr([]):[t].concat(af(e))}))},sf=function(t,e,n,r){var i=n,o=new Oi(n,i),a=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Ke.trim(n.nodeValue).length)return void(r?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(zt.ie&&zt.ie<11&&t.isBlock(n)&&t.isEmpty(n))return void(r?e.setStart(n,0):e.setEnd(n,0))}while(n=r?o.next():o.prev());"BODY"===i.nodeName&&(r?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},lf=function(t){var e=t.selection.getSel();return e&&0<e.rangeCount},cf=function(){function t(t){var e;this.lastPath=[],this.editor=t;var n=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",(function(n){var r,i;i={startContainer:(r=t.selection.getRng()).startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&rf(i,e)||t.fire("SelectionChange"),e=i})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!zt.range&&t.selection.isCollapsed()||lf(t)&&!n.isSameElementPath(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("mouseup",(function(e){!e.isDefaultPrevented()&&lf(t)&&("IMG"===t.selection.getNode().nodeName?Rt.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())}))}return t.prototype.nodeChanged=function(t){var e,n,r,i=this.editor.selection;this.editor.initialized&&i&&!this.editor.settings.disable_nodechange&&!this.editor.readonly&&(r=this.editor.getBody(),(e=i.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(e,r)||(e=r),n=[],this.editor.dom.getParent(e,(function(t){if(t===r)return!0;n.push(t)})),(t=t||{}).element=e,t.parents=n,this.editor.fire("NodeChange",t))},t.prototype.isSameElementPath=function(t){var e,n;if((n=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t)).length===this.lastPath.length){for(e=n.length;0<=e&&n[e]===this.lastPath[e];e--);if(-1===e)return this.lastPath=n,!0}return this.lastPath=n,!1},t}(),uf=function(t){var e,n,r,i;return i=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,r=e.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}},df=function(t,e){return n=(s=t).inline?uf(s.getBody()):{left:0,top:0},a=(o=t).getBody(),r=o.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(i=function(t,e){if(e.target.ownerDocument===t.getDoc())return{left:e.pageX,top:e.pageY};var n,r,i,o,a,s=uf(t.getContentAreaContainer()),l=(r=(n=t).getBody(),i=n.getDoc().documentElement,o={left:r.scrollLeft,top:r.scrollTop},a={left:r.scrollLeft||i.scrollLeft,top:r.scrollTop||i.scrollTop},n.inline?o:a);return{left:e.pageX-s.left+l.left,top:e.pageY-s.top+l.top}}(t,e)).left-n.left+r.left,pageY:i.top-n.top+r.top};var n,r,i,o,a,s},ff=Mi.isContentEditableFalse,hf=Mi.isContentEditableTrue,pf=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},mf=function(t,e){return function(n){if(0===n.button){var r=G(e.dom.getParents(n.target),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=es.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}}(ff,hf)).getOr(null);if(s=e.getBody(),ff(l=r)&&l!==s){var i=e.dom.getPos(r),o=e.getBody(),a=e.getDoc().documentElement;t.element=r,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?o.scrollWidth:a.offsetWidth)-2,t.maxY=(e.inline?o.scrollHeight:a.offsetHeight)-2,t.relX=n.pageX-i.x,t.relY=n.pageY-i.y,t.width=r.offsetWidth,t.height=r.offsetHeight,t.ghost=function(t,e,n,r){var i=e.cloneNode(!0);t.dom.setStyles(i,{width:n,height:r}),t.dom.setAttrib(i,"data-mce-selected",null);var o=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),t.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o}(e,r,t.width,t.height)}}var s,l}},gf=function(t){t.dragging=!1,t.element=null,pf(t.ghost)},vf=function(e){var n,r,i,o,a,s,l,c,u,d,f,h,p,m={};n=To.DOM,s=t.document,r=mf(m,e),l=m,c=e,u=Rt.throttle((function(t,e){c._selectionOverrides.hideFakeCaret(),c.selection.placeCaretAt(t,e)}),0),i=function(t){var e,n,r,i,o,a,s,d,f,h,p,m,g=Math.max(Math.abs(t.screenX-l.screenX),Math.abs(t.screenY-l.screenY));if(l.element&&!l.dragging&&10<g){if(c.fire("dragstart",{target:l.element}).isDefaultPrevented())return;l.dragging=!0,c.focus()}if(l.dragging){var v=(p=l,{pageX:(m=df(c,t)).pageX-p.relX,pageY:m.pageY+5});f=l.ghost,h=c.getBody(),f.parentNode!==h&&h.appendChild(f),e=l.ghost,n=v,r=l.width,i=l.height,o=l.maxX,a=l.maxY,d=s=0,e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+r>o&&(s=n.pageX+r-o),n.pageY+i>a&&(d=n.pageY+i-a),e.style.width=r-s+"px",e.style.height=i-d+"px",u(t.clientX,t.clientY)}},h=m,p=e,o=function(t){if(h.dragging&&(o=3===(s=(i=p).selection.getSel().getRangeAt(0).startContainer).nodeType?s.parentNode:s)!==(a=h.element)&&!i.dom.isChildOf(o,a)&&!ff(o)){var e=((r=h.element.cloneNode(!0)).removeAttribute("data-mce-selected"),r),n=p.fire("drop",{targetClone:e,clientX:t.clientX,clientY:t.clientY});n.isDefaultPrevented()||(e=n.targetClone,p.undoManager.transact((function(){pf(h.element),p.insertContent(p.dom.getOuterHTML(e)),p._selectionOverrides.hideFakeCaret()})))}var r,i,o,a,s;gf(h)},d=m,a=function(){d.dragging&&f.fire("dragend"),gf(d)},(f=e).on("mousedown",r),e.on("mousemove",i),e.on("mouseup",o),n.bind(s,"mousemove",i),n.bind(s,"mouseup",a),e.on("remove",(function(){n.unbind(s,"mousemove",i),n.unbind(s,"mouseup",a)}))},bf=function(t){return Y(t,(function(t,e){return t.concat(function(t){var e=function(e){return U(e,(function(e){return(e=Ua(e)).node=t,e}))};if(Mi.isElement(t))return e(t.getClientRects());if(Mi.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(e))}),[])};(Xd=Wd||(Wd={}))[Xd.Up=-1]="Up",Xd[Xd.Down=1]="Down";var yf,Cf=function(t,e,n,r,i,o){var a,s,l=0,c=[],u=function(r){var o,a,u;for(u=bf([r]),-1===t&&(u=u.reverse()),o=0;o<u.length;o++)if(a=u[o],!n(a,s)){if(0<c.length&&e(a,$e.last(c))&&l++,a.line=l,i(a))return!0;c.push(a)}};return(s=$e.last(o.getClientRects()))&&(u(a=o.getNode()),function(t,e,n,r){for(;r=gl(r,t,ja,e);)if(n(r))return}(t,r,u,a)),c},wf=o(Cf,Wd.Up,Xa,Ka),xf=o(Cf,Wd.Down,Ka,Xa),_f=function(t){return function(e){return n=t,e.line>n;var n}},Ef=function(t){return function(e){return n=t,e.line===n;var n}},Sf=Mi.isContentEditableFalse,kf=gl,Nf=function(t,e){return Math.abs(t.left-e)},Tf=function(t,e){return Math.abs(t.right-e)},zf=function(t,e){return t>=e.left&&t<=e.right},Af=function(t,e){return $e.reduce(t,(function(t,n){var r,i;return r=Math.min(Nf(t,e),Tf(t,e)),i=Math.min(Nf(n,e),Tf(n,e)),zf(e,n)?n:zf(e,t)?t:i===r&&Sf(n.node)||i<r?n:t}))},Mf=function(t,e,n,r){for(;r=kf(r,t,ja,e);)if(n(r))return},Of=function(t,e,n){if(n.collapsed)return!1;if(zt.ie&&zt.ie<=11&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(Mi.isElement(r))return $(r.getClientRects(),(function(n){return Ya(n,t,e)}))}return $(n.getClientRects(),(function(n){return Ya(n,t,e)}))},Pf=Mi.isContentEditableTrue,Rf=Mi.isContentEditableFalse,Lf=function(t,e,n,r,i){return e._selectionOverrides.showCaret(t,n,r,i)},Df=function(t,e){var n,r;return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:((r=(n=e).ownerDocument.createRange()).selectNode(n),r)},Bf=function(t,e,n){var r=El(1,t.getBody(),e),i=xs.fromRangeStart(r),o=i.getNode();if(Rf(o))return Lf(1,t,o,!i.isAtEnd(),!1);var a=i.getNode(!0);if(Rf(a))return Lf(1,t,a,!1,!1);var s=t.dom.getParent(i.getNode(),(function(t){return Rf(t)||Pf(t)}));return Rf(s)?Lf(1,t,s,!1,n):null},Hf=function(t,e,n){return e&&e.collapsed&&Bf(t,e,n)||e},If={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return zt.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Vf=("",function(t){return""===t}),Ff=function(t){return/^[\r\n\t ]$/.test(t)},jf=function(t){return!Ff(t)&&!Vf(t)},$f=function(t,e,n){return M.from(n.container()).filter(Mi.isText).exists((function(r){var i=t?0:-1;return e(r.data.charAt(n.offset()+i))}))},Uf=o($f,!0,Ff),qf=o($f,!1,Ff),Wf=function(t){var e=t.container();return Mi.isText(e)&&0===e.data.length},Xf=function(t,e){return function(n){return M.from(yl(t?0:-1,n)).filter(e).isSome()}},Kf=function(t){return"IMG"===t.nodeName&&"block"===Or(cr(t),"display")},Yf=function(t){return Mi.isContentEditableFalse(t)&&!Mi.isBogusAll(t)},Gf=Xf(!0,Kf),Zf=Xf(!1,Kf),Jf=Xf(!0,Mi.isTable),Qf=Xf(!1,Mi.isTable),th=Xf(!0,Yf),eh=Xf(!1,Yf),nh=Mi.isContentEditableTrue,rh=Mi.isContentEditableFalse,ih=function(t,e){for(var n=t.getBody();e&&e!==n;){if(nh(e)||rh(e))return e;e=e.parentNode}return null},oh=function(e){var n,r=e.getBody(),i=il(e.getBody(),(function(t){return e.dom.isBlock(t)}),(function(){return Ku(e)})),a="sel-"+e.dom.uniqueId(),s=function(t){t&&e.selection.setRng(t)},l=function(){return e.selection.getRng()},c=function(t,n,r,o){return void 0===o&&(o=!0),e.fire("ShowCaret",{target:n,direction:t,before:r}).isDefaultPrevented()?null:(o&&e.selection.scrollIntoView(n,-1===t),i.show(r,n))},u=function(t,e){return e=El(t,r,e),-1===t?xs.fromRangeStart(e):xs.fromRangeEnd(e)},d=function(t){return Sa(t)||za(t)||Aa(t)},f=function(t){return d(t.startContainer)||d(t.endContainer)},h=function(t,r){var i,o,s,l,d,h,p,g,v,b,y=e.$,C=e.dom;if(!t)return null;if(t.collapsed){if(!f(t))if(!1===r){if(g=u(-1,t),al(g.getNode(!0)))return c(-1,g.getNode(!0),!1,!1);if(al(g.getNode()))return c(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=u(1,t),al(g.getNode()))return c(1,g.getNode(),!g.isAtEnd(),!1);if(al(g.getNode(!0)))return c(1,g.getNode(!0),!1,!1)}return null}return l=t.startContainer,d=t.startOffset,h=t.endOffset,3===l.nodeType&&0===d&&rh(l.parentNode)&&(l=l.parentNode,d=C.nodeIndex(l),l=l.parentNode),1!==l.nodeType?null:(h===d+1&&l===t.endContainer&&(i=l.childNodes[d]),rh(i)?(v=b=i.cloneNode(!0),(p=e.fire("ObjectSelected",{target:i,targetClone:v})).isDefaultPrevented()?null:(o=aa(cr(e.getBody()),"#"+a).fold((function(){return y([])}),(function(t){return y([t.dom()])})),v=p.targetClone,0===o.length&&(o=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",a)).appendTo(e.getBody()),t=e.dom.createRng(),v===b&&zt.ie?(o.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(v),t.setStartAfter(o[0].firstChild.firstChild),t.setEndAfter(v)):(o.empty().append("").append(v).append(""),t.setStart(o[0].firstChild,1),t.setEnd(o[0].lastChild,0)),o.css({top:C.getPos(i,e.getBody()).y}),o[0].focus(),(s=e.selection.getSel()).removeAllRanges(),s.addRange(t),q(ta(cr(e.getBody()),"*[data-mce-selected]"),(function(t){Mr(t,"data-mce-selected")})),i.setAttribute("data-mce-selected","1"),n=i,m(),t)):null)},p=function(){n&&(n.removeAttribute("data-mce-selected"),aa(cr(e.getBody()),"#"+a).each(Wo),n=null),aa(cr(e.getBody()),"#"+a).each(Wo),n=null},m=function(){i.hide()};return zt.ceFalse&&function(){e.on("mouseup",(function(t){var n=l();n.collapsed&&Cd(e,t.clientX,t.clientY)&&s(Bf(e,n,!1))})),e.on("click",(function(t){var n;(n=ih(e,t.target))&&(rh(n)&&(t.preventDefault(),e.focus()),nh(n)&&e.dom.isChildOf(n,e.selection.getNode())&&p())})),e.on("blur NewBlock",(function(){p()})),e.on("ResizeWindow FullscreenStateChanged",(function(){return i.reposition()}));var u,d;d=!1,(u=e).on("touchstart",(function(){d=!1})),u.on("touchmove",(function(){d=!0})),u.on("touchend",(function(t){var e=ih(u,t.target);rh(e)&&(d||(t.preventDefault(),h(Df(u,e))))})),e.on("mousedown",(function(t){var n,i=t.target;if((i===r||"HTML"===i.nodeName||e.dom.isChildOf(i,r))&&!1!==Cd(e,t.clientX,t.clientY))if(n=ih(e,i))rh(n)?(t.preventDefault(),h(Df(e,n))):(p(),nh(n)&&t.shiftKey||Of(t.clientX,t.clientY,e.selection.getRng())||(m(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(!1===al(i)){p(),m();var a=function(t,e,n){var r,i,a,s,l,c,u,d=bf(X(ot(t.getElementsByTagName("*")),al)),f=X(d,(function(t){return n>=t.top&&n<=t.bottom}));return(r=Af(f,e))&&(r=Af((s=t,u=function(t,e){var n;return n=X(bf([e]),(function(e){return!t(e,l)})),c=c.concat(n),0===n.length},(c=[]).push(l=r),Mf(Wd.Up,s,o(u,Xa),l.node),Mf(Wd.Down,s,o(u,Ka),l.node),c),e))&&al(r.node)?(a=e,{node:(i=r).node,before:Nf(i,a)<Tf(i,a)}):null}(r,t.clientX,t.clientY);if(a&&!function(t,n){var r,i,o=e.dom.getParent(t,e.dom.isBlock),a=e.dom.getParent(n,e.dom.isBlock);return!(!o||!e.dom.isChildOf(o,a)||!1!==rh(ih(e,o)))||o&&(r=o,i=a,!(e.dom.getParent(r,e.dom.isBlock)===e.dom.getParent(i,e.dom.isBlock)))&&function(t){var e=$l(t);if(!t.firstChild)return!1;var n=xs.before(t.firstChild),r=e.next(n);return r&&!th(r)&&!eh(r)}(o)}(t.target,a.node)){t.preventDefault();var l=c(1,a.node,a.before,!1);e.getBody().focus(),s(l)}}})),e.on("keypress",(function(t){If.modifierPressed(t)||(t.keyCode,rh(e.selection.getNode())&&t.preventDefault())})),e.on("GetSelectionRange",(function(t){var e=t.range;if(n){if(!n.parentNode)return void(n=null);(e=e.cloneRange()).selectNode(n),t.range=e}})),e.on("SetSelectionRange",(function(t){var e;(e=h(t.range,t.forward))&&(t.range=e)})),e.on("AfterSetSelectionRange",(function(t){var n,r=t.range;f(r)||"mcepastebin"===r.startContainer.parentNode.id||m(),n=r.startContainer.parentNode,e.dom.hasClass(n,"mce-offscreen-selection")||p()})),e.on("copy",(function(t){var n,r=t.clipboardData;if(!t.isDefaultPrevented()&&t.clipboardData&&!zt.ie){var i=(n=e.dom.get(a))?n.getElementsByTagName("*")[0]:n;i&&(t.preventDefault(),r.clearData(),r.setData("text/html",i.outerHTML),r.setData("text/plain",i.outerText))}})),function(t){var e;vf(t),(e=t).on("drop",(function(t){var n=void 0!==t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(ff(n)||ff(e.dom.getContentEditableParent(n)))&&t.preventDefault()}))}(e),function(e){var n=Ko((function(){if(!e.removed&&e.getBody().contains(t.document.activeElement)&&e.selection.getRng().collapsed){var n=Hf(e,e.selection.getRng(),!1);e.selection.setRng(n)}}),0);e.on("focus",(function(){n.throttle()})),e.on("blur",(function(){n.cancel()}))}(e)}(),{showCaret:c,showBlockCaretContainer:function(t){t.hasAttribute("data-mce-caret")&&(Ma(t),s(l()),e.selection.scrollIntoView(t[0]))},hideFakeCaret:m,destroy:function(){i.destroy(),n=null}}},ah=function(t){return Mi.isElement(t)?t.outerHTML:Mi.isText(t)?io.encodeRaw(t.data,!1):Mi.isComment(t)?"\x3c!--"+t.data+"--\x3e":""},sh=function(e,n){var r,i,o;return r=function(t,e){var n=t.length+e.length+2,r=new Array(n),i=new Array(n),o=function(n,r,i,a,l){var c=s(n,r,i,a);if(null===c||c.start===r&&c.diag===r-a||c.end===n&&c.diag===n-i)for(var u=n,d=i;u<r||d<a;)u<r&&d<a&&t[u]===e[d]?(l.push([0,t[u]]),++u,++d):a-i<r-n?(l.push([2,t[u]]),++u):(l.push([1,e[d]]),++d);else{o(n,c.start,i,c.start-c.diag,l);for(var f=c.start;f<c.end;++f)l.push([0,t[f]]);o(c.end,r,c.end-c.diag,a,l)}},a=function(n,r,i,o){for(var a=n;a-r<o&&a<i&&t[a]===e[a-r];)++a;return{start:n,end:a,diag:r}},s=function(n,o,s,l){var c=o-n,u=l-s;if(0===c||0===u)return null;var d,f,h,p,m,g=c-u,v=u+c,b=(v%2==0?v:v+1)/2;for(r[1+b]=n,i[1+b]=o+1,d=0;d<=b;++d){for(f=-d;f<=d;f+=2){for(h=f+b,f===-d||f!==d&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,m=(p=r[h])-n+s-f;p<o&&m<l&&t[p]===e[m];)r[h]=++p,++m;if(g%2!=0&&g-d<=f&&f<=g+d&&i[h-g]<=r[h])return a(i[h-g],f+n-s,o,l)}for(f=g-d;f<=g+d;f+=2){for(h=f+b-g,f===g-d||f!==g+d&&i[h+1]<=i[h-1]?i[h]=i[h+1]-1:i[h]=i[h-1],m=(p=i[h]-1)-n+s-f;n<=p&&s<=m&&t[p]===e[m];)i[h]=p--,m--;if(g%2==0&&-d<=f&&f<=d&&i[h]<=r[h+g])return a(i[h],f+n-s,o,l)}}},l=[];return o(0,t.length,0,e.length,l),l}(U(ot(n.childNodes),ah),e),i=n,o=0,q(r,(function(e){0===e[0]?o++:1===e[0]?(function(e,n,r){var i=function(e){var n,r,i;for(i=t.document.createElement("div"),n=t.document.createDocumentFragment(),e&&(i.innerHTML=e);r=i.firstChild;)n.appendChild(r);return n}(n);if(e.hasChildNodes()&&r<e.childNodes.length){var o=e.childNodes[r];o.parentNode.insertBefore(i,o)}else e.appendChild(i)}(i,e[1],o),o++):2===e[0]&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(i,o)})),n},lh=Po(M.none()),ch=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},uh=function(e){var n=sr("body",lh.get().getOrThunk((function(){var e=t.document.implementation.createHTMLDocument("undo");return lh.set(M.some(e)),e})));return va(n,ch(e)),q(ta(n,"*[data-mce-bogus]"),Xo),n.dom().innerHTML},dh=function(t){var e,n,r;return e=function(t){return X(U(ot(t.childNodes),ah),(function(t){return 0<t.length}))}(t.getBody()),-1!==(n=(r=tt(e,(function(e){var n=Qc(t.serializer,e);return 0<n.length?[n]:[]}))).join("")).indexOf("</iframe>")?function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}}(r):function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}}(n)},fh=function(t,e,n){"fragmented"===e.type?sh(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},hh=function(t,e){return!(!t||!e)&&(r=e,ch(t)===ch(r)||(n=e,uh(t)===uh(n)));var n,r},ph=function(t){var e,n,r=this,i=0,o=[],a=0,s=function(){return 0===a},l=function(t){s()&&(r.typing=t)},c=function(e){t.setDirty(e)},u=function(t){l(!1),r.add({},t)},d=function(){r.typing&&(l(!1),r.add())};return t.on("init",(function(){r.add()})),t.on("BeforeExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(d(),r.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&u(t)})),t.on("ObjectResizeStart cut",(function(){r.beforeChange()})),t.on("SaveContent ObjectResized blur",u),t.on("dragend",u),t.on("keyup",(function(e){var i=e.keyCode;e.isDefaultPrevented()||((33<=i&&i<=36||37<=i&&i<=40||45===i||e.ctrlKey)&&(u(),t.nodeChanged()),46!==i&&8!==i||t.nodeChanged(),n&&r.typing&&!1===hh(dh(t),o[0])&&(!1===t.isDirty()&&(c(!0),t.fire("change",{level:o[0],lastLevel:null})),t.fire("TypingUndo"),n=!1,t.nodeChanged()))})),t.on("keydown",(function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(33<=e&&e<=36||37<=e&&e<=40||45===e)r.typing&&u(t);else{var i=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||20<e)||224===e||91===e||r.typing||i||(r.beforeChange(),l(!0),r.add({},t),n=!0)}})),t.on("mousedown",(function(t){r.typing&&u(t)})),t.on("input",(function(t){var e;t.inputType&&("insertReplacementText"===t.inputType||"insertText"===(e=t).inputType&&null===e.data)&&u(t)})),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()})),r={data:o,typing:!1,beforeChange:function(){s()&&(e=$s.getUndoBookmark(t.selection))},add:function(n,r){var a,l,u,d=t.settings;if(u=dh(t),n=n||{},n=Ke.extend(n,u),!1===s()||t.removed)return null;if(l=o[i],t.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:r}).isDefaultPrevented())return null;if(l&&hh(l,n))return null;if(o[i]&&(o[i].beforeBookmark=e),d.custom_undo_redo_levels&&o.length>d.custom_undo_redo_levels){for(a=0;a<o.length-1;a++)o[a]=o[a+1];o.length--,i=o.length}n.bookmark=$s.getUndoBookmark(t.selection),i<o.length-1&&(o.length=i+1),o.push(n),i=o.length-1;var f={level:n,lastLevel:l,originalEvent:r};return t.fire("AddUndo",f),0<i&&(c(!0),t.fire("change",f)),n},undo:function(){var e;return r.typing&&(r.add(),r.typing=!1,l(!1)),0<i&&(e=o[--i],fh(t,e,!0),c(!0),t.fire("Undo",{level:e})),e},redo:function(){var e;return i<o.length-1&&(e=o[++i],fh(t,e,!1),c(!0),t.fire("Redo",{level:e})),e},clear:function(){o=[],i=0,r.typing=!1,r.data=o,t.fire("ClearUndos")},reset:function(){r.clear(),r.add()},hasUndo:function(){return 0<i||r.typing&&o[0]&&!hh(dh(t),o[0])},hasRedo:function(){return i<o.length-1&&!r.typing},transact:function(t){return d(),r.beforeChange(),r.ignore(t),r.add()},ignore:function(t){try{a++,t()}finally{a--}},extra:function(e,n){var a,s;r.transact(e)&&(s=o[i].bookmark,a=o[i-1],fh(t,a,!0),r.transact(n)&&(o[i-1].beforeBookmark=s))}}},mh=function(t){qo(t),$o(t,ar('<br data-mce-bogus="1">'))},gh=function(t){Qr(t).each((function(e){Wr(e).each((function(n){Li(t)&&Bi(e)&&Li(n)&&Wo(e)}))}))},vh=bc,bh=function(t,e,n){var r=t.formatter.get(n);if(r)for(var i=0;i<r.length;i++)if(!1===r[i].inherit&&t.dom.is(e,r[i].selector))return!0;return!1},yh=function(t,e,n,r){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,(function(e){return!!bh(t,e,n)||e.parentNode===i||!!xh(t,e,n,r,!0)})),xh(t,e,n,r))},Ch=function(t,e,n){return!!vh(e,n.inline)||!!vh(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)},wh=function(t,e,n,r,i,o){var a,s,l,c=n[r];if(n.onmatch)return n.onmatch(e,n,r);if(c)if(void 0===c.length){for(a in c)if(c.hasOwnProperty(a)){if(s="attributes"===r?t.getAttrib(e,a):Cc(t,e,a),i&&!s&&!n.exact)return;if((!i||n.exact)&&!vh(s,yc(t,vc(c[a],o),a)))return}}else for(l=0;l<c.length;l++)if("attributes"===r?t.getAttrib(e,c[l]):Cc(t,e,c[l]))return n;return n},xh=function(t,e,n,r,i){var o,a,s,l,c=t.formatter.get(n),u=t.dom;if(c&&e)for(a=0;a<c.length;a++)if(o=c[a],Ch(t.dom,e,o)&&wh(u,e,o,"attributes",i,r)&&wh(u,e,o,"styles",i,r)){if(l=o.classes)for(s=0;s<l.length;s++)if(!t.dom.hasClass(e,l[s]))return;return o}},_h={matchNode:xh,matchName:Ch,match:function(t,e,n,r){var i;return r?yh(t,r,e,n):(r=t.selection.getNode(),!!yh(t,r,e,n)||!((i=t.selection.getStart())===r||!yh(t,i,e,n)))},matchAll:function(t,e,n){var r,i=[],o={};return r=t.selection.getStart(),t.dom.getParent(r,(function(r){var a,s;for(a=0;a<e.length;a++)s=e[a],!o[s]&&xh(t,r,s,n)&&(o[s]=!0,i.push(s))}),t.dom.getRoot()),i},canApply:function(t,e){var n,r,i,o,a,s=t.formatter.get(e),l=t.dom;if(s)for(n=t.selection.getStart(),r=xc(l,n),o=s.length-1;0<=o;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(i=r.length-1;0<=i;i--)if(l.is(r[i],a))return!0}return!1},matchesUnInheritedFormatSelector:bh},Eh=function(t,e){return t.splitText(e)},Sh=function(t){var e=t.startContainer,n=t.startOffset,r=t.endContainer,i=t.endOffset;return e===r&&Mi.isText(e)?0<n&&n<e.nodeValue.length&&(e=(r=Eh(e,n)).previousSibling,n<i?(e=r=Eh(r,i-=n).previousSibling,i=r.nodeValue.length,n=0):i=0):(Mi.isText(e)&&0<n&&n<e.nodeValue.length&&(e=Eh(e,n),n=0),Mi.isText(r)&&0<i&&i<r.nodeValue.length&&(i=(r=Eh(r,i).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:r,endOffset:i}},kh=function(t,e,n){if(0!==n){var r,i,o,a=t.data.slice(e,e+n),s=e+n>=t.data.length,l=0===e;t.replaceData(e,n,(i=l,o=s,Y(r=a,(function(t,e){return-1!==" \f\n\r\t\v".indexOf(e)||""===e?t.previousCharIsSpace||""===t.str&&i||t.str.length===r.length-1&&o?{previousCharIsSpace:!1,str:t.str+""}:{previousCharIsSpace:!0,str:t.str+" "}:{previousCharIsSpace:!1,str:t.str+e}}),{previousCharIsSpace:!1,str:""}).str))}},Nh=function(t,e){var n,r=t.data.slice(e),i=r.length-(n=r,n.replace(/^\s+/g,"")).length;return kh(t,e,i)},Th=function(t,e){return Va(e)&&!1===(r=t,i=e,Mi.isText(i)&&/^[ \t\r\n]*$/.test(i.data)&&!1===function(t,e){var n,r,i=cr(t);return n=cr(e),r=o(Fr,i),oa(n,"pre,code",r).isSome()}(r,i))||(n=e,Mi.isElement(n)&&"A"===n.nodeName&&n.hasAttribute("name"))||zh(e);var n,r,i},zh=Mi.hasAttribute("data-mce-bookmark"),Ah=Mi.hasAttribute("data-mce-bogus"),Mh=Mi.hasAttributeValue("data-mce-bogus","all"),Oh=function(t){return function(t){var e,n=0;if(Th(t,t))return!1;if(!(e=t.firstChild))return!0;var r=new Oi(e,t);do{if(Mh(e))e=r.next(!0);else if(Ah(e))e=r.next();else if(Mi.isBr(e))n++,e=r.next();else{if(Th(t,e))return!1;e=r.next()}}while(e);return n<=1}(t.dom())},Ph=function(t,e){return r=t,i=(n=e).container(),o=n.offset(),!1===xs.isTextPosition(n)&&i===r.parentNode&&o>xs.before(r).offset()?xs(e.container(),e.offset()-1):e;var n,r,i,o},Rh=function(t){return Va(t.previousSibling)?M.some((e=t.previousSibling,Mi.isText(e)?xs(e,e.data.length):xs.after(e))):t.previousSibling?Ql.lastPositionIn(t.previousSibling):M.none();var e},Lh=function(t){return Va(t.nextSibling)?M.some((e=t.nextSibling,Mi.isText(e)?xs(e,0):xs.before(e))):t.nextSibling?Ql.firstPositionIn(t.nextSibling):M.none();var e},Dh=function(t,e,n){return(r=t,i=e,a=n,r?function(t,e){return Lh(e).orThunk((function(){return Rh(e)})).orThunk((function(){return n=t,r=e,Ql.nextPosition(n,xs.after(r)).fold((function(){return Ql.prevPosition(n,xs.before(r))}),M.some);var n,r}))}(i,a):function(t,e){return Rh(e).orThunk((function(){return Lh(e)})).orThunk((function(){return n=t,r=e,i=xs.before(r.previousSibling?r.previousSibling:r.parentNode),Ql.prevPosition(n,i).fold((function(){return Ql.nextPosition(n,xs.after(r))}),M.some);var n,r,i}))}(i,a)).map(o(Ph,n));var r,i,a},Bh=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},Hh=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(hr(e))},Ih=function(t){if(Oh(t)){var e=ar('<br data-mce-bogus="1">');return qo(t),$o(t,e),M.some(xs.before(e.dom()))}return M.none()},Vh=function(t,e,n,r){void 0===r&&(r=!0);var i,a,s=Dh(e,t.getBody(),n.dom()),l=ra(n,o(Hh,t),(i=t.getBody(),function(t){return t.dom()===i})),c=function(t,e,n){var r=Wr(t).filter(gr),i=Xr(t).filter(gr);return Wo(t),ts([r,i,e],(function(t,e,r){var i,o,a,s,l=t.dom(),c=e.dom(),u=l.data.length;return o=c,a=n,s=Zn((i=l).data).length,i.appendData(o.data),Wo(cr(o)),a&&Nh(i,s),r.container()===c?xs(l,u):r})).orThunk((function(){return n&&(r.each((function(t){return e=t.dom(),n=t.dom().length,i=(r=e.data.slice(0,n)).length-Zn(r).length,kh(e,n-i,i);var e,n,r,i})),i.each((function(t){return Nh(t.dom(),0)}))),e}))}(n,s,(a=n,Er(t.schema.getTextInlineElements(),hr(a))));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):l.bind(Ih).fold((function(){r&&Bh(t,e,c)}),(function(n){r&&Bh(t,e,M.some(n))}))},Fh=ya,jh="_mce_caret",$h=function(t){return 0<function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==Fh||1<t.childNodes.length)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length},Uh=function(t){if(t){var e=new Oi(t,t);for(t=e.current();t;t=e.next())if(3===t.nodeType)return t}return null},qh=function(t){var e=sr("span");return zr(e,{id:jh,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&$o(e,lr(Fh)),e},Wh=function(t,e,n){void 0===n&&(n=!0);var r,i=t.dom,o=t.selection;if($h(e))Vh(t,!1,cr(e),n);else{var a=o.getRng(),s=i.getParent(e,i.isBlock),l=((r=Uh(e))&&r.nodeValue.charAt(0)===Fh&&r.deleteData(0,1),r);a.startContainer===l&&0<a.startOffset&&a.setStart(l,a.startOffset-1),a.endContainer===l&&0<a.endOffset&&a.setEnd(l,a.endOffset-1),i.remove(e,!0),s&&i.isEmpty(s)&&mh(cr(s)),o.setRng(a)}},Xh=function(t,e,n){void 0===n&&(n=!0);var r=t.dom,i=t.selection;if(e)Wh(t,e,n);else if(!(e=Ws(t.getBody(),i.getStart())))for(;e=r.get(jh);)Wh(t,e,!1)},Kh=function(t,e,n){var r=t.dom,i=r.getParent(n,o(pc,t));i&&r.isEmpty(i)?n.parentNode.replaceChild(e,n):(function(t){var e=ta(t,"br"),n=X(function(t){for(var e=[],n=t.dom();n;)e.push(cr(n)),n=n.lastChild;return e}(t).slice(-1),Bi);e.length===n.length&&q(n,Wo)}(cr(n)),r.isEmpty(n)?n.parentNode.replaceChild(e,n):r.insertAfter(e,n))},Yh=function(t,e){return t.appendChild(e),e},Gh=function(t,e){var n=K(t,(function(t,e){return Yh(t,e.cloneNode(!1))}),e);return Yh(n,n.ownerDocument.createTextNode(Fh))},Zh=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(hr(e))&&!qs(e.dom())&&!Mi.isBogus(e.dom())},Jh={},Qh=$e.filter,tp=$e.each;yf=function(t){var e,n,r=t.selection.getRng();e=Mi.matchNodeNames(["pre"]),r.collapsed||(n=t.selection.getSelectedBlocks(),tp(Qh(Qh(n,e),(function(t){return e(t.previousSibling)&&-1!==$e.indexOf(n,t.previousSibling)})),(function(t){var e,n;e=t.previousSibling,zn(n=t).remove(),zn(e).append("<br><br>").append(n.childNodes)})))},Jh["pre"]||(Jh.pre=[]),Jh.pre.push(yf);var ep=Ke.each,np=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var r=function(e){var n={};return ep(t.getAttribs(e),(function(r){var i=r.nodeName.toLowerCase();0!==i.indexOf("_")&&"style"!==i&&0!==i.indexOf("data-")&&(n[i]=t.getAttrib(e,i))})),n},i=function(t,e){var n,r;for(r in t)if(t.hasOwnProperty(r)){if(void 0===(n=e[r]))return!1;if(t[r]!==n)return!1;delete e[r]}for(r in e)if(e.hasOwnProperty(r))return!1;return!0};return!(!i(r(e),r(n))||!i(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||lc(e)||lc(n))}},rp=/^(src|href|style)$/,ip=Ke.each,op=bc,ap=function(t,e,n){return t.isChildOf(e,n)&&e!==n&&!t.isBlock(n)},sp=function(t,e,n){var r,i,o;return r=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],Mi.isElement(r)&&(o=r.childNodes.length-1,!n&&i&&i--,r=r.childNodes[o<i?o:i]),Mi.isText(r)&&n&&i>=r.nodeValue.length&&(r=new Oi(r,t.getBody()).next()||r),Mi.isText(r)&&!n&&0===i&&(r=new Oi(r,t.getBody()).prev()||r),r},lp=function(t,e,n,r){var i=t.create(n,r);return e.parentNode.insertBefore(i,e),i.appendChild(e),i},cp=function(t,e,n,r,i){var o=cr(e),a=cr(t.create(r,i)),s=n?Yr(o):Kr(o);return Uo(a,s),n?(Vo(o,a),jo(a,o)):(Fo(o,a),$o(a,o)),a.dom()},up=function(t,e,n,r){return!(e=hc(e,n,r))||"BR"===e.nodeName||t.isBlock(e)},dp=function(t,e,n,r,i){var o,a,s,l,c,u,d,f,h,p,m,g,v,b,y=t.dom;if(c=y,!(op(u=r,(d=e).inline)||op(u,d.block)||(d.selector?Mi.isElement(u)&&c.is(u,d.selector):void 0)||(l=r,e.links&&"A"===l.tagName)))return!1;if("all"!==e.remove)for(ip(e.styles,(function(t,o){t=yc(y,vc(t,n),o),"number"==typeof o&&(o=t,i=0),(e.remove_similar||!i||op(Cc(y,i,o),t))&&y.setStyle(r,o,""),s=1})),s&&""===y.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),ip(e.attributes,(function(t,o){var a;if(t=vc(t,n),"number"==typeof o&&(o=t,i=0),e.remove_similar||!i||op(y.getAttrib(i,o),t)){if("class"===o&&(t=y.getAttrib(r,o))&&(a="",ip(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(a+=(a?" ":"")+t)})),a))return void y.setAttrib(r,o,a);"class"===o&&r.removeAttribute("className"),rp.test(o)&&r.removeAttribute("data-mce-"+o),r.removeAttribute(o)}})),ip(e.classes,(function(t){t=vc(t,n),i&&!y.hasClass(i,t)||y.removeClass(r,t)})),a=y.getAttribs(r),o=0;o<a.length;o++){var C=a[o].nodeName;if(0!==C.indexOf("_")&&0!==C.indexOf("data-"))return!1}return"none"!==e.remove?(f=t,p=e,g=(h=r).parentNode,v=f.dom,b=nu(f),p.block&&(b?g===v.getRoot()&&(p.list_block&&op(h,p.list_block)||ip(Ke.grep(h.childNodes),(function(t){mc(f,b,t.nodeName.toLowerCase())?m?m.appendChild(t):(m=lp(v,t,b),v.setAttribs(m,f.settings.forced_root_block_attrs)):m=0}))):v.isBlock(h)&&!v.isBlock(g)&&(up(v,h,!1)||up(v,h.firstChild,!0,1)||h.insertBefore(v.create("br"),h.firstChild),up(v,h,!0)||up(v,h.lastChild,!1,1)||h.appendChild(v.create("br")))),p.selector&&p.inline&&!op(p.inline,h)||v.remove(h,1),!0):void 0},fp=dp,hp=function(t,e,n,r,i){var o,a,s=t.formatter.get(e),l=s[0],c=!0,u=t.dom,d=t.selection,f=function(r){var o,a,c,u,d,f,h=(a=r,c=e,u=n,d=i,ip(xc((o=t).dom,a.parentNode).reverse(),(function(t){var e;f||"_start"===t.id||"_end"===t.id||(e=_h.matchNode(o,t,c,u,d))&&!1!==e.split&&(f=t)})),f);return function(t,e,n,r,i,o,a,s){var l,c,u,d,f,h,p=t.dom;if(n){for(h=n.parentNode,l=r.parentNode;l&&l!==h;l=l.parentNode){for(c=p.clone(l,!1),f=0;f<e.length;f++)if(dp(t,e[f],s,c,c)){c=0;break}c&&(u&&c.appendChild(u),d||(d=c),u=c)}a.mixed&&p.isBlock(n)||(r=p.split(n,r)),u&&(i.parentNode.insertBefore(u,i),d.appendChild(i))}return r}(t,s,h,r,r,0,l,n)},h=function(e){var r,i,o,a,d;if(Mi.isElement(e)&&u.getContentEditable(e)&&(a=c,c="true"===u.getContentEditable(e),d=!0),r=Ke.grep(e.childNodes),c&&!d)for(i=0,o=s.length;i<o&&!dp(t,s[i],n,e,e);i++);if(l.deep&&r.length){for(i=0,o=r.length;i<o;i++)h(r[i]);d&&(c=a)}},p=function(t){var e,n=u.get(t?"_start":"_end"),r=n[t?"firstChild":"lastChild"];return lc(e=r)&&Mi.isElement(e)&&("_start"===e.id||"_end"===e.id)&&(r=r[t?"firstChild":"lastChild"]),Mi.isText(r)&&0===r.data.length&&(r=t?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),u.remove(n,!0),r},m=function(e){var n,r,i=e.commonAncestorContainer;if(e=Rc(t,e,s,!0),l.split){if(e=Sh(e),(n=sp(t,e,!0))!==(r=sp(t,e))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&/^(TH|TD)$/.test(r.nodeName)&&r.firstChild&&(r=r.firstChild||r),ap(u,n,r)){var o=M.from(n.firstChild).getOr(n);return f(cp(u,o,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(ap(u,r,n))return o=M.from(r.lastChild).getOr(r),f(cp(u,o,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1);n=lp(u,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=lp(u,r,"span",{id:"_end","data-mce-type":"bookmark"}),f(n),f(r),n=p(!0),r=p()}else n=r=f(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=u.nodeIndex(n),e.endContainer=r.parentNode?r.parentNode:r,e.endOffset=u.nodeIndex(r)+1}Dc(u,e,(function(e){ip(e,(function(e){h(e),Mi.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===wc(u,e.parentNode)&&dp(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))};if(r)r.nodeType?((a=u.createRng()).setStartBefore(r),a.setEndAfter(r),m(a)):m(r);else if("false"!==u.getContentEditable(d.getNode()))d.isCollapsed()&&l.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length?function(t,e,n,r){var i,o,a,s,l,c,u,d=t.dom,f=t.selection,h=[],p=f.getRng();for(i=p.startContainer,o=p.startOffset,3===(l=i).nodeType&&(o!==i.nodeValue.length&&(s=!0),l=l.parentNode);l;){if(_h.matchNode(t,l,e,n,r)){c=l;break}l.nextSibling&&(s=!0),h.push(l),l=l.parentNode}if(c)if(s){a=f.getBookmark(),p.collapse(!0);var m=Rc(t,p,t.formatter.get(e),!0);m=Sh(m),t.formatter.remove(e,n,m),f.moveToBookmark(a)}else{u=Ws(t.getBody(),c);var g=qh(!1).dom(),v=Gh(h,g);Kh(t,g,u||c),Wh(t,u,!1),f.setCursorLocation(v,1),d.isEmpty(c)&&d.remove(c)}}(t,e,n,i):(o=$s.getPersistentBookmark(t.selection,!0),m(d.getRng()),d.moveToBookmark(o),l.inline&&_h.match(t,e,n,d.getStart())&&fc(u,d,d.getRng()),t.nodeChanged());else{r=d.getNode();for(var g=0,v=s.length;g<v&&(!s[g].ceFalseOverride||!dp(t,s[g],n,r,r));g++);}},pp=Ke.each,mp=function(t){return t&&1===t.nodeType&&!lc(t)&&!qs(t)&&!Mi.isBogus(t)},gp=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!lc(n))return n}return t},vp=function(t,e,n){var r,i,o=new np(t);if(e&&n&&(e=gp(e,"previousSibling"),n=gp(n,"nextSibling"),o.compare(e,n))){for(r=e.nextSibling;r&&r!==n;)r=(i=r).nextSibling,e.appendChild(i);return t.remove(n),Ke.each(Ke.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n},bp=function(t,e,n){pp(t.childNodes,(function(t){mp(t)&&(e(t)&&n(t),t.hasChildNodes()&&bp(t,e,n))}))},yp=function(t,e){return o((function(e,n){return!(!n||!Cc(t,n,e))}),e)},Cp=function(t,e,n){return o((function(e,n,r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),wp(t,r)}),e,n)},wp=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},xp=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=wc(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},_p=function(e){return e.collapsed?e:(n=e,r=xs.fromRangeStart(n),i=xs.fromRangeEnd(n),o=n.commonAncestorContainer,Ql.fromPosition(!1,o,i).map((function(e){return!bl(r,i,o)&&bl(r,e,o)?(a=r.container(),s=r.offset(),l=e.container(),c=e.offset(),(u=t.document.createRange()).setStart(a,s),u.setEnd(l,c),u):n;var a,s,l,c,u})).getOr(n));var n,r,i,o},Ep=Ke.each,Sp=function(t,e,n,r){var i,a,s=t.formatter.get(e),l=s[0],c=!r&&t.selection.isCollapsed(),u=t.dom,d=t.selection,f=function(t,e){if(e=e||l,t){if(e.onformat&&e.onformat(t,e,n,r),Ep(e.styles,(function(e,r){u.setStyle(t,r,vc(e,n))})),e.styles){var i=u.getAttrib(t,"style");i&&t.setAttribute("data-mce-style",i)}Ep(e.attributes,(function(e,r){u.setAttrib(t,r,vc(e,n))})),Ep(e.classes,(function(e){e=vc(e,n),u.hasClass(t,e)||u.addClass(t,e)}))}},h=function(t,e){var n=!1;return!!l.selector&&(Ep(t,(function(t){if(!("collapsed"in t)||t.collapsed===c)return u.is(e,t.selector)&&!qs(e)?(f(e,t),!(n=!0)):void 0})),n)},p=function(r,i,o,a){var c,u,d=[],p=!0;c=l.inline||l.block,u=r.create(c),f(u),Dc(r,i,(function(i){var o,m=function(i){var g,v,b,y;if(y=p,g=i.nodeName.toLowerCase(),v=i.parentNode.nodeName.toLowerCase(),1===i.nodeType&&r.getContentEditable(i)&&(y=p,p="true"===r.getContentEditable(i),b=!0),bc(g,"br"))return o=0,void(l.block&&r.remove(i));if(l.wrapper&&_h.matchNode(t,i,e,n))o=0;else{if(p&&!b&&l.block&&!l.wrapper&&pc(t,g)&&mc(t,v,c))return i=r.rename(i,c),f(i),d.push(i),void(o=0);if(l.selector){var C=h(s,i);if(!l.inline||C)return void(o=0)}!p||b||!mc(t,c,g)||!mc(t,v,c)||!a&&3===i.nodeType&&1===i.nodeValue.length&&65279===i.nodeValue.charCodeAt(0)||qs(i)||l.inline&&r.isBlock(i)?(o=0,Ep(Ke.grep(i.childNodes),m),b&&(p=y),o=0):(o||(o=r.clone(u,!1),i.parentNode.insertBefore(o,i),d.push(o)),o.appendChild(i))}};Ep(i,m)})),!0===l.links&&Ep(d,(function(t){var e=function(t){"A"===t.nodeName&&f(t,l),Ep(Ke.grep(t.childNodes),e)};e(t)})),Ep(d,(function(i){var o,a,c,u,h,p,m;a=0,Ep(i.childNodes,(function(t){gc(t)||lc(t)||a++})),o=a,!(1<d.length)&&r.isBlock(i)||0!==o?(l.inline||l.wrapper)&&(l.exact||1!==o||(p=c=i,m=!1,Ep(p.childNodes,(function(t){if((e=t)&&1===e.nodeType&&!lc(e)&&!qs(e)&&!Mi.isBogus(e))return m=t,!1;var e})),(u=m)&&!lc(u)&&_h.matchName(r,u,l)&&(h=r.clone(u,!1),f(h),r.replace(h,c,!0),r.remove(u,1)),i=h||c),function(t,e,n,r){pp(e,(function(e){pp(t.dom.select(e.inline,r),(function(r){mp(r)&&fp(t,e,n,r,e.exact?r:null)})),function(t,e,n){if(e.clear_child_styles){var r=e.links?"*:not(a)":"*";pp(t.select(r,n),(function(n){mp(n)&&pp(e.styles,(function(e,r){t.setStyle(n,r,"")}))}))}}(t.dom,e,r)}))}(t,s,n,i),function(t,e,n,r,i){_h.matchNode(t,i.parentNode,n,r)&&fp(t,e,r,i)||e.merge_with_parents&&t.dom.getParent(i.parentNode,(function(o){if(_h.matchNode(t,o,n,r))return fp(t,e,r,i),!0}))}(t,l,e,n,i),function(t,e,n,r){e.styles&&e.styles.backgroundColor&&bp(r,yp(t,"fontSize"),Cp(t,"backgroundColor",vc(e.styles.backgroundColor,n)))}(r,l,n,i),function(t,e,n,r){"sub"!==e.inline&&"sup"!==e.inline||(bp(r,yp(t,"fontSize"),Cp(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",r),!0))}(r,l,0,i),function(t,e,n,r){r&&!1!==e.merge_siblings&&(r=vp(t,hc(r),r),r=vp(t,r,hc(r,!0)))}(r,l,0,i)):r.remove(i,1)}))};if("false"!==u.getContentEditable(d.getNode())){if(l){if(r)r.nodeType?h(s,r)||((a=u.createRng()).setStartBefore(r),a.setEndAfter(r),p(u,Rc(t,a,s),0,!0)):p(u,r,0,!0);else if(c&&l.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length)!function(t,e,n){var r,i,o,a,s,l,c=t.selection;a=(r=c.getRng()).startOffset,l=r.startContainer.nodeValue,(i=Ws(t.getBody(),c.getStart()))&&(o=Uh(i));var u,d,f=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&0<a&&a<l.length&&f.test(l.charAt(a))&&f.test(l.charAt(a-1))?(s=c.getBookmark(),r.collapse(!0),r=Rc(t,r,t.formatter.get(e)),r=Sh(r),t.formatter.apply(e,n,r),c.moveToBookmark(s)):(i&&o.nodeValue===Fh||(u=t.getDoc(),d=qh(!0).dom(),o=(i=u.importNode(d,!0)).firstChild,r.insertNode(i),a=1),t.formatter.apply(e,n,i),c.setCursorLocation(o,a))}(t,e,n);else{var m=t.selection.getNode();t.settings.forced_root_block||!s[0].defaultBlock||u.getParent(m,u.isBlock)||Sp(t,s[0].defaultBlock),t.selection.setRng(_p(t.selection.getRng())),i=$s.getPersistentBookmark(t.selection,!0),p(u,Rc(t,d.getRng(),s)),l.styles&&function(t,e,n,r){(e.styles.color||e.styles.textDecoration)&&(Ke.walk(r,o(xp,t),"childNodes"),xp(t,r))}(u,l,0,m),d.moveToBookmark(i),fc(u,d,d.getRng()),t.nodeChanged()}!function(t,e){tp(Jh[t],(function(t){t(e)}))}(e,t)}}else{r=d.getNode();for(var g=0,v=s.length;g<v;g++)if(s[g].ceFalseOverride&&u.is(r,s[g].selector))return void f(r,s[g])}},kp={applyFormat:Sp},Np=function(t,e,n,r){return xr(t,(function(t,i){return!!Er(e,i)||(q(t,(function(t){t(!1,{node:n,format:i,parents:r})})),!1)})).t},Tp=function(t,e,n,r,i){var o,a,s,l,c,u,d,f;return null===e.get()&&(o=e,a=t,s=Po({}),o.set({}),a.on("NodeChange",(function(t){!function(t,e,n,r){var i=vr(n.get()),o={},a={},s=X(xc(t.dom,e),(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")}));yr(r,(function(e,n){Ke.each(s,(function(r){return t.formatter.matchNode(r,n,{},e.similar)?(-1===i.indexOf(n)&&(q(e.callbacks,(function(t){t(!0,{node:r,format:n,parents:s})})),o[n]=e.callbacks),a[n]=e.callbacks,!1):!_h.matchesUnInheritedFormatSelector(t,r,n)&&void 0}))}));var l=Np(n.get(),a,e,s);n.set(at({},o,l))}(a,t.element,s,o.get())}))),c=n,u=r,d=i,f=(l=e).get(),q(c.split(","),(function(t){f[t]||(f[t]={similar:d,callbacks:[]}),f[t].callbacks.push(u)})),l.set(f),{unbind:function(){return i=n,o=r,a=(t=e).get(),q(i.split(","),(function(t){a[t].callbacks=X(a[t].callbacks,(function(t){return t!==o})),0===a[t].callbacks.length&&delete a[t]})),void t.set(a);var t,i,o,a}}},zp=Ke.each,Ap=To.DOM,Mp=function(t,e){var n,r,i,o=e&&e.schema||mo({}),a=function(t){var e,n,i;return r="string"==typeof t?{name:t,classes:[],attrs:{}}:t,n=e=Ap.create(r.name),(i=r).classes.length&&Ap.addClass(n,i.classes.join(" ")),Ap.setAttribs(n,i.attrs),e},s=function(t,e,n){var r,i,l,c,u,d,f,h,p=0<e.length&&e[0],m=p&&p.name;if(u=m,d="string"!=typeof(c=t)?c.nodeName.toLowerCase():c,l=!(!(h=(f=o.getElementRule(d))&&f.parentsRequired)||!h.length)&&(u&&-1!==Ke.inArray(h,u)?u:h[0]))m===l?(i=e[0],e=e.slice(1)):i=l;else if(p)i=e[0],e=e.slice(1);else if(!n)return t;return i&&(r=a(i)).appendChild(t),n&&(r||(r=Ap.create("div")).appendChild(t),Ke.each(n,(function(e){var n=a(e);r.insertBefore(n,t)}))),s(r,e,i&&i.siblings)};return t&&t.length?(r=t[0],n=a(r),(i=Ap.create("div")).appendChild(s(n,t.slice(1),r.siblings)),i):""},Op=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=Ke.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,r,i,o){switch(e){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":-1!==Ke.inArray("checked disabled enabled read-only required".split(" "),r)&&(n.attrs[r]=r)}if("["===i){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""}))),n.name=e||"div",n},Pp=function(t,e){var n,r,i,o,a,s,l="";if(!1===(s=t.settings.preview_styles))return"";"string"!=typeof s&&(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var c=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(s=e.preview)?"":(n=e.block||e.inline||"span",r=(o=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ke.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=Ke.map(t.split(/(?:~\+|~|\+)/),Op),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]}(e.selector)).length?(o[0].name||(o[0].name=n),n=e.selector,Mp(o,t)):Mp([n],t),i=Ap.select(n,r)[0]||r.firstChild,zp(e.styles,(function(t,e){(t=c(t))&&Ap.setStyle(i,e,t)})),zp(e.attributes,(function(t,e){(t=c(t))&&Ap.setAttrib(i,e,t)})),zp(e.classes,(function(t){t=c(t),Ap.hasClass(i,t)||Ap.addClass(i,t)})),t.fire("PreviewFormats"),Ap.setStyles(r,{position:"absolute",left:-65535}),t.getBody().appendChild(r),a=Ap.getStyle(t.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,zp(s.split(" "),(function(e){var n=Ap.getStyle(i,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Ap.getStyle(t.getBody(),e,!0),"#ffffff"===Ap.toHex(n).toLowerCase())||"color"===e&&"#000000"===Ap.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*a+"px"}"border"===e&&n&&(l+="padding:0 2px;"),l+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),Ap.remove(r),l)},Rp=function(t,e,n,r,i){var o=e.get(n);!_h.match(t,n,r,i)||"toggle"in o[0]&&!o[0].toggle?kp.applyFormat(t,n,r,i):hp(t,n,r,i)},Lp=function(t){var e,n=function(t){var e={},n=function(t,r){t&&("string"!=typeof t?Ke.each(t,(function(t,e){n(e,t)})):(L(r)||(r=[r]),Ke.each(r,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=r))};return n(function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,r){Ke.each(r,(function(n,r){t.setAttrib(e,r,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Ke.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e}(t.dom)),n(t.settings.formats),{get:function(t){return t?e[t]:e},has:function(t){return Er(e,t)},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),r=Po(null);return function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])}(t),(e=t).on("mouseup keydown",(function(t){var n,r,i,o;n=e,r=t.keyCode,i=n.selection,o=n.getBody(),Xh(n,null,!1),8!==r&&46!==r||!i.isCollapsed()||i.getStart().innerHTML!==Fh||Xh(n,Ws(o,i.getStart())),37!==r&&39!==r||Xh(n,Ws(o,i.getStart()))})),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:o(kp.applyFormat,t),remove:o(hp,t),toggle:o(Rp,t,n),match:o(_h.match,t),matchAll:o(_h.matchAll,t),matchNode:o(_h.matchNode,t),canApply:o(_h.canApply,t),formatChanged:o(Tp,t,r),getCssText:o(Pp,t)}},Dp=function(t,e){var n,r=bo();e.convert_fonts_to_spans&&function(t,e,n){t.addNodeFilter("font",(function(t){q(t,(function(t){var r,i=e.parse(t.attr("style")),o=t.attr("color"),a=t.attr("face"),s=t.attr("size");o&&(i.color=o),a&&(i["font-family"]=a),s&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),r=t,q(["color","face","size"],(function(t){r.attr(t,null)}))}))}))}(t,r,Ke.explode(e.font_size_legacy_values)),n=r,t.addNodeFilter("strike",(function(t){q(t,(function(t){var e=n.parse(t.attr("style"));e["text-decoration"]="line-through",t.name="span",t.attr("style",n.serialize(e))}))}))},Bp=function(t,e,n,r){(t.padd_empty_with_br||e.insert)&&n[r.name]?r.empty().append(new qc("br",1)).shortEnded=!0:r.empty().append(new qc("#text",3)).value=""},Hp=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},Ip=function(t,e,n,r){return r.isEmpty(e,n,(function(e){return n=e,(r=t.getElementRule(n.name))&&r.paddEmpty;var n,r}))},Vp=Ke.makeMap,Fp=Ke.each,jp=Ke.explode,$p=Ke.extend,Up=function(t,e){void 0===e&&(e=mo());var n={},r=[],i={},o={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var a,s,l,c=function(t){var e,a,s;(a=t.name)in n&&((s=i[a])?s.push(t):i[a]=[t]),e=r.length;for(;e--;)(a=r[e].name)in t.attributes.map&&((s=o[a])?s.push(t):o[a]=[t]);return t},u={schema:e,addAttributeFilter:function(t,e){Fp(jp(t),(function(t){var n;for(n=0;n<r.length;n++)if(r[n].name===t)return void r[n].callbacks.push(e);r.push({name:t,callbacks:[e]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(t,e){Fp(jp(t),(function(t){var r=n[t];r||(n[t]=r=[]),r.push(e)}))},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:c,parse:function(a,s){var l,u,d,f,h,p,m,g,v,b,y,C=[];s=s||{},i={},o={},v=$p(Vp("script,style,head,html,body,title,meta,param"),e.getBlockElements());var w,x=e.getNonEmptyElements(),_=e.children,E=t.validate,S=!1===(w="forced_root_block"in s?s.forced_root_block:t.forced_root_block)?"":!0===w?"p":w,k=e.getWhiteSpaceElements(),N=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,z=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;b=k.hasOwnProperty(s.context)||k.hasOwnProperty(t.root_name);var M=function(t,e){var r,o=new qc(t,e);return t in n&&((r=i[t])?r.push(o):i[t]=[o]),o},O=function(t){var n,r,i,o,a=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if(0<(i=n.value.replace(T,"")).length)return void(n.value=i);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};l=Gc({validate:E,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){y.append(M("#cdata",4)).value=t},text:function(t,e){var n,r;b||(t=t.replace(z," "),(r=y.lastChild)&&(v[r.name]||"br"===r.name)&&(t=t.replace(N,""))),0!==t.length&&((n=M("#text",3)).raw=!!e,y.append(n).value=t)},comment:function(t){y.append(M("#comment",8)).value=t},pi:function(t,e){y.append(M(t,7)).value=e,O(y)},doctype:function(t){y.append(M("#doctype",10)).value=t,O(y)},start:function(t,n,i){var a,s,l,c,u;if(l=E?e.getElementRule(t):{}){for((a=M(l.outputName||t,1)).attributes=n,a.shortEnded=i,y.append(a),(u=_[y.name])&&_[a.name]&&!u[a.name]&&C.push(a),s=r.length;s--;)(c=r[s].name)in n.map&&((m=o[c])?m.push(a):o[c]=[a]);v[t]&&O(a),i||(y=a),!b&&k[t]&&(b=!0)}},end:function(n){var r,i,o,a,l,c;if(i=E?e.getElementRule(n):{}){if(v[n]&&!b){if((r=y.firstChild)&&3===r.type)if(0<(o=r.value.replace(N,"")).length)r.value=o,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)o=r.value,a=r.next,(0===o.length||A.test(o))&&(r.remove(),r=a),r=a;if((r=y.lastChild)&&3===r.type)if(0<(o=r.value.replace(T,"")).length)r.value=o,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)o=r.value,a=r.prev,(0===o.length||A.test(o))&&(r.remove(),r=a),r=a}if(b&&k[n]&&(b=!1),i.removeEmpty&&Ip(e,x,k,y)&&!y.attr("name")&&!y.attr("id"))return l=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=l);i.paddEmpty&&(Hp(c=y,"#text")&&""===c.firstChild.value||Ip(e,x,k,y))&&Bp(t,s,v,y),y=y.parent}}},e);var P=y=new qc(s.context||t.root_name,11);if(l.parse(a),E&&C.length&&(s.context?s.invalid=!0:function(t){var n,r,i,o,a,s,l,u,d,f,h,p,m,g,v,b;for(p=Vp("tr,td,th,tbody,thead,tfoot,table"),f=e.getNonEmptyElements(),h=e.getWhiteSpaceElements(),m=e.getTextBlockElements(),g=e.getSpecialElements(),n=0;n<t.length;n++)if((r=t[n]).parent&&!r.fixed)if(m[r.name]&&"li"===r.parent.name){for(v=r.next;v&&m[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(o=[r],i=r.parent;i&&!e.isValidChild(i.name,r.name)&&!p[i.name];i=i.parent)o.push(i);if(i&&1<o.length){for(o.reverse(),a=s=c(o[0].clone()),d=0;d<o.length-1;d++){for(e.isValidChild(s.name,o[d].name)?(l=c(o[d].clone()),s.append(l)):l=s,u=o[d].firstChild;u&&u!==o[d+1];)b=u.next,l.append(u),u=b;s=l}Ip(e,f,h,a)?i.insert(r,o[0],!0):(i.insert(a,o[0],!0),i.insert(r,a)),i=o[0],(Ip(e,f,h,i)||Hp(i,"br"))&&i.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(c(new qc("ul",1)));continue}e.isValidChild(r.parent.name,"div")&&e.isValidChild("div",r.name)?r.wrap(c(new qc("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}}(C)),S&&("body"===P.name||s.isRootContent)&&function(){var n,r,i=P.firstChild,o=function(t){t&&((i=t.firstChild)&&3===i.type&&(i.value=i.value.replace(N,"")),(i=t.lastChild)&&3===i.type&&(i.value=i.value.replace(T,"")))};if(e.isValidChild(P.name,S.toLowerCase())){for(;i;)n=i.next,3===i.type||1===i.type&&"p"!==i.name&&!v[i.name]&&!i.attr("data-mce-type")?(r||((r=M(S,1)).attr(t.forced_root_block_attrs),P.insert(r,i)),r.append(i)):(o(r),r=null),i=n;o(r)}}(),!s.invalid){for(g in i)if(i.hasOwnProperty(g)){for(m=n[g],h=(u=i[g]).length;h--;)u[h].parent||u.splice(h,1);for(d=0,f=m.length;d<f;d++)m[d](u,g,s)}for(d=0,f=r.length;d<f;d++)if((m=r[d]).name in o){for(h=(u=o[m.name]).length;h--;)u[h].parent||u.splice(h,1);for(h=0,p=m.callbacks.length;h<p;h++)m.callbacks[h](u,m.name,s)}}return P}};return l=(a=u).schema,(s=t).remove_trailing_brs&&a.addNodeFilter("br",(function(t,e,n){var r,i,o,a,c,u,d,f,h=t.length,p=Ke.extend({},l.getBlockElements()),m=l.getNonEmptyElements(),g=l.getNonEmptyElements();for(p.body=1,r=0;r<h;r++)if(o=(i=t[r]).parent,p[i.parent.name]&&i===o.lastChild){for(c=i.prev;c;){if("span"!==(u=c.name)||"bookmark"!==c.attr("data-mce-type")){if("br"!==u)break;if("br"===u){i=null;break}}c=c.prev}i&&(i.remove(),Ip(l,m,g,o)&&(d=l.getElementRule(o.name))&&(d.removeEmpty?o.remove():d.paddEmpty&&Bp(s,n,p,o)))}else{for(a=i;o&&o.firstChild===a&&o.lastChild===a&&!p[(a=o).name];)o=o.parent;a===o&&!0!==s.padd_empty_with_br&&((f=new qc("#text",3)).value="",i.replace(f))}})),a.addAttributeFilter("href",(function(t){var e,n,r,i=t.length;if(!s.allow_unsafe_link_target)for(;i--;)"a"===(e=t[i]).name&&"_blank"===e.attr("target")&&e.attr("rel",(r=(n=e.attr("rel"))?Ke.trim(n):"",/\b(noopener)\b/g.test(r)?r:r.split(" ").filter((function(t){return 0<t.length})).concat(["noopener"]).sort().join(" ")))})),s.allow_html_in_named_anchor||a.addAttributeFilter("id,name",(function(t){for(var e,n,r,i,o=t.length;o--;)if("a"===(i=t[o]).name&&i.firstChild&&!i.attr("href"))for(r=i.parent,e=i.lastChild;n=e.prev,r.insert(e,i),e=n;);})),s.fix_list_elements&&a.addNodeFilter("ul,ol",(function(t){for(var e,n,r=t.length;r--;)if("ul"===(n=(e=t[r]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var i=new qc("li",1);i.attr("style","list-style-type: none"),e.wrap(i)}})),s.validate&&l.getValidClasses()&&a.addAttributeFilter("class",(function(t){for(var e,n,r,i,o,a,s,c=t.length,u=l.getValidClasses();c--;){for(n=(e=t[c]).attr("class").split(" "),o="",r=0;r<n.length;r++)i=n[r],s=!1,(a=u["*"])&&a[i]&&(s=!0),a=u[e.name],!s&&a&&a[i]&&(s=!0),s&&(o&&(o+=" "),o+=i);o.length||(o=null),e.attr("class",o)}})),function(t,e){e.inline_styles&&Dp(t,e)}(u,t),u},qp=function(t,e,n){-1===Ke.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},Wp=function(e,n){var r,i,a,s=["data-mce-selected"];return r=n&&n.dom?n.dom:To.DOM,i=n&&n.schema?n.schema:mo(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n,r=t.length;r--;)(n=t[r]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,r){for(var i,o,a=t.length,s="data-mce-"+r,l=e.url_converter,c=e.url_converter_scope;a--;)void 0!==(o=(i=t[a]).attr(s))?(i.attr(r,0<o.length?o:null),i.attr(s,null)):(o=i.attr(r),"style"===r?o=n.serializeStyle(n.parseStyle(o),i.name):l&&(o=l.call(c,o,r,i.name)),i.attr(r,0<o.length?o:null))})),t.addAttributeFilter("class",(function(t){for(var e,n,r=t.length;r--;)(n=(e=t[r]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",0<n.length?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var r,i=t.length;i--;)"bookmark"!==(r=t[i]).attr("data-mce-type")||n.cleanup||(M.from(r.firstChild).exists((function(t){return!ba(t.value)}))?r.unwrap():r.remove())})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=io.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){for(var r,i,o,a=t.length,s=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)i=(r=t[a]).firstChild?r.firstChild.value:"","script"===n?((o=r.attr("type"))&&r.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&0<i.length&&(r.firstChild.value="// <![CDATA[\n"+s(i)+"\n// ]]>")):"xhtml"===e.element_format&&0<i.length&&(r.firstChild.value="\x3c!--\n"+s(i)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n,r=t.length;r--;)7===(n=t[r]).type?n.remove():1===n.type&&("input"!==e||n.attr("type")||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){q(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))}(a=Up(e,i),e,r),{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(o,s){var l,c,u,d,f,h,p,m,g,v=rd({format:"html"},s||{}),b=function(e,n,r){return f=r,(d=e)&&d.hasEventListeners("PreProcess")&&!f.no_events?(o=n,a=r,u=(i=e).dom,o=o.cloneNode(!0),(s=t.document.implementation).createHTMLDocument&&(l=s.createHTMLDocument(""),Ke.each("BODY"===o.nodeName?o.childNodes:[o],(function(t){l.body.appendChild(l.importNode(t,!0))})),o="BODY"!==o.nodeName?l.body.firstChild:l.body,c=u.doc,u.doc=l),function(t,e){t.fire("PreProcess",e)}(i,rd(a,{node:o})),c&&(u.doc=c),o):n;var i,o,a,s,l,c,u,d,f}(n,o,v),y=(l=r,c=b,d=Ca((u=v).getInner?c.innerHTML:l.getOuterHTML(c)),u.selection||Ui(cr(c))?d:Ke.trim(d)),C=(f=a,h=y,m=(p=v).selection?rd({forced_root_block:!1},p):p,function(t){var e,n,r=function(t){return t&&"br"===t.name};r(e=t.lastChild)&&r(n=e.prev)&&(e.remove(),n.remove())}(g=f.parse(h,m)),g);return"tree"===v.format?C:function(t,e,n,r,i){var o,a,s,l;return a=t,o=r,l=mu(e,n).serialize(o),(s=i).no_events||!a?l:function(t,e){return t.fire("PostProcess",e)}(a,rd(s,{content:l})).content}(n,e,i,C,v)},addRules:function(t){i.addValidElements(t)},setRules:function(t){i.setValidElements(t)},addTempAttr:o(qp,a,s),getTempAttrs:function(){return s}}},Xp=function(t,e){var n=Wp(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}};function Kp(t){return{getBookmark:o(ac,t),moveToBookmark:o(sc,t)}}(Kp||(Kp={})).isBookmarkNode=lc;var Yp,Gp,Zp=Kp,Jp=Mi.isContentEditableFalse,Qp=Mi.isContentEditableTrue,tm=function(e,n){var r,i,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,C=n.dom,w=Ke.each,x=n.getDoc(),_=t.document,E=Math.abs,S=Math.round,k=n.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var N=function(t){return t&&("IMG"===t.nodeName||n.dom.is(t,"figure.image"))},T=function(t){var e,r,i=t.target;e=t,r=n.selection.getRng(),!N(e.target)||Of(e.clientX,e.clientY,r)||t.isDefaultPrevented()||n.selection.select(i)},z=function(t){return n.dom.is(t,"figure.image")?t.querySelector("img"):t},A=function(t){var e=n.settings.object_resizing;return!1!==e&&!zt.iOS&&("string"!=typeof e&&(e="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==n.getBody()&&Ir(cr(t),e))},M=function(t){var e,a,w,x;e=t.screenX-l,a=t.screenY-c,g=e*s[2]+f,v=a*s[3]+h,g=g<5?5:g,v=v<5?5:v,(N(r)&&!1!==n.settings.resize_img_proportional?!If.modifierPressed(t):If.modifierPressed(t)||N(r)&&s[2]*s[3]!=0)&&(E(e)>E(a)?(v=S(g*p),g=S(v/p)):(g=S(v/p),v=S(g*p))),C.setStyles(z(i),{width:g,height:v}),w=0<(w=s.startPos.x+e)?w:0,x=0<(x=s.startPos.y+a)?x:0,C.setStyles(o,{left:w,top:x,display:"block"}),o.innerHTML=g+" &times; "+v,s[2]<0&&i.clientWidth<=g&&C.setStyle(i,"left",u+(f-g)),s[3]<0&&i.clientHeight<=v&&C.setStyle(i,"top",d+(h-v)),(e=k.scrollWidth-b)+(a=k.scrollHeight-y)!=0&&C.setStyles(o,{left:w-e,top:x-a}),m||(function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})}(n,r,f,h),m=!0)},O=function(){m=!1;var t=function(t,e){e&&(r.style[t]||!n.schema.isValid(r.nodeName.toLowerCase(),t)?C.setStyle(z(r),t,e):C.setAttrib(z(r),t,e))};t("width",g),t("height",v),C.unbind(x,"mousemove",M),C.unbind(x,"mouseup",O),_!==x&&(C.unbind(_,"mousemove",M),C.unbind(_,"mouseup",O)),C.remove(i),C.remove(o),P(r),function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})}(n,r,g,v),C.setAttrib(r,"style",C.getAttrib(r,"style")),n.nodeChanged()},P=function(t){var e,m,E,S,N;R(),B(),e=C.getPos(t,k),u=e.x,d=e.y,N=t.getBoundingClientRect(),m=N.width||N.right-N.left,E=N.height||N.bottom-N.top,r!==t&&(r=t,g=v=0),S=n.fire("ObjectSelected",{target:t}),A(t)&&!S.isDefaultPrevented()?w(a,(function(t,e){var n;(n=C.get("mceResizeHandle"+e))&&C.remove(n),n=C.add(k,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===zt.ie&&(n.contentEditable=!1),C.bind(n,"mousedown",(function(e){var n;e.stopImmediatePropagation(),e.preventDefault(),l=(n=e).screenX,c=n.screenY,f=z(r).clientWidth,h=z(r).clientHeight,p=h/f,(s=t).startPos={x:m*t[0]+u,y:E*t[1]+d},b=k.scrollWidth,y=k.scrollHeight,i=r.cloneNode(!0),C.addClass(i,"mce-clonedresizable"),C.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,C.setStyles(i,{left:u,top:d,margin:0}),i.removeAttribute("data-mce-selected"),k.appendChild(i),C.bind(x,"mousemove",M),C.bind(x,"mouseup",O),_!==x&&(C.bind(_,"mousemove",M),C.bind(_,"mouseup",O)),o=C.add(k,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+h)})),t.elm=n,C.setStyles(n,{left:m*t[0]+u-n.offsetWidth/2,top:E*t[1]+d-n.offsetHeight/2})})):R(),r.setAttribute("data-mce-selected","1")},R=function(){var t,e;for(t in B(),r&&r.removeAttribute("data-mce-selected"),a)(e=C.get("mceResizeHandle"+t))&&(C.unbind(e),C.remove(e))},L=function(t){var r,i=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};m||n.removed||(w(C.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),r="mousedown"===t.type?t.target:e.getNode(),i(r=C.$(r).closest("table,img,figure.image,hr")[0],k)&&(H(),i(e.getStart(!0),r)&&i(e.getEnd(!0),r))?P(r):R())},D=function(t){return Jp(function(t,e){for(;e&&e!==t;){if(Qp(e)||Jp(e))return e;e=e.parentNode}return null}(n.getBody(),t))},B=function(){for(var t in a){var e=a[t];e.elm&&(C.unbind(e.elm),delete e.elm)}},H=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return n.on("init",(function(){H(),zt.ie&&11<=zt.ie&&(n.on("mousedown click",(function(t){var e=t.target,r=e.nodeName;m||!/^(TABLE|IMG|HR)$/.test(r)||D(e)||(2!==t.button&&n.selection.select(e,"TABLE"===r),"mousedown"===t.type&&n.nodeChanged())})),n.dom.bind(k,"mscontrolselect",(function(t){var e=function(t){Rt.setEditorTimeout(n,(function(){n.selection.select(t)}))};if(D(t.target))return t.preventDefault(),void e(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&e(t.target))})));var t=Rt.throttle((function(t){n.composing||L(t)}));n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),n.on("keyup compositionend",(function(e){r&&"TABLE"===r.nodeName&&t(e)})),n.on("hide blur",R),n.on("contextmenu",T,!0)})),n.on("remove",B),{isResizable:A,showResizeRect:P,hideResizeRect:R,updateResizeRect:L,destroy:function(){r=i=null}}},em=function(t,e){var n=function(n){var r=e(n);if(r<=0||null===r){var i=Or(n,t);return parseFloat(i)||0}return r},r=function(t,e){return Y(e,(function(e,n){var r=Or(t,n),i=void 0===r?0:parseInt(r,10);return isNaN(i)?e:e+i}),0)};return{set:function(e,n){if(!I(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();Sr(r)&&(r.style[t]=n+"px")},get:n,getOuter:n,aggregate:r,max:function(t,e,n){var i=r(t,n);return i<e?e-i:0}}}("height",(function(t){var e=t.dom();return kr(t)?e.getBoundingClientRect().height:e.offsetHeight})),nm=function(t,e){return{left:r(t),top:r(e),translate:function(n,r){return nm(t+n,e+r)}}},rm=nm,im=function(t,e){return void 0!==t?t:void 0!==e?e:0},om=function(t){var e,n=t.dom(),r=n.ownerDocument.body;return r===n?rm(r.offsetLeft,r.offsetTop):kr(t)?(e=n.getBoundingClientRect(),rm(e.left,e.top)):rm(0,0)},am=ir.detect().browser.isSafari(),sm=function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return rm(r,i)},lm=function(e,n,r){(void 0!==r?r.dom():t.document).defaultView.scrollTo(e,n)},cm=function(t,e){am&&H(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)},um=function(t,e){return t.view(e).fold(r([]),(function(e){var n=t.owner(e),r=um(t,n);return[e].concat(r)}))},dm=Object.freeze({view:function(e){return(e.dom()===t.document?M.none():M.from(e.dom().defaultView.frameElement)).map(cr)},owner:function(t){return $r(t)}}),fm=function(t){return"textarea"===hr(t)},hm=function(t,e){var n,r,i,o,a,s,l,c,u,d,f=(i=(r=(n=t).dom().ownerDocument).body,o=r.defaultView,a=r.documentElement,s=im(o.pageYOffset,a.scrollTop),l=im(o.pageXOffset,a.scrollLeft),c=im(a.clientTop,i.clientTop),u=im(a.clientLeft,i.clientLeft),om(n).translate(l-u,s-c)),h=(d=t,em.get(d));return{element:t,bottom:f.top()+h,pos:f,cleanup:e}},pm=function(t){return hm(cr(t),e)},mm=function(t,e,n,r){bm(t,(function(i,o){return gm(t,e,n,r)}),n)},gm=function(t,e,n,r){var i=cr(t.getBody()),o=cr(t.getDoc());i.dom().offsetWidth;var a=sm(o).top(),s=function(t,e){var n=function(t,e){var n=Gr(t);if(0===n.length||fm(t))return{element:t,offset:e};if(e<n.length&&!fm(n[e]))return{element:n[e],offset:0};var r=n[n.length-1];return fm(r)?{element:t,offset:e}:"img"===hr(r)?{element:r,offset:1}:gr(r)?{element:r,offset:Hc(r).length}:{element:r,offset:Gr(r).length}}(t,e),r=ar('<span data-mce-bogus="all">\ufeff</span>');return Vo(n.element,r),hm(r,(function(){return Wo(r)}))}(cr(n.startContainer),n.startOffset);e(o,a,s,r),s.cleanup()},vm=function(t,e,n,r){var i=cr(t.getDoc());n(i,sm(i).top(),e,r)},bm=function(t,e,n){var r=n.startContainer,i=n.startOffset,o=n.endContainer,a=n.endOffset;e(cr(r),cr(o));var s=t.dom.createRng();s.setStart(r,i),s.setEnd(o,a),t.selection.setRng(n)},ym=function(t,e,n,r){var i=t.pos;if(n)lm(i.left(),i.top(),r);else{var o=i.top()-e+(t.bottom-i.top());lm(i.left(),o,r)}},Cm=function(t,e,n,r,i){r.pos.top()<e?ym(r,n,!1!==i,t):r.bottom>n+e&&ym(r,n,!0===i,t)},wm=function(t,e,n,r){var i=t.dom().defaultView.innerHeight;Cm(t,e,i,n,r)},xm=function(e,n,r,i,o){var a=n.dom().defaultView.innerHeight;Cm(n,r,a,i,o);var s=function(e){var n,r,i,o=cr(t.document),a=sm(o),s=(n=e,i=(r=dm).owner(n),um(r,i)),l=om(e),c=K(s,(function(t,e){var n=om(e);return{left:t.left+n.left(),top:t.top+n.top()}}),{left:0,top:0});return rm(c.left+l.left()+a.left(),c.top+l.top()+a.top())}(i.element),l=sm().top(),c=t.window.innerHeight+l;s.top()<l?cm(i.element,!1!==o):s.top()>c&&cm(i.element,!0===o)},_m=function(t,e,n){return mm(t,o(wm),e,n)},Em=function(t,e,n){return vm(t,pm(e),o(wm),n)},Sm=function(t,e,n){return mm(t,o(xm,t),e,n)},km=function(t,e,n){return vm(t,pm(e),o(xm,t),n)},Nm=function(t,e,n){var r,i;r=e,i=n,t.fire("ScrollIntoView",{elm:r,alignToTop:i}).isDefaultPrevented()||(t.inline?Em:km)(t,e,n)},Tm=function(t,e,n){(t.inline?_m:Sm)(t,e,n)},zm=function(t){return Mi.isContentEditableTrue(t)||Mi.isContentEditableFalse(t)},Am=function(t,e,n){var r,i,o,a,s,l=n;if(l.caretPositionFromPoint)(i=l.caretPositionFromPoint(t,e))&&((r=n.createRange()).setStart(i.offsetNode,i.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(t,e);else if(l.body.createTextRange){r=l.body.createTextRange();try{r.moveToPoint(t,e),r.collapse(!0)}catch(c){r=function(t,e,n){var r,i,o;if(r=n.elementFromPoint(t,e),i=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),i.moveToElementText(r),0<(o=(o=Ke.toArray(i.getClientRects())).sort((function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-Math.abs(Math.max(n.top-e,n.bottom-e))}))).length){e=(o[0].bottom+o[0].top)/2;try{return i.moveToPoint(t,e),i.collapse(!0),i}catch(a){}}return null}(t,e,n)}return o=r,a=n.body,s=o&&o.parentElement?o.parentElement():null,Mi.isContentEditableFalse(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(s,a,zm))?null:o}return r},Mm=function(t,e){return U(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},Om=function(e,n){var r=(n||t.document).createDocumentFragment();return q(e,(function(t){r.appendChild(t.dom())})),cr(r)},Pm=Lr("element","width","rows"),Rm=Lr("element","cells"),Lm=Lr("x","y"),Dm=function(t,e){var n=parseInt(Ar(t,e),10);return isNaN(n)?1:n},Bm=function(t){return Y(t,(function(t,e){return e.cells().length>t?e.cells().length:t}),0)},Hm=function(t,e){for(var n=t.rows(),r=0;r<n.length;r++)for(var i=n[r].cells(),o=0;o<i.length;o++)if(Fr(i[o],e))return M.some(Lm(o,r));return M.none()},Im=function(t,e,n,r,i){for(var o=[],a=t.rows(),s=n;s<=i;s++){var l=a[s].cells(),c=e<r?l.slice(e,r+1):l.slice(r,e+1);o.push(Rm(a[s].element(),c))}return o},Vm=function(t){return n=U((e=t).rows(),(function(t){var e=U(t.cells(),(function(t){var e=ga(t);return Mr(e,"colspan"),Mr(e,"rowspan"),e})),n=ma(t.element());return Uo(n,e),n})),r=ma(e.element()),i=sr("tbody"),Uo(i,n),$o(r,i),r;var e,n,r,i},Fm=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},jm=Fm,$m=function(t){return X(function(t){return tt(t,(function(t){var e=Ga(t);return e?[cr(e)]:[]}))}(t),$i)},Um=function(t,e){var n=function(t){return ta(t,"td[data-mce-selected],th[data-mce-selected]")}(e),r=$m(t);return 0<n.length?n:r},qm=Um,Wm=function(t){return Um(jm(t.selection.getSel()),cr(t.getBody()))},Xm=function(t,e){return G(t,(function(t){return"li"===hr(t)&&function(t,e){return ts([(a=e,s=a.startContainer,l=a.startOffset,Mi.isText(s)?0===l?M.some(cr(s)):M.none():M.from(s.childNodes[l]).map(cr)),(n=e,r=n.endContainer,i=n.endOffset,Mi.isText(r)?i===r.data.length?M.some(cr(r)):M.none():M.from(r.childNodes[i-1]).map(cr))],(function(e,n){var r=G(of(t),o(Fr,e)),i=G(af(t),o(Fr,n));return r.isSome()&&i.isSome()})).getOr(!1);var n,r,i,a,s,l}(t,e)})).fold(r([]),(function(e){return(n=t,G(n,(function(t){return"ul"===hr(t)||"ol"===hr(t)}))).map((function(t){return[sr("li"),sr(hr(t))]})).getOr([]);var n}))},Km=function(){return Om([])},Ym=function(t,e){return n=cr(e.cloneContents()),i=function(t,e){var n,i=cr(e.commonAncestorContainer),o=Qd(i,t),a=X(o,(function(t){return Di(t)||Ri(t)})),s=Xm(o,e),l=a.concat(s.length?s:Vi(n=i)?qr(n).filter(Ii).fold(r([]),(function(t){return[n,t]})):Ii(n)?[n]:[]);return U(l,ma)}(t,e),o=Y(i,(function(t,e){return $o(e,t),e}),n),0<i.length?Om([o]):o;var n,i,o},Gm=function(t,e){return(n=t,r=e[0],oa(r,"table",o(Fr,n))).bind((function(t){var n=e[0],r=e[e.length-1];return function(t,e,n){return Hm(t,e).bind((function(e){return Hm(t,n).map((function(n){return r=t,o=n,a=(i=e).x(),s=i.y(),l=o.x(),u=s<(c=o.y())?Im(r,a,s,l,c):Im(r,a,c,l,s),Pm(r.element(),Bm(u),u);var r,i,o,a,s,l,c,u}))}))}(function(t){var e=Pm(ma(t),0,[]);return q(ta(t,"tr"),(function(t,n){q(ta(t,"td,th"),(function(r,i){!function(t,e,n,r,i){for(var o=Dm(i,"rowspan"),a=Dm(i,"colspan"),s=t.rows(),l=n;l<n+o;l++){s[l]||(s[l]=Rm(ga(r),[]));for(var c=e;c<e+a;c++)s[l].cells()[c]=l===n&&c===e?i:ma(i)}}(e,function(t,e,n){for(;r=e,i=n,o=void 0,((o=t.rows())[i]?o[i].cells():[])[r];)e++;var r,i,o;return e}(e,i,n),n,t,r)}))})),Pm(e.element(),Bm(e.rows()),e.rows())}(t),n,r).map((function(t){return Om([Vm(t)])}))})).getOrThunk(Km);var n,r},Zm=function(t,e){if(void 0===e&&(e={}),e.get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return c=t,M.from(c.selection.getRng()).map((function(t){var e=c.dom.add(c.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),n=Ca(e.innerText);return c.dom.remove(e),n})).getOr("");e.getInner=!0;var n,r,i,o,a,s,l,c,u=(r=e,o=(n=t).selection.getRng(),a=n.dom.create("body"),s=n.selection.getSel(),l=Mm(n,jm(s)),(i=r.contextual?function(t,e){var n,r,i=qm(e,t);return 0<i.length?Gm(t,i):(n=t,0<(r=e).length&&r[0].collapsed?Km():Ym(n,r[0]))}(cr(n.getBody()),l).dom():o.cloneContents())&&a.appendChild(i),n.selection.serializer.serialize(a,r));return"tree"===e.format?u:(e.content=t.selection.isCollapsed()?"":u,t.fire("GetContent",e),e.content)},Jm=function(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)},Qm=function(t,e,n){return Jm(t,e,(function(t){return t.nodeName===n}))},tg=function(t){return t&&"TABLE"===t.nodeName},eg=function(t,e,n){for(var r=new Oi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=r[n?"prev":"next"]();)if(Mi.isBr(e))return!0},ng=function(t,e,n,r,i){var o,a,s=t.getRoot(),l=t.schema.getNonEmptyElements(),c=t.getParent(i.parentNode,t.isBlock)||s;if(r&&Mi.isBr(i)&&e&&t.isEmpty(c))return M.some(ys(i.parentNode,t.nodeIndex(i)));for(var u,d,f=new Oi(i,c);a=f[r?"prev":"next"]();){if("false"===t.getContentEditableParent(a)||(d=s,Sa(u=a)&&!1===Jm(u,d,qs)))return M.none();if(Mi.isText(a)&&0<a.nodeValue.length)return!1===Qm(a,s,"A")?M.some(ys(a,r?a.nodeValue.length:0)):M.none();if(t.isBlock(a)||l[a.nodeName.toLowerCase()])return M.none();o=a}return n&&o?M.some(ys(o,0)):M.none()},rg=function(t,e,n,r){var i,o,a,s,l,c,u,d,f=t.getRoot(),h=!1;if(i=r[(n?"start":"end")+"Container"],o=r[(n?"start":"end")+"Offset"],c=Mi.isElement(i)&&o===i.childNodes.length,s=t.schema.getNonEmptyElements(),l=n,Sa(i))return M.none();if(Mi.isElement(i)&&o>i.childNodes.length-1&&(l=!1),Mi.isDocument(i)&&(i=f,o=0),i===f){if(l&&(a=i.childNodes[0<o?o-1:0])){if(Sa(a))return M.none();if(s[a.nodeName]||tg(a))return M.none()}if(i.hasChildNodes()){if(o=Math.min(!l&&0<o?o-1:o,i.childNodes.length-1),i=i.childNodes[o],o=Mi.isText(i)&&c?i.data.length:0,!e&&i===f.lastChild&&tg(i))return M.none();if(function(t,e){for(;e&&e!==t;){if(Mi.isContentEditableFalse(e))return!0;e=e.parentNode}return!1}(f,i)||Sa(i))return M.none();if(i.hasChildNodes()&&!1===tg(i)){var p=new Oi(a=i,f);do{if(Mi.isContentEditableFalse(a)||Sa(a)){h=!1;break}if(Mi.isText(a)&&0<a.nodeValue.length){o=l?0:a.nodeValue.length,i=a,h=!0;break}if(s[a.nodeName.toLowerCase()]&&(!(u=a)||!/^(TD|TH|CAPTION)$/.test(u.nodeName))){o=t.nodeIndex(a),i=a.parentNode,l||o++,h=!0;break}}while(a=l?p.next():p.prev())}}}return e&&(Mi.isText(i)&&0===o&&ng(t,c,e,!0,i).each((function(t){i=t.container(),o=t.offset(),h=!0})),Mi.isElement(i)&&((a=i.childNodes[o])||(a=i.childNodes[o-1]),!a||!Mi.isBr(a)||("A",(d=a).previousSibling&&"A"===d.previousSibling.nodeName)||eg(t,a,!1)||eg(t,a,!0)||ng(t,c,e,!0,a).each((function(t){i=t.container(),o=t.offset(),h=!0})))),l&&!e&&Mi.isText(i)&&o===i.nodeValue.length&&ng(t,c,e,!1,i).each((function(t){i=t.container(),o=t.offset(),h=!0})),h?M.some(ys(i,o)):M.none()},ig=function(t,e){var n=e.collapsed,r=e.cloneRange(),i=ys.fromRangeStart(e);return rg(t,n,!0,r).each((function(t){n&&ys.isAbove(i,t)||r.setStart(t.container(),t.offset())})),n||rg(t,n,!1,r).each((function(t){r.setEnd(t.container(),t.offset())})),n&&r.collapse(!0),rf(e,r)?M.none():M.some(r)},og=function(t){return 0===t.dom().length?(Wo(t),M.none()):M.some(t)},ag=function(t,e,n,r,i){var o=n?e.startContainer:e.endContainer,a=n?e.startOffset:e.endOffset;return M.from(o).map(cr).map((function(t){return r&&e.collapsed?t:Zr(t,i(t,a)).getOr(t)})).bind((function(t){return mr(t)?M.some(t):qr(t)})).map((function(t){return t.dom()})).getOr(t)},sg=function(t,e,n){return ag(t,e,!0,n,(function(t,e){return Math.min(t.dom().childNodes.length,e)}))},lg=function(t,e,n){return ag(t,e,!1,n,(function(t,e){return 0<e?e-1:e}))},cg=function(t,e){for(var n=t;t&&Mi.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},ug=function(t,e,n){if(t&&t.hasOwnProperty(e)){var r=X(t[e],(function(t){return t!==n}));0===r.length?delete t[e]:t[e]=r}},dg=function(t){return!!t.select},fg=function(t){return!(!t||!t.ownerDocument)&&jr(cr(t.ownerDocument),cr(t))},hg=function(t,e,n,r){var i,o,a,s,l,c,u,d,f=(l=t,c=r,{selectorChangedWithUnbind:function(t,e){return u||(u={},d={},c.on("NodeChange",(function(t){var e=t.element,n=l.getParents(e,null,l.getRoot()),r={};Ke.each(u,(function(t,e){Ke.each(n,(function(i){if(l.is(i,e))return d[e]||(Ke.each(t,(function(t){t(!0,{node:i,selector:e,parents:n})})),d[e]=t),r[e]=t,!1}))})),Ke.each(d,(function(t,i){r[i]||(delete d[i],Ke.each(t,(function(t){t(!1,{node:e,selector:i,parents:n})})))}))}))),u[t]||(u[t]=[]),u[t].push(e),{unbind:function(){ug(u,t,e),ug(d,t,e)}}}}).selectorChangedWithUnbind,h=function(t,e){return function(t,e,n){var r,i;if(i=e,(r=(r=n)||{format:"html"}).set=!0,r.selection=!0,r.content=i,(n=r).no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){var o=t.selection.getRng();!function(t,e){var n=M.from(e.firstChild).map(cr),r=M.from(e.lastChild).map(cr);t.deleteContents(),t.insertNode(e);var i=n.bind(Wr).filter(gr).bind(og),o=r.bind(Xr).filter(gr).bind(og);ts([i,n.filter(gr)],(function(t,e){var n,r;n=e.dom(),r=t.dom().data,n.insertData(0,r),Wo(t)})),ts([o,r.filter(gr)],(function(e,n){var r=n.dom().length;n.dom().appendData(e.dom().data),t.setEnd(n.dom(),r),Wo(e)})),t.collapse(!1)}(o,o.createContextualFragment(n.content)),t.selection.setRng(o),Tm(t,o),n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)}(r,t,e)},p=function(t){var e=g();e.collapse(!!t),v(e)},m=function(){return e.getSelection?e.getSelection():e.document.selection},g=function(){var n,i,o,l,c=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(r){return-1}};if(!e)return null;if(null==(l=e.document))return null;if(void 0!==r.bookmark&&!1===Ku(r)){var d=Du(r);if(d.isSome())return d.map((function(t){return Mm(r,[t])[0]})).getOr(l.createRange())}try{(n=m())&&!Mi.isRestrictedNode(n.anchorNode)&&(i=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(u){}return(i=Mm(r,[i])[0])||(i=l.createRange?l.createRange():l.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(o=t.getRoot(),i.setStart(o,0),i.setEnd(o,0)),a&&s&&(0===c(i.START_TO_START,i,a)&&0===c(i.END_TO_END,i,a)?i=s:s=a=null),i},v=function(t,e){var n,i;if((o=t)&&(dg(o)||fg(o.startContainer)&&fg(o.endContainer))){var o,l=dg(t)?t:null;if(l){s=null;try{l.select()}catch(u){}}else{if(n=m(),t=r.fire("SetSelectionRange",{range:t,forward:e}).range,n){s=t;try{n.removeAllRanges(),n.addRange(t)}catch(u){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),a=0<n.rangeCount?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||zt.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset])&&"IMG"===i.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(i,0,i,1)),r.fire("AfterSetSelectionRange",{range:t,forward:e})}}},b=function(){var e,n,r=m();return!(r&&r.anchorNode&&r.focusNode)||((e=t.createRng()).setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(r.focusNode,r.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},y={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:r,collapse:p,setCursorLocation:function(e,n){var i=t.createRng();e?(i.setStart(e,n),i.setEnd(e,n),v(i),p(!1)):(sf(t,i,r.getBody(),!0),v(i))},getContent:function(t){return Zm(r,t)},setContent:h,getBookmark:function(t,e){return i.getBookmark(t,e)},moveToBookmark:function(t){return i.moveToBookmark(t)},select:function(e,n){var r,i,o;return(r=t,i=e,o=n,M.from(i).map((function(t){var e=r.nodeIndex(t),n=r.createRng();return n.setStart(t.parentNode,e),n.setEnd(t.parentNode,e+1),o&&(sf(r,n,t,!0),sf(r,n,t,!1)),n}))).each(v),e},isCollapsed:function(){var t=g(),e=m();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:b,setNode:function(e){return h(t.getOuterHTML(e)),e},getNode:function(){return t=r.getBody(),(e=g())?(i=e.startContainer,o=e.endContainer,a=e.startOffset,s=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(i===o&&s-a<2&&i.hasChildNodes()&&(n=i.childNodes[a]),3===i.nodeType&&3===o.nodeType&&(i=i.length===a?cg(i.nextSibling,!0):i.parentNode,o=0===s?cg(o.previousSibling,!1):o.parentNode,i&&i===o))?i:n&&3===n.nodeType?n.parentNode:n):t;var t,e,n,i,o,a,s},getSel:m,setRng:v,getRng:g,getStart:function(t){return sg(r.getBody(),g(),t)},getEnd:function(t){return lg(r.getBody(),g(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,r){var i,o,a=[];if(o=t.getRoot(),n=t.getParent(n||sg(o,e,e.collapsed),t.isBlock),r=t.getParent(r||lg(o,e,e.collapsed),t.isBlock),n&&n!==o&&a.push(n),n&&r&&n!==r)for(var s=new Oi(i=n,o);(i=s.next())&&i!==r;)t.isBlock(i)&&a.push(i);return r&&n!==r&&r!==o&&a.push(r),a}(t,g(),e,n)},normalize:function(){var e=g();if(function(t){return 1<Fm(t).length}(m())||!lf(r))return e;var n=ig(t,e);return n.each((function(t){v(t,b())})),n.getOr(e)},selectorChanged:function(t,e){return f(t,e),y},selectorChangedWithUnbind:f,getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return Nm(r,t,e)},placeCaretAt:function(t,e){return v(Am(t,e,r.getDoc()))},getBoundingClientRect:function(){var t=g();return t.collapsed?xs.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=a=s=null,o.destroy()}};return i=Zp(y),o=tm(y,r),y.bookmarkManager=i,y.controlSelection=o,y},pg=Mi.isText,mg=function(t){return pg(t)&&t.data[0]===ya},gg=function(t){return pg(t)&&t.data[t.data.length-1]===ya},vg=function(t){return t.ownerDocument.createTextNode(ya)},bg=function(t,e){return t?function(t){if(pg(t.previousSibling))return gg(t.previousSibling)||t.previousSibling.appendData(ya),t.previousSibling;if(pg(t))return mg(t)||t.insertData(0,ya),t;var e=vg(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(pg(t.nextSibling))return mg(t.nextSibling)||t.nextSibling.insertData(0,ya),t.nextSibling;if(pg(t))return gg(t)||t.appendData(ya),t;var e=vg(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)},yg=o(bg,!0),Cg=o(bg,!1),wg=function(t,e){return Mi.isText(t.container())?bg(e,t.container()):bg(e,t.getNode())},xg=function(t,e){var n=e.get();return n&&t.container()===n&&Ea(n)},_g=function(t,e){return e.fold((function(e){tl.remove(t.get());var n=yg(e);return t.set(n),M.some(xs(n,n.length-1))}),(function(e){return Ql.firstPositionIn(e).map((function(e){if(xg(e,t))return xs(t.get(),1);tl.remove(t.get());var n=wg(e,!0);return t.set(n),xs(n,1)}))}),(function(e){return Ql.lastPositionIn(e).map((function(e){if(xg(e,t))return xs(t.get(),t.get().length-1);tl.remove(t.get());var n=wg(e,!1);return t.set(n),xs(n,n.length-1)}))}),(function(e){tl.remove(t.get());var n=Cg(e);return t.set(n),M.some(xs(n,1))}))},Eg=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Sg=function(t,e){if(!e)return e;var n=e.container(),r=e.offset();return t?Ea(n)?Mi.isText(n.nextSibling)?xs(n.nextSibling,0):xs.after(n):Na(e)?xs(n,r+1):e:Ea(n)?Mi.isText(n.previousSibling)?xs(n.previousSibling,n.previousSibling.data.length):xs.before(n):Ta(e)?xs(n,r-1):e},kg={isInlineTarget:function(t,e){return Ir(cr(e),function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")}(t))},findRootInline:function(t,e,n){var r,i,o,a=(r=t,i=e,o=n,X(To.DOM.getParents(o.container(),"*",i),r));return M.from(a[a.length-1])},isRtl:function(t){return"rtl"===To.DOM.getStyle(t,"direction",!0)||(e=t.textContent,Eg.test(e));var e},isAtZwsp:function(t){return Na(t)||Ta(t)},normalizePosition:Sg,normalizeForwards:o(Sg,!0),normalizeBackwards:o(Sg,!1),hasSameParentBlock:function(t,e,n){var r=vl(e,t),i=vl(n,t);return r&&r===i}},Ng=function(t,e){for(var n=0;n<t.length;n++){var r=t[n].apply(null,e);if(r.isSome())return r}return M.none()},Tg=yu([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),zg=function(t,e){return vl(e,t)||t},Ag=function(t,e,n){var r=kg.normalizeForwards(n),i=zg(e,r.container());return kg.findRootInline(t,i,r).fold((function(){return Ql.nextPosition(i,r).bind(o(kg.findRootInline,t,i)).map((function(t){return Tg.before(t)}))}),M.none)},Mg=function(t,e){return null===Ws(t,e)},Og=function(t,e,n){return kg.findRootInline(t,e,n).filter(o(Mg,e))},Pg=function(t,e,n){var r=kg.normalizeBackwards(n);return Og(t,e,r).bind((function(t){return Ql.prevPosition(t,r).isNone()?M.some(Tg.start(t)):M.none()}))},Rg=function(t,e,n){var r=kg.normalizeForwards(n);return Og(t,e,r).bind((function(t){return Ql.nextPosition(t,r).isNone()?M.some(Tg.end(t)):M.none()}))},Lg=function(t,e,n){var r=kg.normalizeBackwards(n),i=zg(e,r.container());return kg.findRootInline(t,i,r).fold((function(){return Ql.prevPosition(i,r).bind(o(kg.findRootInline,t,i)).map((function(t){return Tg.after(t)}))}),M.none)},Dg=function(t){return!1===kg.isRtl(Hg(t))},Bg=function(t,e,n){return Ng([Ag,Pg,Rg,Lg],[t,e,n]).filter(Dg)},Hg=function(t){return t.fold(i,i,i,i)},Ig=function(t){return t.fold(r("before"),r("start"),r("end"),r("after"))},Vg=function(t){return t.fold(Tg.before,Tg.before,Tg.after,Tg.after)},Fg=function(t,e,n,r,i,o){return ts([kg.findRootInline(e,n,r),kg.findRootInline(e,n,i)],(function(e,r){return e!==r&&kg.hasSameParentBlock(n,e,r)?Tg.after(t?e:r):o})).getOr(o)},jg=function(t,e){return t.fold(r(!0),(function(t){return r=e,!(Ig(n=t)===Ig(r)&&Hg(n)===Hg(r));var n,r}))},$g=function(t,e){return t?e.fold(n(M.some,Tg.start),M.none,n(M.some,Tg.after),M.none):e.fold(M.none,n(M.some,Tg.before),M.none,n(M.some,Tg.end))},Ug=function(t,e,n,r){var i=kg.normalizePosition(t,r),a=Bg(e,n,i);return Bg(e,n,i).bind(o($g,t)).orThunk((function(){return i=t,s=e,l=n,c=a,u=r,d=kg.normalizePosition(i,u),Ql.fromPosition(i,l,d).map(o(kg.normalizePosition,i)).fold((function(){return c.map(Vg)}),(function(t){return Bg(s,l,t).map(o(Fg,i,s,l,d,t)).filter(o(jg,c))})).filter(Dg);var i,s,l,c,u,d}))},qg=Bg,Wg=Ug,Xg=(o(Ug,!1),o(Ug,!0),Vg),Kg=function(t){return t.fold(Tg.start,Tg.start,Tg.end,Tg.end)},Yg=function(t,e,n){var r=t?1:-1;return e.setRng(xs(n.container(),n.offset()+r).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},Gg=function(t,e){var n=e.selection.getRng(),r=t?xs.fromRangeEnd(n):xs.fromRangeStart(n);return!!function(t){return H(t.selection.getSel().modify)}(e)&&(t&&Na(r)?Yg(!0,e.selection,r):!(t||!Ta(r))&&Yg(!1,e.selection,r))},Zg=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},Jg=function(t){return!1!==t.settings.inline_boundaries},Qg=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},tv=function(t,e,n){return _g(e,n).map((function(e){return Zg(t,e),n}))},ev=function(t,e,n){return function(){return!!Jg(e)&&Gg(t,e)}},nv={move:function(t,e,n){return function(){return!!Jg(t)&&(r=t,i=e,a=n,s=r.getBody(),l=xs.fromRangeStart(r.selection.getRng()),c=o(kg.isInlineTarget,r),Wg(a,c,s,l).bind((function(t){return tv(r,i,t)}))).isSome();var r,i,a,s,l,c}},moveNextWord:o(ev,!0),movePrevWord:o(ev,!1),setupSelectedState:function(t){var e=Po(null),n=o(kg.isInlineTarget,t);return t.on("NodeChange",(function(r){var i,a,s,l,c;Jg(t)&&(i=n,a=t.dom,s=r.parents,l=X(a.select('*[data-mce-selected="inline-boundary"]'),i),c=X(s,i),q(nt(l,c),o(Qg,!1)),q(nt(c,l),o(Qg,!0)),function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=xs.fromRangeStart(t.selection.getRng());xs.isTextPosition(n)&&!1===kg.isAtZwsp(n)&&(Zg(t,tl.removeAndReposition(e.get(),n)),e.set(null))}}(t,e),function(t,e,n,r){if(e.selection.isCollapsed()){var i=X(r,t);q(i,(function(r){var i=xs.fromRangeStart(e.selection.getRng());qg(t,e.getBody(),i).bind((function(t){return tv(e,n,t)}))}))}}(n,t,e,r.parents))})),e},setCaretPosition:Zg};(Gp=Yp||(Yp={}))[Gp.Br=0]="Br",Gp[Gp.Block=1]="Block",Gp[Gp.Wrap=2]="Wrap",Gp[Gp.Eol=3]="Eol";var rv,iv,ov,av=function(t,e){return t===Cs.Backwards?e.reverse():e},sv=function(t,e,n,r){for(var i,o,a,s,l,c,u=$l(n),d=r,f=[];d&&(l=u,c=d,i=e===Cs.Forwards?l.next(c):l.prev(c));){if(Mi.isBr(i.getNode(!1)))return e===Cs.Forwards?{positions:av(e,f).concat([i]),breakType:Yp.Br,breakAt:M.some(i)}:{positions:av(e,f),breakType:Yp.Br,breakAt:M.some(i)};if(i.isVisible()){if(t(d,i)){var h=(o=e,a=d,s=i,Mi.isBr(s.getNode(o===Cs.Forwards))?Yp.Br:!1===bl(a,s)?Yp.Block:Yp.Wrap);return{positions:av(e,f),breakType:h,breakAt:M.some(i)}}f.push(i),d=i}else d=i}return{positions:av(e,f),breakType:Yp.Eol,breakAt:M.none()}},lv=function(t,e,n,r){return e(n,r).breakAt.map((function(r){var i=e(n,r).positions;return t===Cs.Backwards?i.concat(r):[r].concat(i)})).getOr([])},cv=function(t,e){return Y(t,(function(t,n){return t.fold((function(){return M.some(n)}),(function(r){return ts([rt(r.getClientRects()),rt(n.getClientRects())],(function(t,i){var o=Math.abs(e-t.left);return Math.abs(e-i.left)<=o?n:r})).or(t)}))}),M.none())},uv=function(t,e){return rt(e.getClientRects()).bind((function(e){return cv(t,e.left)}))},dv=o(sv,ys.isAbove,-1),fv=o(sv,ys.isBelow,1),hv=o(lv,-1,dv),pv=o(lv,1,fv),mv=Mi.isContentEditableFalse,gv=Ga,vv=function(t,e,n){var r,i,a,s,l=$l(t.getBody()),c=o(Tl,l.next),u=o(Tl,l.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(r=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?c(xs.fromRangeStart(n)):u(xs.fromRangeStart(n)))||(s=(a=t).dom.create(nu(a)),(!zt.ie||11<=zt.ie)&&(s.innerHTML='<br data-mce-bogus="1">'),i=s,1===e?t.$(r).after(i):t.$(r).before(i),t.selection.select(i,!0),t.selection.collapse())}},bv=function(t,e){return function(){var n,r,i,a,s,l,c,u,d,f=(r=e,a=$l((n=t).getBody()),s=o(Tl,a.next),l=o(Tl,a.prev),c=r?Cs.Forwards:Cs.Backwards,u=r?s:l,d=n.selection.getRng(),(i=function(t,e,n,r){var i=t===Cs.Forwards,o=i?th:eh;if(!r.collapsed){var a=gv(r);if(mv(a))return Lf(t,e,a,t===Cs.Backwards,!0)}var s=_a(r.startContainer),l=kl(t,e.getBody(),r);if(o(l))return Df(e,l.getNode(!i));var c=kg.normalizePosition(i,n(l));if(!c)return s?r:null;if(o(c))return Lf(t,e,c.getNode(!i),i,!0);var u=n(c);return u&&o(u)&&zl(c,u)?Lf(t,e,u.getNode(!i),i,!0):s?Hf(e,c.toRange(),!0):null}(c,n,u,d))?i:(i=vv(n,c,d))||null);return!!f&&(t.selection.setRng(f),!0)}},yv=function(t,e){return function(){var n,r,i,o,a,s,l=(o=(r=e)?1:-1,a=r?xf:wf,s=(n=t).selection.getRng(),(i=function(t,e,n,r){var i,o,a,s,l,c,u,d,f;if(f=gv(r),i=kl(t,e.getBody(),r),o=n(e.getBody(),_f(1),i),a=X(o,Ef(1)),l=$e.last(i.getClientRects()),(th(i)||Jf(i))&&(f=i.getNode()),(eh(i)||Qf(i))&&(f=i.getNode(!0)),!l)return null;if(c=l.left,(s=Af(a,c))&&mv(s.node))return u=Math.abs(c-s.left),d=Math.abs(c-s.right),Lf(t,e,s.node,u<d,!0);if(f){var h=function(t,e,n,r){var i,o,a,s,l,c,u=$l(e),d=[],f=0,h=function(t){return $e.last(t.getClientRects())};c=h(s=1===t?(i=u.next,o=Ka,a=Xa,xs.after(r)):(i=u.prev,o=Xa,a=Ka,xs.before(r)));do{if(s.isVisible()&&!a(l=h(s),c)){if(0<d.length&&o(l,$e.last(d))&&f++,(l=Ua(l)).position=s,l.line=f,n(l))return d;d.push(l)}}while(s=i(s));return d}(t,e.getBody(),_f(1),f);if(s=Af(X(h,Ef(1)),c))return Hf(e,s.position.toRange(),!0);if(s=$e.last(X(h,Ef(0))))return Hf(e,s.position.toRange(),!0)}}(o,n,a,s))?i:(i=vv(n,o,s))||null);return!!l&&(t.selection.setRng(l),!0)}},Cv=function(t,e){return function(){var n,i=e?xs.fromRangeEnd(t.selection.getRng()):xs.fromRangeStart(t.selection.getRng()),o=e?fv(t.getBody(),i):dv(t.getBody(),i);return(e?it(o.positions):rt(o.positions)).filter((n=e,function(t){return n?eh(t):th(t)})).fold(r(!1),(function(e){return t.selection.setRng(e.toRange()),!0}))}},wv=function(t,e,n,r,i){var o,a,s,l,c=ta(cr(n),"td,th,caption").map((function(t){return t.dom()}));return(a=X((o=t,tt(c,(function(t){var e,n,r=(n=-1,{left:(e=Ua(t.getBoundingClientRect())).left-n,top:e.top-n,right:e.right+-2,bottom:e.bottom+-2,width:e.width+n,height:e.height+n});return[{x:r.left,y:o(r),cell:t},{x:r.right,y:o(r),cell:t}]}))),(function(t){return e(t,i)})),s=r,l=i,Y(a,(function(t,e){return t.fold((function(){return M.some(e)}),(function(t){var n=Math.sqrt(Math.abs(t.x-s)+Math.abs(t.y-l)),r=Math.sqrt(Math.abs(e.x-s)+Math.abs(e.y-l));return M.some(r<n?e:t)}))}),M.none())).map((function(t){return t.cell}))},xv=o(wv,(function(t){return t.bottom}),(function(t,e){return t.y<e})),_v=o(wv,(function(t){return t.top}),(function(t,e){return t.y>e})),Ev=function(t,e){t.selection.setRng(e),Tm(t,e)},Sv=function(t,e,n){var r,i,o,a,s=t(e,n);return(a=s).breakType===Yp.Wrap&&0===a.positions.length||!Mi.isBr(n.getNode())&&(o=s).breakType===Yp.Br&&1===o.positions.length?(r=t,i=e,!s.breakAt.map((function(t){return r(i,t).breakAt.isSome()})).getOr(!1)):s.breakAt.isNone()},kv=o(Sv,dv),Nv=o(Sv,fv),Tv=function(t,e,n){var r=function(t,e){var n=e.getNode(t);return Mi.isElement(n)&&"TABLE"===n.nodeName?M.some(n):M.none()}(!!e,n),i=!1===e;r.fold((function(){return Ev(t,n.toRange())}),(function(r){return Ql.positionIn(i,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return Ev(t,n.toRange())}),(function(i){return o=e,s=r,l=n,void((c=nu(a=t))?a.undoManager.transact((function(){var t=sr(c);zr(t,ru(a)),$o(t,sr("br")),o?Fo(cr(s),t):Vo(cr(s),t);var e=a.dom.createRng();e.setStart(t.dom(),0),e.setEnd(t.dom(),0),Ev(a,e)})):Ev(a,l.toRange()));var o,a,s,l,c}))}))},zv=function(t,e,n,r){var i,o,a,s,l,c,u=t.selection.getRng(),d=xs.fromRangeStart(u),f=t.getBody();if(!e&&kv(r,d)){var h=(s=f,function(t,e){return rt(e.getClientRects()).bind((function(e){return xv(t,e.left,e.top)})).bind((function(t){return uv((n=t,Ql.lastPositionIn(n).map((function(t){return dv(n,t).positions.concat(t)})).getOr([])),e);var n}))}(l=n,c=d).orThunk((function(){return rt(c.getClientRects()).bind((function(t){return cv(hv(s,xs.before(l)),t.left)}))})).getOr(xs.before(l)));return Tv(t,e,h),!0}return!(!e||!Nv(r,d))&&(i=f,h=function(t,e){return it(e.getClientRects()).bind((function(e){return _v(t,e.left,e.top)})).bind((function(t){return uv((n=t,Ql.firstPositionIn(n).map((function(t){return[t].concat(fv(n,t).positions)})).getOr([])),e);var n}))}(o=n,a=d).orThunk((function(){return rt(a.getClientRects()).bind((function(t){return cv(pv(i,xs.after(o)),t.left)}))})).getOr(xs.after(o)),Tv(t,e,h),!0)},Av=function(t,e){return function(){return M.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return M.from(t.dom.getParent(n,"table")).map((function(n){return function(t,e,n,r){var i,o,a,s,l=t.selection.getRng(),c=e?1:-1;if(ol()&&(i=e,o=l,a=n,s=xs.fromRangeStart(o),Ql.positionIn(!i,a).map((function(t){return t.isEqual(s)})).getOr(!1))){var u=Lf(c,t,n,!e,!0);return Ev(t,u),!0}return!1}(t,e,n)}))})).getOr(!1)}},Mv=function(t,e){return function(){return M.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return M.from(t.dom.getParent(n,"table")).map((function(r){return zv(t,e,r,n)}))})).getOr(!1)}},Ov=function(t){return j(["figcaption"],hr(t))},Pv=function(e){var n=t.document.createRange();return n.setStartBefore(e.dom()),n.setEndBefore(e.dom()),n},Rv=function(t,e,n){n?$o(t,e):jo(t,e)},Lv=function(t,e){var n,r,i,a=cr(t.getBody()),s=xs.fromRangeStart(t.selection.getRng()),l=nu(t),c=ru(t);return(n=s,r=a,i=o(Fr,r),ia(cr(n.container()),Li,i).filter(Ov)).exists((function(){if(function(t,e,n){return e?(i=t.dom(),fv(i,n).breakAt.isNone()):(r=t.dom(),dv(r,n).breakAt.isNone());var r,i}(a,e,s)){var n=function(t,e,n,r){return""===e?(c=t,u=r,d=sr("br"),Rv(c,d,u),Pv(d)):(i=t,o=r,a=n,s=sr(e),l=sr("br"),zr(s,a),$o(s,l),Rv(i,s,o),Pv(l));var i,o,a,s,l,c,u,d}(a,l,c,e);return t.selection.setRng(n),!0}return!1}))},Dv=function(t,e){return function(){return!!t.selection.isCollapsed()&&Lv(t,e)}},Bv=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,r)}},Hv=function(t,n){return G(function(t,n){return tt(U(t,(function(t){return rd({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:e},t)})),(function(t){return e=t,(r=n).keyCode===e.keyCode&&r.shiftKey===e.shiftKey&&r.altKey===e.altKey&&r.ctrlKey===e.ctrlKey&&r.metaKey===e.metaKey?[t]:[];var e,r}))}(t,n),(function(t){return t.action()}))},Iv=function(t,e){return jr(t,e)?ia(e,(function(t){return Hi(t)||Vi(t)}),(n=t,function(t){return Fr(n,cr(t.dom().parentNode))})):M.none();var n},Vv=function(t){var e,n,r;t.dom.isEmpty(t.getBody())&&(t.setContent(""),r=(n=(e=t).getBody()).firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n,e.selection.setCursorLocation(r,0))},Fv=Lr("block","position"),jv=Lr("from","to"),$v=function(t,e){var n=cr(t),r=cr(e.container());return Iv(n,r).map((function(t){return Fv(t,e)}))},Uv=function(t,e,n){return n.collapsed?function(t,e,n){var r=$v(t,xs.fromRangeStart(n)),i=r.bind((function(n){return Ql.fromPosition(e,t,n.position()).bind((function(n){return $v(t,n).map((function(n){return r=t,i=e,o=n,Mi.isBr(o.position().getNode())&&!1===Oh(o.block())?Ql.positionIn(!1,o.block().dom()).bind((function(t){return t.isEqual(o.position())?Ql.fromPosition(i,r,t).bind((function(t){return $v(r,t)})):M.some(o)})).getOr(o):o;var r,i,o}))}))}));return ts([r,i],jv).filter((function(t){return!1===Fr((r=t).from().block(),r.to().block())&&qr((n=t).from().block()).bind((function(t){return qr(n.to().block()).filter((function(e){return Fr(t,e)}))})).isSome()&&(e=t,!1===Mi.isContentEditableFalse(e.from().block())&&!1===Mi.isContentEditableFalse(e.to().block()));var e,n,r}))}(t,e,n):M.none()},qv=function(t){var e,n=(e=Gr(t),Z(e,Li).fold((function(){return e}),(function(t){return e.slice(0,t)})));return q(n,Wo),n},Wv=function(t,e){var n=Qd(e,t);return G(n.reverse(),Oh).each(Wo)},Xv=function(t,e,n,r){if(Oh(n))return mh(n),Ql.firstPositionIn(n.dom());0===X(Kr(r),(function(t){return!Oh(t)})).length&&Oh(e)&&Vo(r,sr("br"));var i=Ql.prevPosition(n.dom(),xs.before(r.dom()));return q(qv(e),(function(t){Vo(r,t)})),Wv(t,e),i},Kv=function(t,e,n){if(Oh(n))return Wo(n),Oh(e)&&mh(e),Ql.firstPositionIn(e.dom());var r=Ql.lastPositionIn(n.dom());return q(qv(e),(function(t){$o(n,t)})),Wv(t,e),r},Yv=function(t,e){Ql.positionIn(t,e.dom()).map((function(t){return t.getNode()})).map(cr).filter(Bi).each(Wo)},Gv=function(t,e,n){return Yv(!0,e),Yv(!1,n),function(t,e){return jr(e,t)?(n=Qd(t,e),M.from(n[n.length-1])):M.none();var n}(e,n).fold(o(Kv,t,e,n),o(Xv,t,e,n))},Zv=function(t,e,n,r){return e?Gv(t,r,n):Gv(t,n,r)},Jv=function(t,e){var n,r=cr(t.getBody());return(n=Uv(r.dom(),e,t.selection.getRng()).bind((function(t){return Zv(r,e,t.from().block(),t.to().block())}))).each((function(e){t.selection.setRng(e.toRange())})),n.isSome()},Qv=function(t,e){var n=cr(e),r=o(Fr,t);return ra(n,$i,r).isSome()},tb=function(t){var e,n,r,i,o=cr(t.getBody());return function(t,e){var n,r,i=Ql.prevPosition(t.dom(),xs.fromRangeStart(e)).isNone(),o=Ql.nextPosition(t.dom(),xs.fromRangeEnd(e)).isNone();return!(Qv(n=t,(r=e).startContainer)||Qv(n,r.endContainer))&&i&&o}(o,t.selection.getRng())?((i=t).setContent(""),i.selection.setCursorLocation(),!0):(e=o,n=t.selection,r=n.getRng(),ts([Iv(e,cr(r.startContainer)),Iv(e,cr(r.endContainer))],(function(t,i){return!1===Fr(t,i)&&(r.deleteContents(),Zv(e,!0,t,i).each((function(t){n.setRng(t.toRange())})),!0)})).getOr(!1))},eb=function(t,e){return!t.selection.isCollapsed()&&tb(t)},nb=function(t){return Nl(t).exists(Bi)},rb=function(t,e,n){var r=X(Qd(cr(n.container()),e),Li),i=rt(r).getOr(e);return Ql.fromPosition(t,i.dom(),n).filter(nb)},ib=function(t,e){return Nl(e).exists(Bi)||rb(!0,t,e).isSome()},ob=function(t,e){return(n=e,M.from(n.getNode(!0)).map(cr)).exists(Bi)||rb(!1,t,e).isSome();var n},ab=o(rb,!1),sb=o(rb,!0),lb=yu([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),cb=function(t,e,n,r){var i=r.getNode(!1===e);return Iv(cr(t),cr(n.getNode())).map((function(t){return Oh(t)?lb.remove(t.dom()):lb.moveToElement(i)})).orThunk((function(){return M.some(lb.moveToElement(i))}))},ub=function(t,e,n){return Ql.fromPosition(e,t,n).bind((function(i){return u=i.getNode(),$i(cr(u))||Vi(cr(u))?M.none():(o=t,l=i,c=function(t){return Di(cr(t))&&!bl(s,l,o)},Sl(!(a=e),s=n).fold((function(){return Sl(a,l).fold(r(!1),c)}),c)?M.none():e&&Mi.isContentEditableFalse(i.getNode())||!1===e&&Mi.isContentEditableFalse(i.getNode(!0))?cb(t,e,n,i):e&&eh(n)||!1===e&&th(n)?M.some(lb.moveToPosition(i)):M.none());var o,a,s,l,c,u}))},db=function(t,e){return M.from(hb(t.getBody(),e))},fb=function(t,e){var n=t.selection.getNode();return db(t,n).filter(Mi.isContentEditableFalse).fold((function(){var n,r,i,o,a,s;return(n=t.getBody(),r=e,i=t.selection.getRng(),o=El(r?1:-1,n,i),a=xs.fromRangeStart(o),s=cr(n),!1===r&&eh(a)?M.some(lb.remove(a.getNode(!0))):r&&th(a)?M.some(lb.remove(a.getNode())):!1===r&&th(a)&&ob(s,a)?ab(s,a).map((function(t){return lb.remove(t.getNode())})):r&&eh(a)&&ib(s,a)?sb(s,a).map((function(t){return lb.remove(t.getNode())})):function(t,e,n){return o=e,a=n.getNode(!1===o),s=o?"after":"before",Mi.isElement(a)&&a.getAttribute("data-mce-caret")===s?(r=e,i=n.getNode(!1===e),r&&Mi.isContentEditableFalse(i.nextSibling)?M.some(lb.moveToElement(i.nextSibling)):!1===r&&Mi.isContentEditableFalse(i.previousSibling)?M.some(lb.moveToElement(i.previousSibling)):M.none()).fold((function(){return ub(t,e,n)}),M.some):ub(t,e,n).bind((function(e){return r=t,i=n,e.fold((function(t){return M.some(lb.remove(t))}),(function(t){return M.some(lb.moveToElement(t))}),(function(t){return bl(i,t,r)?M.none():M.some(lb.moveToPosition(t))}));var r,i}));var r,i,o,a,s}(n,r,a)).map((function(n){return n.fold((a=t,s=e,function(t){return a._selectionOverrides.hideFakeCaret(),Vh(a,s,cr(t)),!0}),(i=t,o=e,function(t){var e=o?xs.before(t):xs.after(t);return i.selection.setRng(e.toRange()),!0}),(r=t,function(t){return r.selection.setRng(t.toRange()),!0}));var r,i,o,a,s})).getOr(!1)}),(function(){return!0}))},hb=function(t,e){for(;e&&e!==t;){if(Mi.isContentEditableTrue(e)||Mi.isContentEditableFalse(e))return e;e=e.parentNode}return null},pb=function(t,e){return t.selection.isCollapsed()?fb(t,e):function(t,e){var n=t.selection.getNode();return!!Mi.isContentEditableFalse(n)&&db(t,n.parentNode).filter(Mi.isContentEditableFalse).fold((function(){var n;return n=cr(t.getBody()),q(ta(n,".mce-offscreen-selection"),Wo),Vh(t,e,cr(t.selection.getNode())),Vv(t),!0}),(function(){return!0}))}(t,e)},mb=function(t){var e,n=hb(t.getBody(),t.selection.getNode());return Mi.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(xs.before(e).toRange())),!0},gb=function(t,e,n,r,i,o){var a,s,l=Lf(r,t,o.getNode(!i),i,!0);if(e.collapsed){var c=e.cloneRange();i?c.setEnd(l.startContainer,l.startOffset):c.setStart(l.endContainer,l.endOffset),c.deleteContents()}else e.deleteContents();return t.selection.setRng(l),a=t.dom,s=n,Mi.isText(s)&&0===s.data.length&&a.remove(s),!0},vb=function(t,e){return function(t,e){var n=t.selection.getRng();if(!Mi.isText(n.commonAncestorContainer))return!1;var r=e?Cs.Forwards:Cs.Backwards,i=$l(t.getBody()),a=o(Tl,i.next),s=o(Tl,i.prev),l=e?a:s,c=e?th:eh,u=kl(r,t.getBody(),n),d=kg.normalizePosition(e,l(u));if(!d)return!1;if(c(d))return gb(t,n,u.getNode(),r,e,d);var f=l(d);return!!(f&&c(f)&&zl(d,f))&&gb(t,n,u.getNode(),r,e,f)}(t,e)},bb=function(t,e){return function(n){return _g(e,n).map((function(e){return nv.setCaretPosition(t,e),!0})).getOr(!1)}},yb=function(e,n,r,i){var a=e.getBody(),s=o(kg.isInlineTarget,e);e.undoManager.ignore((function(){var o,l,c;e.selection.setRng((o=r,l=i,(c=t.document.createRange()).setStart(o.container(),o.offset()),c.setEnd(l.container(),l.offset()),c)),e.execCommand("Delete"),qg(s,a,xs.fromRangeStart(e.selection.getRng())).map(Kg).map(bb(e,n))})),e.nodeChanged()},Cb=function(t,e,n){if(t.selection.isCollapsed()&&!1!==t.settings.inline_boundaries){var i=xs.fromRangeStart(t.selection.getRng());return function(t,e,n,i){var a,s,l=(a=t.getBody(),s=i.container(),vl(s,a)||a),c=o(kg.isInlineTarget,t),u=qg(c,l,i);return u.bind((function(t){return n?t.fold(r(M.some(Kg(t))),M.none,r(M.some(Xg(t))),M.none):t.fold(M.none,r(M.some(Xg(t))),M.none,r(M.some(Kg(t))))})).map(bb(t,e)).getOrThunk((function(){var r=Ql.navigate(n,l,i),o=r.bind((function(t){return qg(c,l,t)}));return u.isSome()&&o.isSome()?kg.findRootInline(c,l,i).map((function(e){return r=e,!!ts([Ql.firstPositionIn(r),Ql.lastPositionIn(r)],(function(t,e){var n=kg.normalizePosition(!0,t),i=kg.normalizePosition(!1,e);return Ql.nextPosition(r,n).map((function(t){return t.isEqual(i)})).getOr(!0)})).getOr(!0)&&(Vh(t,n,cr(e)),!0);var r})).getOr(!1):o.bind((function(o){return r.map((function(r){return n?yb(t,e,i,r):yb(t,e,r,i),!0}))})).getOr(!1)}))}(t,e,n,i)}return!1},wb=function(t){return 1===Gr(t).length},xb=function(t,e){var n,i=cr(t.getBody()),a=cr(t.selection.getStart()),s=X((n=Qd(a,i),Z(n,Li).fold(r(n),(function(t){return n.slice(0,t)}))),wb);return it(s).map((function(n){var r,i=xs.fromRangeStart(t.selection.getRng());return!(!function(t,e,n){return ts([Ql.firstPositionIn(n),Ql.lastPositionIn(n)],(function(r,i){var o=kg.normalizePosition(!0,r),a=kg.normalizePosition(!1,i),s=kg.normalizePosition(!1,e);return t?Ql.nextPosition(n,s).map((function(t){return t.isEqual(a)&&e.isEqual(o)})).getOr(!1):Ql.prevPosition(n,s).map((function(t){return t.isEqual(o)&&e.isEqual(a)})).getOr(!1)})).getOr(!0)}(e,i,n.dom())||qs((r=n).dom())&&$h(r.dom())||(function(t,e,n,r){var i,a,s,l,c=o(Zh,e),u=U(X(r,c),(function(t){return t.dom()}));if(0===u.length)Vh(e,t,n);else{var d=(i=n.dom(),a=u,s=qh(!1),l=Gh(a,s.dom()),Vo(cr(i),s),Wo(cr(i)),xs(l,0));e.selection.setRng(d.toRange())}}(e,t,n,s),0))})).getOr(!1)},_b=function(t,e){return!!t.selection.isCollapsed()&&xb(t,e)},Eb=Lr("start","end"),Sb=Lr("rng","table","cells"),kb=yu([{removeTable:["element"]},{emptyCells:["cells"]}]),Nb=function(t,e){return sa(cr(t),"td,th",e)},Tb=function(t,e){return oa(t,"table",e)},zb=function(t){return!1===Fr(t.start(),t.end())},Ab=function(t,e){return Tb(t.start(),e).bind((function(n){return Tb(t.end(),e).bind((function(t){return Fr(n,t)?M.some(n):M.none()}))}))},Mb=function(t){return ta(t,"td,th")},Ob=function(t,e){return Ab(e,t).isSome()},Pb=function(t,e){var n,r,i,a,s=o(Fr,t);return(n=e,r=s,i=Nb(n.startContainer,r),a=Nb(n.endContainer,r),ts([i,a],Eb).filter(zb).filter((function(t){return Ob(r,t)})).orThunk((function(){return function(t,e){var n=Nb(e.startContainer,t),r=Nb(e.endContainer,t);return e.collapsed?M.none():ts([n,r],Eb).fold((function(){return n.fold((function(){return r.bind((function(e){return Tb(e,t).bind((function(t){return rt(Mb(t)).map((function(t){return Eb(t,e)}))}))}))}),(function(e){return Tb(e,t).bind((function(t){return it(Mb(t)).map((function(t){return Eb(e,t)}))}))}))}),(function(e){return Ob(t,e)?M.none():(r=t,Tb((n=e).start(),r).bind((function(t){return it(Mb(t)).map((function(t){return Eb(n.start(),t)}))})));var n,r}))}(r,n)}))).bind((function(t){return Ab(e=t,s).map((function(t){return Sb(e,t,Mb(t))}));var e}))},Rb=function(t,e){return Z(t,(function(t){return Fr(t,e)}))},Lb=function(t){return(e=t,ts([Rb(e.cells(),e.rng().start()),Rb(e.cells(),e.rng().end())],(function(t,n){return e.cells().slice(t,n+1)}))).map((function(e){var n=t.cells();return e.length===n.length?kb.removeTable(t.table()):kb.emptyCells(e)}));var e},Db=function(t,e){return q(e,mh),t.selection.setCursorLocation(e[0].dom(),0),!0},Bb=function(t,e){return Vh(t,!1,e),!0},Hb=function(t,e,n,r){return Vb(e,r).fold((function(){return r=t,function(t,e){return Pb(t,e).bind(Lb)}(e,n).map((function(t){return t.fold(o(Bb,r),o(Db,r))}));var r}),(function(e){return Fb(t,e)})).getOr(!1)},Ib=function(t,e){return G(Qd(e,t),$i)},Vb=function(t,e){return G(Qd(e,t),(function(t){return"caption"===hr(t)}))},Fb=function(t,e){return mh(e),t.selection.setCursorLocation(e.dom(),0),M.some(!0)},jb=function(t,e){return t?Jf(e):Qf(e)},$b=function(t,e,n){var r=cr(t.getBody());return Vb(r,n).fold((function(){return function(t,e,n,r){var i=xs.fromRangeStart(t.selection.getRng());return Ib(n,r).bind((function(r){return Oh(r)?Fb(t,r):(o=t,a=n,s=e,l=r,c=i,Ql.navigate(s,o.getBody(),c).bind((function(t){return Ib(a,cr(t.getNode())).map((function(t){return!1===Fr(t,l)}))})));var o,a,s,l,c})).getOr(!1)}(t,e,r,n)||(i=t,o=e,a=xs.fromRangeStart(i.selection.getRng()),jb(o,a)||Ql.fromPosition(o,i.getBody(),a).map((function(t){return jb(o,t)})).getOr(!1));var i,o,a}),(function(n){return(i=t,o=e,a=r,s=n,l=xs.fromRangeStart(i.selection.getRng()),Oh(s)?Fb(i,s):function(t,e,n,r,i){return Ql.navigate(n,t.getBody(),i).bind((function(o){return s=r,l=n,c=i,u=o,Ql.firstPositionIn(s.dom()).bind((function(t){return Ql.lastPositionIn(s.dom()).map((function(e){return l?c.isEqual(t)&&u.isEqual(e):c.isEqual(e)&&u.isEqual(t)}))})).getOr(!0)?Fb(t,r):(a=r,Vb(e,cr(o.getNode())).map((function(t){return!1===Fr(t,a)})));var a,s,l,c,u})).or(M.some(!0))}(i,a,o,s,l)).getOr(!1);var i,o,a,s,l}))},Ub=function(t,e){var n,r,i,o,a,s=cr(t.selection.getStart(!0)),l=Wm(t);return t.selection.isCollapsed()&&0===l.length?$b(t,e,s):(r=s,i=cr((n=t).getBody()),o=n.selection.getRng(),0!==(a=Wm(n)).length?Db(n,a):Hb(n,i,o,r))},qb=function(t,e){return!!t.selection.isCollapsed()&&(n=t,r=e,i=xs.fromRangeStart(n.selection.getRng()),Ql.fromPosition(r,n.getBody(),i).filter((function(t){return r?Gf(t):Zf(t)})).bind((function(t){return M.from(yl(r?0:-1,t))})).map((function(t){return n.selection.select(t),!0})).getOr(!1));var n,r,i},Wb=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},Xb=function(t,e){return(t||"table"===hr(e)?"margin":"padding")+("rtl"===Or(e,"direction")?"-right":"-left")},Kb=function(t){var e,n=Gb(t);return!0!==t.readonly&&(1<n.length||(e=t,et(n,(function(t){var n=Xb(fu(e),t),r=Rr(t,n).map(Wb).getOr(0);return"false"!==e.dom.getContentEditable(t.dom())&&0<r}))))},Yb=function(t){return Ii(t)||Vi(t)},Gb=function(t){return X(U(t.selection.getSelectedBlocks(),cr),(function(t){return!Yb(t)&&!qr(t).map(Yb).getOr(!1)&&ia(t,(function(t){return Mi.isContentEditableTrue(t.dom())||Mi.isContentEditableFalse(t.dom())})).exists((function(t){return Mi.isContentEditableTrue(t.dom())}))}))},Zb=function(t,e){var n=t.dom,r=t.selection,i=t.formatter,o=function(t){return t.getParam("indentation","40px","string")}(t),a=/[a-z%]+$/i.exec(o)[0],s=parseInt(o,10),l=fu(t),c=nu(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||""!==c||n.getParent(r.getNode(),n.isBlock)||i.apply("div"),q(Gb(t),(function(t){!function(t,e,n,r,i,o){var a=Xb(n,cr(o));if("outdent"===e){var s=Math.max(0,Wb(o.style[a])-r);t.setStyle(o,a,s?s+i:"")}else s=Wb(o.style[a])+r+i,t.setStyle(o,a,s)}(n,e,l,s,a,t.dom())}))},Jb=function(t,e,n){return Ql.navigateIgnore(t,e,n,Wf)},Qb=function(t,e){return G(Qd(cr(e.container()),t),Li)},ty=function(t,e,n){return Jb(t,e.dom(),n).forall((function(t){return Qb(e,n).fold((function(){return!1===bl(t,n,e.dom())}),(function(r){return!1===bl(t,n,e.dom())&&jr(r,cr(t.container()))}))}))},ey=function(t,e,n){return Qb(e,n).fold((function(){return Jb(t,e.dom(),n).forall((function(t){return!1===bl(t,n,e.dom())}))}),(function(e){return Jb(t,e.dom(),n).isNone()}))},ny=o(ey,!1),ry=o(ey,!0),iy=o(ty,!1),oy=o(ty,!0),ay=function(t,e,n){if(t.selection.isCollapsed()&&Kb(t)){var r=t.dom,i=t.selection.getRng(),o=xs.fromRangeStart(i),a=cr(r.getParent(i.startContainer,r.isBlock));if(ny(a,o))return Zb(t,"outdent"),!0}return!1},sy=function(t){return M.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},ly=function(t,e){var n,r,i=e,o=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var s=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&e.insertBefore(o.doc.createTextNode(""),e.firstChild)}if(r=o.createRng(),e.normalize(),e.hasChildNodes()){for(var l=new Oi(e,e);n=l.current();){if(Mi.isText(n)){r.setStart(n,0),r.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){r.setStartBefore(n),r.setEndBefore(n);break}i=n,n=l.next()}n||(r.setStart(i,0),r.setEnd(i,0))}else Mi.isBr(e)?e.nextSibling&&o.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),t.selection.scrollIntoView(e)}},cy=sy,uy=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},dy=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},fy=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},hy=function(t,e,n){for(var r=t[n?"firstChild":"lastChild"];r&&!Mi.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===e},py=function(t){t.innerHTML='<br data-mce-bogus="1">'},my=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},gy=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},vy=function(t,e,n){return!1===Mi.isText(e)?n:t?1===n&&e.data.charAt(n-1)===ya?0:n:n===e.data.length-1&&e.data.charAt(n)===ya?e.data.length:n},by=function(t,e){var n,r,i=t.getRoot();for(n=e;n!==i&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i},yy=function(t,e){var n=nu(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,ru(t))},Cy=function(t,e){var n,r,i,o,a,s,l,c,u,d,f,h,p,m=t.dom,g=t.schema,v=g.getNonEmptyElements(),b=t.selection.getRng(),y=function(e){var n,o,s,l=i,c=g.getTextInlineElements();if(e||"TABLE"===d||"HR"===d?(n=m.create(e||h),yy(t,n)):n=a.cloneNode(!1),s=n,!1===function(t){return t.getParam("keep_styles",!0)}(t))m.setAttrib(n,"style",null),m.setAttrib(n,"class",null);else do{if(c[l.nodeName]){if(qs(l)||lc(l))continue;o=l.cloneNode(!1),m.setAttrib(o,"id",""),n.hasChildNodes()?o.appendChild(n.firstChild):s=o,n.appendChild(o)}}while((l=l.parentNode)&&l!==r);return py(s),n},C=function(t){var e,n,r=vy(t,i,o);if(Mi.isText(i)&&(t?0<r:r<i.nodeValue.length))return!1;if(i.parentNode===a&&p&&!t)return!0;if(t&&Mi.isElement(i)&&i===a.firstChild)return!0;if(my(i,"TABLE")||my(i,"HR"))return p&&!t||!p&&t;var s=new Oi(i,a);for(Mi.isText(i)&&(t&&0===r?s.prev():t||r!==i.nodeValue.length||s.next());e=s.current();){if(Mi.isElement(e)){if(!e.getAttribute("data-mce-bogus")&&(n=e.nodeName.toLowerCase(),v[n]&&"br"!==n))return!1}else if(Mi.isText(e)&&!/^[ \t\r\n]*$/.test(e.nodeValue))return!1;t?s.prev():s.next()}return!0},w=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==f?y(h):y(),function(t){return t.getParam("end_container_on_empty_block",!1)}(t)&&gy(m,u)&&m.isEmpty(a)?l=m.split(u,a):m.insertAfter(l,a),ly(t,l)};ig(m,b).each((function(t){b.setStart(t.startContainer,t.startOffset),b.setEnd(t.endContainer,t.endOffset)})),i=b.startContainer,o=b.startOffset,h=nu(t),s=!(!e||!e.shiftKey);var x,_,E,S,k,N=!(!e||!e.ctrlKey);Mi.isElement(i)&&i.hasChildNodes()&&(p=o>i.childNodes.length-1,i=i.childNodes[Math.min(o,i.childNodes.length-1)]||i,o=p&&Mi.isText(i)?i.nodeValue.length:0),(r=by(m,i))&&((h&&!s||!h&&s)&&(i=function(t,e,n,r,i){var o,a,s,l,c,u,d,f=e||"P",h=t.dom,p=by(h,r);if(!(a=h.getParent(r,h.isBlock))||!gy(h,a)){if(u=(a=a||p)===t.getBody()||(d=a)&&/^(TD|TH|CAPTION)$/.test(d.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=h.create(f),yy(t,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=r;l.parentNode!==a;)l=l.parentNode;for(;l&&!h.isBlock(l);)l=(s=l).previousSibling;if(s&&t.schema.isValidChild(u,f.toLowerCase())){for(o=h.create(f),yy(t,o),s.parentNode.insertBefore(o,s),l=s;l&&!h.isBlock(l);)c=l.nextSibling,o.appendChild(l),l=c;n.setStart(r,i),n.setEnd(r,i)}}return r}(t,h,b,i,o)),a=m.getParent(i,m.isBlock),u=a?m.getParent(a.parentNode,m.isBlock):null,d=a?a.nodeName.toUpperCase():"","LI"!==(f=u?u.nodeName.toUpperCase():"")||N||(u=(a=u).parentNode,d=f),/^(LI|DT|DD)$/.test(d)&&m.isEmpty(a)?function(t,e,n,r,i){var o=t.dom,a=t.selection.getRng();if(n!==t.getBody()){var s;dy(s=n)&&dy(s.parentNode)&&(i="LI");var l,c=i?e(i):o.create("BR");if(hy(n,r,!0)&&hy(n,r,!1))uy(n,"LI")?o.insertAfter(c,fy(n)):o.replace(c,n);else if(hy(n,r,!0))uy(n,"LI")?(o.insertAfter(c,fy(n)),c.appendChild(o.doc.createTextNode(" ")),c.appendChild(n)):n.parentNode.insertBefore(c,n);else if(hy(n,r,!1))o.insertAfter(c,fy(n));else{n=fy(n);var u=a.cloneRange();u.setStartAfter(r),u.setEndAfter(n);var d=u.extractContents();"LI"===i&&(l=d).firstChild&&"LI"===l.firstChild.nodeName?(c=d.firstChild,o.insertAfter(d,n)):(o.insertAfter(d,n),o.insertAfter(c,n))}o.remove(r),ly(t,c)}}(t,y,u,a,h):h&&a===t.getBody()||(h=h||"P",_a(a)?(l=Ma(a),m.isEmpty(a)&&py(a),ly(t,l)):C()?w():C(!0)?(l=a.parentNode.insertBefore(y(),a),ly(t,my(a,"HR")?l:a)):((n=(S=b,k=S.cloneRange(),k.setStart(S.startContainer,vy(!0,S.startContainer,S.startOffset)),k.setEnd(S.endContainer,vy(!1,S.endContainer,S.endOffset)),k).cloneRange()).setEndAfter(a),c=n.extractContents(),q(Qo(cr(c),gr),(function(t){var e=t.dom();e.nodeValue=Ca(e.nodeValue)})),function(t){for(;Mi.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;);}(c),l=c.firstChild,m.insertAfter(c,a),function(t,e,n){var r,i=n,o=[];if(i){for(;i=i.firstChild;){if(t.isBlock(i))return;Mi.isElement(i)&&!e[i.nodeName.toLowerCase()]&&o.push(i)}for(r=o.length;r--;)!(i=o[r]).hasChildNodes()||i.firstChild===i.lastChild&&""===i.firstChild.nodeValue?t.remove(i):(a=t,(s=i)&&"A"===s.nodeName&&a.isEmpty(s)&&t.remove(i));var a,s}}(m,v,l),x=m,(_=a).normalize(),(E=_.lastChild)&&!/^(left|right)$/gi.test(x.getStyle(E,"float",!0))||x.add(_,"br"),m.isEmpty(a)&&py(a),l.normalize(),m.isEmpty(l)?(m.remove(l),w()):ly(t,l)),m.setAttrib(l,"id",""),t.fire("NewBlock",{newBlock:l})))},wy=function(t,e,n){var r=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),e.scrollIntoView(r),t.remove(r)},xy=function(t,e,n,r){var i=t.createRng();r?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.setRng(i)},_y=function(t,e){var n=sr("br");Vo(cr(e),n),t.undoManager.add()},Ey=function(t,e){Sy(t.getBody(),e)||Fo(cr(e),sr("br"));var n=sr("br");Fo(cr(e),n),wy(t.dom,t.selection,n.dom()),xy(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},Sy=function(t,e){return n=xs.after(e),!!Mi.isBr(n.getNode())||Ql.nextPosition(t,xs.after(e)).map((function(t){return Mi.isBr(t.getNode())})).getOr(!1);var n},ky=function(t){return t&&"A"===t.nodeName&&"href"in t},Ny=function(t){return t.fold(r(!1),ky,ky,r(!1))},Ty=function(t,n){n.fold(e,o(_y,t),o(Ey,t),e)},zy=function(t,e){var n,r,i,a=(n=t,r=o(kg.isInlineTarget,n),i=xs.fromRangeStart(n.selection.getRng()),qg(r,n.getBody(),i).filter(Ny));a.isSome()?a.each(o(Ty,t)):function(t,e){var n,r,i=t.selection,o=t.dom,a=i.getRng();ig(o,a).each((function(t){a.setStart(t.startContainer,t.startOffset),a.setEnd(t.endContainer,t.endOffset)}));var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var c=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=c&&3===l.nodeType?l.nodeValue.length:0}var u=o.getParent(l,o.isBlock),d=u?o.getParent(u.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",h=!(!e||!e.ctrlKey);"LI"!==f||h||(u=d),l&&3===l.nodeType&&s>=l.nodeValue.length&&(function(t,e,n){for(var r,i=new Oi(e,n),o=t.getNonEmptyElements();r=i.next();)if(o[r.nodeName.toLowerCase()]||0<r.length)return!0}(t.schema,l,u)||(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=o.create("br"),Ps(o,a,n),wy(o,i,n),xy(o,i,n,r),t.undoManager.add()}(t,e)},Ay=function(t,e){return cy(t).filter((function(t){return 0<e.length&&Ir(cr(t),e)})).isSome()},My=yu([{br:[]},{block:[]},{none:[]}]),Oy=function(t,e){return function(t){return Ay(t,function(t){return t.getParam("no_newline_selector","")}(t))}(t)},Py=function(t){return function(e,n){return""===nu(e)===t}},Ry=function(t){return function(e,n){return function(t){return sy(t).filter((function(t){return Vi(cr(t))})).isSome()}(e)===t}},Ly=function(t,e){return function(n,i){return function(t){return sy(t).fold(r(""),(function(t){return t.nodeName.toUpperCase()}))}(n)===t.toUpperCase()===e}},Dy=function(t){return Ly("pre",t)},By=function(t){return function(e,n){return function(t){return t.getParam("br_in_pre",!0)}(e)===t}},Hy=function(t,e){return function(t){return Ay(t,function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")}(t))}(t)},Iy=function(t,e){return e},Vy=function(t){var e=nu(t),n=function(t,e){var n,r,i=t.getRoot();for(n=e;n!==i&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==i?r:i}(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},Fy=function(t,e){return function(n,r){return Y(t,(function(t,e){return t&&e(n,r)}),!0)?M.some(e):M.none()}},jy=function(t,n){(function(t,e){return Ng([Fy([Oy],My.none()),Fy([Ly("summary",!0)],My.br()),Fy([Dy(!0),By(!1),Iy],My.br()),Fy([Dy(!0),By(!1)],My.block()),Fy([Dy(!0),By(!0),Iy],My.block()),Fy([Dy(!0),By(!0)],My.br()),Fy([Ry(!0),Iy],My.br()),Fy([Ry(!0)],My.block()),Fy([Py(!0),Iy,Vy],My.block()),Fy([Py(!0)],My.br()),Fy([Hy],My.br()),Fy([Py(!1),Iy],My.br()),Fy([Vy],My.block())],[t,!(!e||!e.shiftKey)]).getOr(My.none())})(t,n).fold((function(){zy(t,n)}),(function(){Cy(t,n)}),e)},$y=function(t,e){var n=e.container(),r=e.offset();return Mi.isText(n)?(n.insertData(r,t),M.some(ys(n,r+t.length))):Nl(e).map((function(n){var r=lr(t);return e.isAtEnd()?Fo(n,r):Vo(n,r),ys(r.dom(),t.length)}))},Uy=o($y,""),qy=o($y," "),Wy=function(t){return ys.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},Xy=function(t,e){var n=X(Qd(cr(e.container()),t),Li);return rt(n).getOr(t)},Ky=function(t,e){return Wy(e)?qf(e):qf(e)||Ql.prevPosition(Xy(t,e).dom(),e).exists(qf)},Yy=function(t,e){return Wy(e)?Uf(e):Uf(e)||Ql.nextPosition(Xy(t,e).dom(),e).exists(Uf)},Gy=function(t){return Nl(t).bind((function(t){return ia(t,mr)})).exists((function(t){return e=Or(t,"white-space"),j(["pre","pre-wrap"],e);var e}))},Zy=function(t,e){return n=t,!Gy(r=e)&&(ny(n,r)||iy(n,r)||ob(n,r)||Ky(n,r))||function(t,e){var n,r,i,o=(r=(n=e).container(),i=n.offset(),Mi.isText(r)&&i<r.data.length?ys(r,i+1):n);return!Gy(o)&&(ry(t,o)||oy(t,o)||ib(t,o)||Yy(t,o))}(t,e);var n,r},Jy=function(t,e){return Vf(t.charAt(e))},Qy=function(t){var e=t.container();return Mi.isText(e)&&Kn(e.data,"")},tC=function(t,e){return M.some(e).filter(Qy).bind((function(e){var n,r,i,o,a,s,l,c,u=e.container();return a=t,l=(s=u).data,c=ys(s,0),Jy(l,0)&&!Zy(a,c)&&(s.data=" "+l.slice(1),1)||function(t){var e=t.data,n=U(e.split(""),(function(t,e,n){return Vf(t)&&0<e&&e<n.length-1&&jf(n[e-1])&&jf(n[e+1])?" ":t})).join("");return n!==e&&(t.data=n,!0)}(u)||(n=t,i=(r=u).data,o=ys(r,i.length-1),Jy(i,i.length-1)&&!Zy(n,o)&&(r.data=i.slice(0,-1)+" ",1))?M.some(e):M.none()}))},eC=function(t){var e=cr(t.getBody());t.selection.isCollapsed()&&tC(e,ys.fromRangeStart(t.selection.getRng())).each((function(e){t.selection.setRng(e.toRange())}))},nC=function(t,e){return function(n){return r=t,!Gy(i=n)&&(function(t,e){return i=t,o=e,Ql.prevPosition(i.dom(),o).isNone()||(n=t,r=e,Ql.nextPosition(n.dom(),r).isNone())||ny(t,e)||ry(t,e)||ob(t,e)||ib(t,e);var n,r,i,o}(r,i)||Ky(r,i)||Yy(r,i))?Uy(e):qy(e);var r,i}},rC=function(t){var e,n,r=xs.fromRangeStart(t.selection.getRng()),i=cr(t.getBody());if(t.selection.isCollapsed()){var a=o(kg.isInlineTarget,t),s=xs.fromRangeStart(t.selection.getRng());return qg(a,t.getBody(),s).bind((n=i,function(t){return t.fold((function(t){return Ql.prevPosition(n.dom(),xs.before(t))}),(function(t){return Ql.firstPositionIn(t)}),(function(t){return Ql.lastPositionIn(t)}),(function(t){return Ql.nextPosition(n.dom(),xs.after(t))}))})).bind(nC(i,r)).exists((e=t,function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}))}return!1},iC=function(t,e){var n;e.hasAttribute("data-mce-caret")&&(Ma(e),(n=t).selection.setRng(n.selection.getRng()),t.selection.scrollIntoView(e))},oC=function(t,e){var n=aa(cr(t.getBody()),"*[data-mce-caret]").fold(r(null),(function(t){return t.dom()}));if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void iC(t,n)):void(ka(n)&&(iC(t,n),t.undoManager.add()))},aC=ir.detect().browser,sC=function(t){var e,n,r,i=nv.setupSelectedState(t);(function(t){t.on("keyup compositionstart",o(oC,t))})(t),r=i,(n=t).on("keydown",(function(t){var e,i,o,a;!1===t.isDefaultPrevented()&&(e=n,i=r,o=t,a=ir.detect().os,Hv([{keyCode:If.RIGHT,action:bv(e,!0)},{keyCode:If.LEFT,action:bv(e,!1)},{keyCode:If.UP,action:yv(e,!1)},{keyCode:If.DOWN,action:yv(e,!0)},{keyCode:If.RIGHT,action:Av(e,!0)},{keyCode:If.LEFT,action:Av(e,!1)},{keyCode:If.UP,action:Mv(e,!1)},{keyCode:If.DOWN,action:Mv(e,!0)},{keyCode:If.RIGHT,action:nv.move(e,i,!0)},{keyCode:If.LEFT,action:nv.move(e,i,!1)},{keyCode:If.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:nv.moveNextWord(e,i)},{keyCode:If.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:nv.movePrevWord(e,i)},{keyCode:If.UP,action:Dv(e,!1)},{keyCode:If.DOWN,action:Dv(e,!0)}],o).each((function(t){o.preventDefault()})))})),function(t,e){t.on("keydown",(function(n){var r,i,o;!1===n.isDefaultPrevented()&&(r=t,i=e,o=n,Hv([{keyCode:If.BACKSPACE,action:Bv(ay,r,!1)},{keyCode:If.BACKSPACE,action:Bv(pb,r,!1)},{keyCode:If.DELETE,action:Bv(pb,r,!0)},{keyCode:If.BACKSPACE,action:Bv(vb,r,!1)},{keyCode:If.DELETE,action:Bv(vb,r,!0)},{keyCode:If.BACKSPACE,action:Bv(Cb,r,i,!1)},{keyCode:If.DELETE,action:Bv(Cb,r,i,!0)},{keyCode:If.BACKSPACE,action:Bv(Ub,r,!1)},{keyCode:If.DELETE,action:Bv(Ub,r,!0)},{keyCode:If.BACKSPACE,action:Bv(qb,r,!1)},{keyCode:If.DELETE,action:Bv(qb,r,!0)},{keyCode:If.BACKSPACE,action:Bv(eb,r,!1)},{keyCode:If.DELETE,action:Bv(eb,r,!0)},{keyCode:If.BACKSPACE,action:Bv(Jv,r,!1)},{keyCode:If.DELETE,action:Bv(Jv,r,!0)},{keyCode:If.BACKSPACE,action:Bv(_b,r,!1)},{keyCode:If.DELETE,action:Bv(_b,r,!0)}],o).each((function(t){o.preventDefault()})))})),t.on("keyup",(function(e){var n,r;!1===e.isDefaultPrevented()&&(n=t,r=e,Hv([{keyCode:If.BACKSPACE,action:Bv(mb,n)},{keyCode:If.DELETE,action:Bv(mb,n)}],r))}))}(t,i),(e=t).on("keydown",(function(t){var n,r,i;t.keyCode===If.ENTER&&(n=e,(r=t).isDefaultPrevented()||(r.preventDefault(),(i=n.undoManager).typing&&(i.typing=!1,i.add()),n.undoManager.transact((function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),jy(n,r)}))))})),function(t){t.on("keydown",(function(e){var n,r;!1===e.isDefaultPrevented()&&(n=t,r=e,Hv([{keyCode:If.SPACEBAR,action:Bv(rC,n)}],r).each((function(t){r.preventDefault()})))}))}(t),function(t){var e,n;e=t,n=Ko((function(){e.composing||eC(e)}),0),aC.isIE()&&(e.on("keypress",(function(t){n.throttle()})),e.on("remove",(function(t){n.cancel()}))),t.on("input",(function(e){!1===e.isComposing&&eC(t)}))}(t),function(t){t.on("keydown",(function(e){var n,r;!1===e.isDefaultPrevented()&&(n=t,r=e,Hv([{keyCode:If.END,action:Cv(n,!0)},{keyCode:If.HOME,action:Cv(n,!1)}],r).each((function(t){r.preventDefault()})))}))}(t)},lC=function(t){return Mi.isElement(t)&&Hi(cr(t))},cC=To.DOM,uC=function(t){var e;t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),(e=t).settings.auto_focus&&Rt.setEditorTimeout(e,(function(){var t;(t=!0===e.settings.auto_focus?e:e.editorManager.get(e.settings.auto_focus)).destroyed||t.focus()}),100)},dC=function(e,n){var r,i,a,s,l=e.settings,c=e.getElement(),u=e.getDoc();l.inline||(e.getElement().style.visibility=e.orgVisibility),n||e.inline||(u.open(),u.write(e.iframeHTML),u.close()),e.inline&&(e.on("remove",(function(){var t=this.getBody();cC.removeClass(t,"mce-content-body"),cC.removeClass(t,"mce-edit-focus"),cC.setAttrib(t,"contentEditable",null)})),cC.addClass(c,"mce-content-body"),e.contentDocument=u=t.document,e.contentWindow=t.window,e.bodyElement=c,e.contentAreaContainer=c,l.root_name=c.nodeName.toLowerCase()),(r=e.getBody()).disabled=!0,e.readonly=l.readonly,e.readonly||(e.inline&&"static"===cC.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=e.getParam("content_editable_state",!0)),r.disabled=!1,e.editorUpload=Gd(e),e.schema=mo(l),e.dom=To(u,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:l.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:uu(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=((s=Up((a=e).settings,a.schema)).addAttributeFilter("src,href,style,tabindex",(function(t,e){for(var n,r,i,o=t.length,s=a.dom;o--;)if(r=(n=t[o]).attr(e),i="data-mce-"+e,!n.attr(i)){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===e?((r=s.serializeStyle(s.parseStyle(r),n.name)).length||(r=null),n.attr(i,r),n.attr(e,r)):"tabindex"===e?(n.attr(i,r),n.attr(e,null)):n.attr(i,a.convertURL(r,e,n.name))}})),s.addNodeFilter("script",(function(t){for(var e,n,r=t.length;r--;)0!==(n=(e=t[r]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)})),s.addNodeFilter("#cdata",(function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"})),s.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(t){for(var e,n=t.length,r=a.schema.getNonEmptyElements();n--;)(e=t[n]).isEmpty(r)&&0===e.getAll("br").length&&(e.append(new qc("br",1)).shortEnded=!0)})),s),e.serializer=Xp(l,e),e.selection=hg(e.dom,e.getWin(),e.serializer,e),e.annotator=Fc(e),e.formatter=Lp(e),e.undoManager=ph(e),e._nodeChangeDispatcher=new cf(e),e._selectionOverrides=oh(e),function(t){var e,n;(e=t).on("click",(function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})),(n=t).parser.addNodeFilter("details",(function(t){q(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),n.serializer.addNodeFilter("details",(function(t){q(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",P(e)?e:null),t.attr("data-mce-open",null)}))}))}(e),function(t){t.on("click",(function(e){3<=e.detail&&function(t){var e=t.selection.getRng(),n=ys.fromRangeStart(e),r=ys.fromRangeEnd(e);if(ys.isElementPosition(n)){var i=n.container();lC(i)&&Ql.firstPositionIn(i).each((function(t){return e.setStart(t.container(),t.offset())}))}ys.isElementPosition(r)&&(i=n.container(),lC(i)&&Ql.lastPositionIn(i).each((function(t){return e.setEnd(t.container(),t.offset())}))),t.selection.setRng(_p(e))}(t)}))}(e),sC(e),function(t){nu(t)&&t.on("NodeChange",o(nf,t))}(e),e.fire("PreInit"),l.browser_spellcheck||l.gecko_spellcheck||(u.body.spellcheck=!1,cC.setAttrib(r,"spellcheck","false")),e.quirks=function(e){var n,r,i,o=Ke.each,a=If.BACKSPACE,s=If.DELETE,l=e.dom,c=e.selection,u=e.settings,d=e.parser,f=zt.gecko,h=zt.ie,p=zt.webkit,m="data:text/mce-internal,",g=h?"Text":"URL",v=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},b=function(t){return t.isDefaultPrevented()},y=function(){e.shortcuts.add("meta+a",null,"SelectAll")},C=function(){e.on("keydown",(function(t){if(!b(t)&&t.keyCode===a&&c.isCollapsed()&&0===c.getRng().startOffset){var e=c.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))},w=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",(function(t){var n;if("HTML"===t.target.nodeName){if(11<zt.ie)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}})))};return e.on("keydown",(function(t){var n,r,i,o,a;if(!b(t)&&t.keyCode===If.BACKSPACE&&(r=(n=c.getRng()).startContainer,i=n.startOffset,o=l.getRoot(),a=r,n.collapsed&&0===i)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(e.formatter.toggle("blockquote",null,a),(n=l.createRng()).setStart(r,0),n.setEnd(r,0),c.setRng(n))}})),n=function(t){var e=l.create("body"),n=t.cloneContents();return e.appendChild(n),c.serializer.serialize(e,{format:"html"})},e.on("keydown",(function(t){var r,i,o,c,u,d=t.keyCode;if(!b(t)&&(d===s||d===a)){if(r=e.selection.isCollapsed(),i=e.getBody(),r&&!l.isEmpty(i))return;if(!r&&(o=e.selection.getRng(),c=n(o),(u=l.createRng()).selectNode(e.getBody()),c!==n(u)))return;t.preventDefault(),e.setContent(""),i.firstChild&&l.isBlock(i.firstChild)?e.selection.setCursorLocation(i.firstChild,0):e.selection.setCursorLocation(i,0),e.nodeChanged()}})),zt.windowsPhone||e.on("keyup focusin mouseup",(function(t){If.modifierPressed(t)||c.normalize()}),!0),p&&(e.inline||l.bind(e.getDoc(),"mousedown mouseup",(function(t){var n;if(t.target===e.getDoc().documentElement)if(n=c.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Sa(n.startContainer))return;c.placeCaretAt(t.clientX,t.clientY)}else c.setRng(n)})),e.on("click",(function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==l.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&l.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),c.select(n))})),u.forced_root_block&&e.on("init",(function(){v("DefaultParagraphSeparator",nu(e))})),e.on("init",(function(){e.dom.bind(e.getBody(),"submit",(function(t){t.preventDefault()}))})),C(),d.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),zt.iOS?(e.inline||e.on("keydown",(function(){t.document.activeElement===t.document.body&&e.getWin().focus()})),w(),e.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):y()),11<=zt.ie&&(w(),C()),zt.ie&&(y(),v("AutoUrlDetect",!1),e.on("dragstart",(function(t){var n,r,i;(n=t).dataTransfer&&(e.selection.isCollapsed()&&"IMG"===n.target.tagName&&c.select(n.target),0<(r=e.selection.getContent()).length&&(i=m+escape(e.id)+","+escape(r),n.dataTransfer.setData(g,i)))})),e.on("drop",(function(t){if(!b(t)){var n=(o=t).dataTransfer&&(a=o.dataTransfer.getData(g))&&0<=a.indexOf(m)?(a=a.substr(m.length).split(","),{id:unescape(a[0]),html:unescape(a[1])}):null;if(n&&n.id!==e.id){t.preventDefault();var r=Am(t.x,t.y,e.getDoc());c.setRng(r),i=n.html,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:i,internal:!0}):e.execCommand("mceInsertContent",!1,i)}}var i,o,a}))),f&&(e.on("keydown",(function(t){if(!b(t)&&t.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(c.isCollapsed()&&0===c.getRng().startOffset){var n=c.getNode(),r=n.previousSibling;if("HR"===n.nodeName)return l.remove(n),void t.preventDefault();r&&r.nodeName&&"hr"===r.nodeName.toLowerCase()&&(l.remove(r),t.preventDefault())}}})),t.Range.prototype.getClientRects||e.on("mousedown",(function(t){if(!b(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Rt.setEditorTimeout(e,(function(){n.focus()}))}})),r=function(){var t=l.getAttribs(c.getStart().cloneNode(!1));return function(){var n=c.getStart();n!==e.getBody()&&(l.setAttrib(n,"style",null),o(t,(function(t){n.setAttributeNode(t.cloneNode(!0))})))}},i=function(){return!c.isCollapsed()&&l.getParent(c.getStart(),l.isBlock)!==l.getParent(c.getEnd(),l.isBlock)},e.on("keypress",(function(t){var n;if(!b(t)&&(8===t.keyCode||46===t.keyCode)&&i())return n=r(),e.getDoc().execCommand("delete",!1,null),n(),t.preventDefault(),!1})),l.bind(e.getDoc(),"cut",(function(t){var n;!b(t)&&i()&&(n=r(),Rt.setEditorTimeout(e,(function(){n()})))})),u.readonly||e.on("BeforeExecCommand mousedown",(function(){v("StyleWithCSS",!1),v("enableInlineTableEditing",!1),u.object_resizing||v("enableObjectResizing",!1)})),e.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||o(l.select("a"),(function(t){var e=t.parentNode,n=l.getRoot();if(e.lastChild===t){for(;e&&!l.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}l.add(e,"br",{"data-mce-bogus":1})}}))})),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),zt.mac&&e.on("keydown",(function(t){!If.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})),C()),{refreshContentEditable:function(){},isHidden:function(){var t;return!(!f||e.removed||(t=e.selection.getSel())&&t.rangeCount&&0!==t.rangeCount)}}}(e),e.fire("PostRender");var d,f,h,p,m,g=function(t){return t.getParam("directionality",Do.isRtl()?"rtl":void 0)}(e);void 0!==g&&(r.dir=g),l.protect&&e.on("BeforeSetContent",(function(t){Ke.each(l.protect,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),e.on("SetContent",(function(){e.addVisual(e.getBody())})),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",(function(t){e.composing="compositionstart"===t.type})),0<e.contentStyles.length&&(i="",Ke.each(e.contentStyles,(function(t){i+=t+"\r\n"})),e.dom.addStyle(i)),(d=e,d.inline?cC.styleSheetLoader:d.dom.styleSheetLoader).loadAll(e.contentCSS,(function(t){uC(e)}),(function(t){uC(e)})),l.content_style&&(f=e,h=l.content_style,p=cr(f.getDoc().head),m=sr("style"),Tr(m,"type","text/css"),$o(m,lr(h)),$o(p,m))},fC=To.DOM,hC=function(e,n){var r,i,o,a,s=e.editorManager.translate("Rich Text Area. Press ALT-0 for help."),l=(r=e.id,i=s,n.height,o=function(t){return t.getParam("iframe_attrs",{})}(e),a=sr("iframe"),zr(a,o),zr(a,{id:r+"_ifr",frameBorder:"0",allowTransparency:"true",title:i}),Zo(a,"tox-edit-area__iframe"),a).dom();l.onload=function(){l.onload=null,e.fire("load")};var c,u,d,f,h=function(e,n){if(t.document.domain!==t.window.location.hostname&&zt.ie&&zt.ie<12){var r=Yd("mce");e[r]=function(){dC(e)};var i='javascript:(function(){document.open();document.domain="'+t.document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return fC.setAttrib(n,"src",i),!0}return!1}(e,l);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=l,e.iframeHTML=(f=function(t){return t.getParam("doctype","<!DOCTYPE html>")}(c=e)+"<html><head>",function(t){return t.getParam("document_base_url","")}(c)!==c.documentBaseUrl&&(f+='<base href="'+c.documentBaseURI.getURI()+'" />'),f+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',u=function(t){return tu(t,"body_id","tinymce")}(c),d=function(t){return tu(t,"body_class","")}(c),eu(c)&&(f+='<meta http-equiv="Content-Security-Policy" content="'+eu(c)+'" />'),f+='</head><body id="'+u+'" class="mce-content-body '+d+'" data-id="'+c.id+'"><br></body></html>'),fC.add(n.iframeContainer,l),h},pC=function(t){var e,n,r,i,o;t.contentCSS=t.contentCSS.concat((n=function(t){var e=t.settings.content_css;return P(e)?U(e.split(","),Gn):L(e)?e:!1===e||t.inline?[]:["default"]}(e=t),r=e.editorManager.baseURL+"/skins/content",i="content"+e.editorManager.suffix+".css",o=!0===e.inline,U(n,(function(t){return/^[a-z0-9\-]+$/i.test(t)&&!o?r+"/"+t+"/"+i:e.documentBaseURI.toAbsolute(t)}))))},mC=To.DOM,gC=function(t,e,n){var r=Bd.get(n),i=Bd.urls[n]||t.documentBaseUrl.replace(/\/$/,"");if(n=Ke.trim(n),r&&-1===Ke.inArray(e,n)){if(Ke.each(Bd.dependencies(n),(function(n){gC(t,e,n)})),t.plugins[n])return;try{var o=new r(t,i,t.$);(t.plugins[n]=o).init&&(o.init(t,i),e.push(n))}catch(dx){Od(t,n,dx)}}},vC=function(t){return t.replace(/^\-/,"")},bC=function(t){return{editorContainer:t,iframeContainer:t}},yC=function(t){var e,n,r,i,o,a;t.fire("ScriptsLoaded"),e=t,n=Ke.trim(e.settings.icons),r=e.ui.registry.getAll().icons,i=at({},{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 1 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" fill-rule="nonzero"/></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2zm2 14h-2v2a2 2 0 0 0 2-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4zM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2.1 2a2 2 0 1 0 2.7 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6zM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19zm-1 8.8l.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" fill-rule="evenodd"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><g fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round" stroke="#000" stroke-width="2"><path d="M12 5v14M5 12h14"/></g></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7zM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" fill-rule="nonzero"/></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" fill-rule="evenodd"/></svg>',"table-delete-row":'<svg width="24" height="24"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" fill-rule="evenodd"/></svg>',"table-delete-table":'<svg width="24" height="26"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" fill-rule="evenodd"/></svg>',"table-insert-column-after":'<svg width="24" height="24"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" fill-rule="evenodd"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" fill-rule="evenodd"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" fill-rule="evenodd"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" fill-rule="evenodd"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" fill-rule="evenodd"/></svg>',"table-row-properties":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',"table-split-cells":'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" fill-rule="evenodd"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" fill-rule="evenodd"/></svg>',table:'<svg width="24" height="24"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" fill-rule="evenodd"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" fill-rule="nonzero"/></svg>'},Dd.get(n).icons),yr(i,(function(t,n){Er(r,n)||e.ui.registry.addIcon(n,t)})),function(t){var e=t.settings.theme;if(P(e)){t.settings.theme=vC(e);var n=Hd.get(e);t.theme=new n(t,Hd.urls[e]),t.theme.init&&t.theme.init(t,Hd.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}}(t),o=t,a=[],Ke.each(o.settings.plugins.split(/[ ,]/),(function(t){gC(o,a,vC(t))}));var s,l,c,u,d,f=(d=(s=t).getElement(),s.orgDisplay=d.style.display,P(s.settings.theme)?s.theme.renderUI():H(s.settings.theme)?(c=(l=s).getElement(),(u=(0,l.settings.theme)(l,c)).editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||l.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||l.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:c.offsetHeight,u):function(t){var e,n,r=t.getElement();return t.inline?bC(null):(e=r,n=mC.create("div"),mC.insertAfter(n,e),bC(n))}(s));return t.editorContainer=f.editorContainer?f.editorContainer:null,pC(t),t.inline?dC(t):function(t,e){var n=hC(t,e);e.editorContainer&&(fC.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=fC.isHidden(e.editorContainer)),t.getElement().style.display="none",fC.setAttrib(t.id,"aria-hidden","true"),n||dC(t)}(t,f)},CC=To.DOM,wC=function(t){return"-"===t.charAt(0)},xC=function(t,n){var r=Oo.ScriptLoader;!function(t,e,n,r){var i=e.settings,o=i.theme;if(P(o)){if(!wC(o)&&!Hd.urls.hasOwnProperty(o)){var a=i.theme_url;a?Hd.load(o,e.documentBaseURI.toAbsolute(a)):Hd.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue((function(){Hd.waitFor(o,r)}))}else r()}(r,t,n,(function(){var i,o;!function(t,n){var r=du(n),i=function(t){return t.getParam("language_url","","string")}(n);if(!1===Do.hasCode(r)&&"en"!==r){var o=""!==i?i:n.editorManager.baseURL+"/langs/"+r+".js";t.add(o,e,void 0,(function(){Md(o,r)}))}}(r,t),function(t,n){var r;(r=n,M.from(function(t){return t.getParam("icons_url","","string")}(r)).filter((function(t){return 0<t.length})).map((function(t){return{url:t,name:M.none()}}))).orThunk((function(){return t=n,M.from(function(t){return t.getParam("icons","","string")}(t)).filter((function(t){return 0<t.length&&!Dd.has(t)})).map((function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons.js",name:M.some(e)}}));var t})).each((function(n){t.add(n.url,e,void 0,(function(){Ad(n.url,n.name.getOrUndefined())}))}))}(r,t),i=t.settings,o=n,L(i.plugins)&&(i.plugins=i.plugins.join(" ")),Ke.each(i.external_plugins,(function(t,n){Bd.load(n,t,e,void 0,(function(){zd(n,t)})),i.plugins+=" "+n})),Ke.each(i.plugins.split(/[ ,]/),(function(t){if((t=Ke.trim(t))&&!Bd.urls[t])if(wC(t)){t=t.substr(1,t.length);var n=Bd.dependencies(t);Ke.each(n,(function(t){var n={prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"};t=Bd.createUrl(n,t),Bd.load(t.resource,t,e,void 0,(function(){zd(t.prefix+t.resource+t.suffix,t.resource)}))}))}else{var r={prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"};Bd.load(t,r,e,void 0,(function(){zd(r.prefix+r.resource+r.suffix,t)}))}})),r.loadQueue((function(){t.removed||yC(t)}),t,(function(){t.removed||yC(t)}))}))},_C="data-mce-contenteditable",EC=function(t,e,n){var r,i;Jo(t,e)&&!1===n?(i=e,Go(r=t)?r.dom().classList.remove(i):function(t,e){return i=e,0<(o=X(Yo(n=t,r="class"),(function(t){return t!==i}))).length?Tr(n,r,o.join(" ")):Mr(n,r),!1;var n,r,i,o}(r,i),function(t){0===(Go(t)?t.dom().classList:Yo(t,"class")).length&&Mr(t,"class")}(r)):n&&Zo(t,e)},SC=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(Ml){}},kC=function(t,e){t.dom().contentEditable=e?"true":"false"},NC=function(t,e){var n,r,i=cr(t.getBody());EC(i,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),r=t,M.from(r.selection.getNode()).each((function(t){t.removeAttribute("data-mce-selected")})),t.readonly=!0,kC(i,!1),q(ta(i,'*[contenteditable="true"]'),(function(t){Tr(t,_C,"true"),kC(t,!1)}))):(t.readonly=!1,kC(i,!0),q(ta(i,"*["+_C+'="true"]'),(function(t){Mr(t,_C),kC(t,!0)})),SC(t,"StyleWithCSS",!1),SC(t,"enableInlineTableEditing",!1),SC(t,"enableObjectResizing",!1),function(t){return Wu(t)||(e=t,bu().filter((function(t){return!function(t){var e=t.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))}(t.dom())&&$u(e,t.dom())})).isSome());var e}(t)&&t.focus(),(n=t).selection.setRng(n.selection.getRng()),t.nodeChanged())},TC=function(t){return!0===t.readonly},zC=function(t){t.parser.addAttributeFilter("contenteditable",(function(e){TC(t)&&q(e,(function(t){t.attr(_C,t.attr("contenteditable")),t.attr("contenteditable","false")}))})),t.serializer.addAttributeFilter(_C,(function(e){TC(t)&&q(e,(function(t){t.attr("contenteditable",t.attr(_C))}))})),t.serializer.addTempAttr(_C)},AC=["design","readonly"],MC=function(e,n,r,i){var o=r[n.get()],a=r[i];try{a.activate()}catch(dx){return void t.console.error("problem while activating editor mode "+i+":",dx)}o.deactivate(),o.editorReadOnly!==a.editorReadOnly&&NC(e,a.editorReadOnly),n.set(i),function(t,e){t.fire("SwitchMode",{mode:e})}(e,i)},OC=function(t){return 0<t.length&&(!(e=t[t.length-1]).firstChild||function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&(""===(e=t.firstChild).data||Mi.isBr(e));var e}(e))?t.slice(0,-1):t;var e},PC=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},RC=function(t,e){var n=xs.after(t),r=$l(e).prev(n);return r?r.toRange():null},LC=function(t,e,n,r){var i,o,a,s,l,c,u,d,f,h,p,m,g,v,b,y,C,w,x=(i=e,o=r,c=t.serialize(o),s=(a=i.createFragment(c)).firstChild,l=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),l&&"mce_marker"===l.id&&l.parentNode.removeChild(l),a),_=PC(e,n.startContainer),E=OC(function(t){return Ke.grep(t.childNodes,(function(t){return"LI"===t.nodeName}))}(x.firstChild)),S=e.getRoot(),k=function(t){var r=xs.fromRangeStart(n),i=$l(e.getRoot()),o=1===t?i.prev(r):i.next(r);return!o||PC(e,o.getNode())!==_};return k(1)?function(t,e,n){var r,i,o,a,s=t.parentNode;return Ke.each(e,(function(e){s.insertBefore(e,t)})),r=t,i=n,o=xs.before(r),(a=$l(i).next(o))?a.toRange():null}(_,E,S):k(2)?(u=_,d=E,f=S,e.insertAfter(d.reverse(),u),RC(d[0],f)):(p=E,m=S,g=h=_,b=(v=n).cloneRange(),y=v.cloneRange(),b.setStartBefore(g),y.setEndAfter(g),C=[b.cloneContents(),y.cloneContents()],(w=h.parentNode).insertBefore(C[0],h),Ke.each(p,(function(t){w.insertBefore(t,h)})),w.insertBefore(C[1],h),w.removeChild(h),RC(p[p.length-1],m))},DC=Mi.matchNodeNames(["td","th"]),BC=function(t,e){var n,r,i=t.selection.getRng(),o=i.startContainer,a=i.startOffset;i.collapsed&&(n=o,r=a,Mi.isText(n)&&""===n.nodeValue[r-1])&&Mi.isText(o)&&(o.insertData(a-1," "),o.deleteData(a,1),i.setStart(o,a),i.setEnd(o,a),t.selection.setRng(i)),t.selection.setContent(e)},HC=function(t,e,n){var r,i,o,a,s,l,c,u,d,f,h,p=t.selection,m=t.dom;if(/^ | $/.test(e)&&(e=function(t,e){var n,r;n=t.startContainer,r=t.startOffset;var i=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(0<r?e=e.replace(/^&nbsp;/," "):i("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):i("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(p.getRng(),e)),r=t.parser,h=n.merge,i=mu({validate:t.settings.validate},t.schema),f='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0,paste:n.paste},(l=t.fire("BeforeSetContent",l)).isDefaultPrevented())t.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,f);var g,v,b,y,C,w,x=(u=p.getRng()).startContainer||(u.parentElement?u.parentElement():null),_=t.getBody();x===_&&p.isCollapsed()&&m.isBlock(_.firstChild)&&(g=t,(v=_.firstChild)&&!g.schema.getShortEndedElements()[v.nodeName])&&m.isEmpty(_.firstChild)&&((u=m.createRng()).setStart(_.firstChild,0),u.setEnd(_.firstChild,0),p.setRng(u)),p.isCollapsed()||(t.selection.setRng(_p(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),y=e,C=(b=t.selection.getRng()).startContainer,w=b.startOffset,3===C.nodeType&&b.collapsed&&(""===C.data[w]?(C.deleteData(w,1),/[\u00a0| ]$/.test(y)||(y+=" ")):""===C.data[w-1]&&(C.deleteData(w-1,1),/[\u00a0| ]$/.test(y)||(y=" "+y))),e=y);var E,S,k,N={context:(o=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(s=r.parse(e,N),!0===n.paste&&function(t,e){var n,r,i,o,a,s,l=e.firstChild,c=e.lastChild;return l&&"meta"===l.name&&(l=l.next),c&&"mce_marker"===c.attr("id")&&(c=c.prev),r=c,s=(n=t).getNonEmptyElements(),r&&(r.isEmpty(s)||(i=r,n.getBlockElements()[i.name]&&(a=i).firstChild&&a.firstChild===a.lastChild&&("br"===(o=i.firstChild).name||""===o.value)))&&(c=c.prev),!(!l||l!==c||"ul"!==l.name&&"ol"!==l.name)}(t.schema,s)&&function(t,e){return!!PC(t,e)}(m,o))return u=LC(i,m,t.selection.getRng(),s),t.selection.setRng(u),void t.fire("SetContent",l);if(function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(s),"mce_marker"===(d=s.lastChild).attr("id"))for(d=(c=d).prev;d;d=d.walk(!0))if(3===d.type||!m.isBlock(d.name)){t.schema.isValidChild(d.parent.name,"span")&&d.parent.insert(c,d,"br"===d.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),N.invalid){for(BC(t,f),o=p.getNode(),a=t.getBody(),9===o.nodeType?o=d=a:d=o;d!==a;)d=(o=d).parentNode;e=o===a?a.innerHTML:m.getOuterHTML(o),e=i.serialize(r.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return i.serialize(s)})))),o===a?m.setHTML(a,e):m.setOuterHTML(o,e)}else!function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?t.dom.setHTML(n,e):BC(t,e)}}(t,e=i.serialize(s),o);!function(t,e){var n=t.schema.getTextInlineElements(),r=t.dom;if(e){var i=t.getBody(),o=new np(r);Ke.each(r.select("*[data-mce-fragment]"),(function(t){for(var e=t.parentNode;e&&e!==i;e=e.parentNode)n[t.nodeName.toLowerCase()]&&o.compare(e,t)&&r.remove(t,!0)}))}}(t,h),function(t,e){var n,r,i,o,a,s=t.dom,l=t.selection;if(e){if(t.selection.scrollIntoView(e),n=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e))return s.remove(e),l.select(n);var c=s.createRng();(o=e.previousSibling)&&3===o.nodeType?(c.setStart(o,o.nodeValue.length),zt.ie||(a=e.nextSibling)&&3===a.nodeType&&(o.appendData(a.data),a.parentNode.removeChild(a))):(c.setStartBefore(e),c.setEndBefore(e)),r=s.getParent(e,s.isBlock),s.remove(e),r&&s.isEmpty(r)&&(t.$(r).empty(),c.setStart(r,0),c.setEnd(r,0),DC(r)||r.getAttribute("data-mce-fragment")||!(i=function(e){var n=xs.fromRangeStart(e);if(n=$l(t.getBody()).next(n))return n.toRange()}(c))?s.add(r,s.create("br",{"data-mce-bogus":"1"})):(c=i,s.remove(r))),l.setRng(c)}}(t,m.get("mce_marker")),E=t.getBody(),Ke.each(E.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),S=t.dom,k=t.selection.getStart(),M.from(S.getParent(k,"td,th")).map(cr).each(gh),t.fire("SetContent",l),t.addVisual()}},IC=function(t,e){t.getDoc().execCommand(e,!1,null)},VC=function(t){return function(e,n){return M.from(n).map(cr).filter(mr).bind((function(n){return(o=t,a=e,s=n.dom(),l=function(t){return Rr(t,o)},ia(cr(s),(function(t){return l(t).isSome()}),(function(t){return Fr(cr(a),t)})).bind(l)).or((r=t,i=n.dom(),M.from(To.DOM.getStyle(i,r,!0))));var r,i,o,a,s,l})).getOr("")}},FC={getFontSize:VC("font-size"),getFontFamily:n((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),VC("font-family")),toPt:function(t,e){return/[0-9.]+px$/.test(t)?(n=72*parseInt(t,10)/96,r=e||0,i=Math.pow(10,r),Math.round(n*i)/i+"pt"):t;var n,r,i}},jC=function(t){return Ql.firstPositionIn(t.getBody()).map((function(t){var e=t.container();return Mi.isText(e)?e.parentNode:e}))},$C=function(t){return M.from(t.selection.getRng()).bind((function(e){var n,r;return r=t.getBody(),(n=e).startContainer===r&&0===n.startOffset?M.none():M.from(t.selection.getStart(!0))}))},UC=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(1<=n&&n<=7){var r=function(t){return Ke.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))}(t),i=function(t){return Ke.explode(t.getParam("font_size_classes",""))}(t);return i?i[n-1]||e:r[n-1]||e}return e}return e},qC=Ke.each,WC=Ke.map,XC=Ke.inArray,KC=function(){function t(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}return t.prototype.execCommand=function(t,e,n,r){var i,o,a=!1,s=this;if(!s.editor.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||r&&r.skip_focus?function(t){Ru(t).each((function(e){t.selection.setRng(e)}))}(s.editor):s.editor.focus(),(r=s.editor.fire("BeforeExecCommand",{command:t,ui:e,value:n})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),i=s.commands.exec[o])return i(o,e,n),s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(qC(this.editor.plugins,(function(r){if(r.execCommand&&r.execCommand(t,e,n))return s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!(a=!0)})),a)return a;if(s.editor.theme&&s.editor.theme.execCommand&&s.editor.theme.execCommand(t,e,n))return s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{a=s.editor.getDoc().execCommand(t,e,n)}catch(l){}return!!a&&(s.editor.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}},t.prototype.queryCommandState=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.state[t])return e(t);try{return this.editor.getDoc().queryCommandState(t)}catch(Al){}return!1}},t.prototype.queryCommandValue=function(t){var e;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),e=this.commands.value[t])return e(t);try{return this.editor.getDoc().queryCommandValue(t)}catch(Al){}}},t.prototype.addCommands=function(t,e){var n=this;e=e||"exec",qC(t,(function(t,r){qC(r.toLowerCase().split(","),(function(r){n.commands[e][r]=t}))}))},t.prototype.addCommand=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.exec[t]=function(t,i,o,a){return e.call(n||r.editor,i,o,a)}},t.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch(Ol){}return!1},t.prototype.addQueryStateHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.state[t]=function(){return e.call(n||r.editor)}},t.prototype.addQueryValueHandler=function(t,e,n){var r=this;t=t.toLowerCase(),this.commands.value[t]=function(){return e.call(n||r.editor)}},t.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},t.prototype.execNativeCommand=function(t,e,n){return void 0===e&&(e=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(t,e,n)},t.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},t.prototype.toggleFormat=function(t,e){this.editor.formatter.toggle(t,e?{value:e}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(t){var e=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(n){var r,i=t.getDoc();try{e.execNativeCommand(n)}catch(a){r=!0}if("paste"!==n||i.queryCommandEnabled(n)||(r=!0),r||!i.queryCommandSupported(n)){var o=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");zt.mac&&(o=o.replace(/Ctrl\+/g,"+")),t.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(t.selection.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var r=n.substring(7);"full"===r&&(r="justify"),qC("left,center,right,justify".split(","),(function(e){r!==e&&t.formatter.remove("align"+e)})),"none"!==r&&e.toggleFormat("align"+r)},"InsertUnorderedList,InsertOrderedList":function(n){var r,i;e.execNativeCommand(n),(r=t.dom.getParent(t.selection.getNode(),"ol,ul"))&&(i=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(e.storeSelection(),t.dom.split(i,r),e.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){e.toggleFormat(t)},"ForeColor,HiliteColor":function(t,n,r){e.toggleFormat(t,r)},FontName:function(e,n,r){!function(t,e){var n,r,i=UC(t,e);t.formatter.toggle("fontname",{value:(n=i,r=n.split(/\s*,\s*/),U(r,(function(t){return-1===t.indexOf(" ")||Yn(t,'"')||Yn(t,"'")?t:'"'+t+'"'})).join(","))}),t.nodeChanged()}(t,r)},FontSize:function(e,n,r){var i,o;o=r,(i=t).formatter.toggle("fontsize",{value:UC(i,o)}),i.nodeChanged()},RemoveFormat:function(e){t.formatter.remove(e)},mceBlockQuote:function(){e.toggleFormat("blockquote")},FormatBlock:function(t,n,r){return e.toggleFormat(r||"p")},mceCleanup:function(){var e=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(e)},mceRemoveNode:function(n,r,i){var o=i||t.selection.getNode();o!==t.getBody()&&(e.storeSelection(),t.dom.remove(o,!0),e.restoreSelection())},mceSelectNodeDepth:function(e,n,r){var i=0;t.dom.getParent(t.selection.getNode(),(function(e){if(1===e.nodeType&&i++===r)return t.selection.select(e),!1}),t.getBody())},mceSelectNode:function(e,n,r){t.selection.select(r)},mceInsertContent:function(e,n,r){!function(t,e){var n,r,i="string"!=typeof(n=e)?(r=Ke.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:r}):{content:n,details:{}};HC(t,i.content,i.details)}(t,r)},mceInsertRawHTML:function(e,n,r){t.selection.setContent("tiny_mce_marker");var i=t.getContent();t.setContent(i.replace(/tiny_mce_marker/g,(function(){return r})))},mceInsertNewLine:function(e,n,r){jy(t,r)},mceToggleFormat:function(t,n,r){e.toggleFormat(r)},mceSetContent:function(e,n,r){t.setContent(r)},"Indent,Outdent":function(e){Zb(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,n,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(e,n,r){var i;"string"==typeof r&&(r={href:r}),i=t.dom.getParent(t.selection.getNode(),"a"),r.href=r.href.replace(/ /g,"%20"),i&&r.href||t.formatter.remove("link"),r.href&&t.formatter.apply("link",r,i)},selectAll:function(){var e=t.dom.getParent(t.selection.getStart(),Mi.isContentEditableTrue);if(e){var n=t.dom.createRng();n.selectNodeContents(e),t.selection.setRng(n)}},delete:function(){!function(t){ay(t)||pb(t,!1)||vb(t,!1)||Cb(t,!1)||Jv(t,!1)||Ub(t)||eb(t)||_b(t,!1)||(IC(t,"Delete"),Vv(t))}(t)},forwardDelete:function(){!function(t){pb(t,!0)||vb(t,!0)||Cb(t,!0)||Jv(t,!0)||Ub(t)||eb(t)||_b(t,!0)||IC(t,"ForwardDelete")}(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,r){return zy(t,r),!0}});var n=function(e){return function(){var n=t.selection.isCollapsed()?[t.dom.getParent(t.selection.getNode(),t.dom.isBlock)]:t.selection.getSelectedBlocks(),r=WC(n,(function(n){return!!t.formatter.matchNode(n,e)}));return-1!==XC(r,!0)}};e.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return e.isFormatMatch(t)},mceBlockQuote:function(){return e.isFormatMatch("blockquote")},Outdent:function(){return Kb(t)},"InsertUnorderedList,InsertOrderedList":function(e){var n=t.dom.getParent(t.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===e&&"UL"===n.tagName||"insertorderedlist"===e&&"OL"===n.tagName)}},"state"),e.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),e.addQueryValueHandler("FontName",(function(){return $C(e=t).fold((function(){return jC(e).map((function(t){return FC.getFontFamily(e.getBody(),t)})).getOr("")}),(function(t){return FC.getFontFamily(e.getBody(),t)}));var e}),this),e.addQueryValueHandler("FontSize",(function(){return $C(e=t).fold((function(){return jC(e).map((function(t){return FC.getFontSize(e.getBody(),t)})).getOr("")}),(function(t){return FC.getFontSize(e.getBody(),t)}));var e}),this)},t}(),YC=Ke.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),GC=function(){function t(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||E}return t.isNative=function(t){return!!YC[t.toLowerCase()]},t.prototype.fire=function(t,e){var n,r,i,o;if(t=t.toLowerCase(),(e=e||{}).type=t,e.target||(e.target=this.scope),e.preventDefault||(e.preventDefault=function(){e.isDefaultPrevented=S},e.stopPropagation=function(){e.isPropagationStopped=S},e.stopImmediatePropagation=function(){e.isImmediatePropagationStopped=S},e.isDefaultPrevented=E,e.isPropagationStopped=E,e.isImmediatePropagationStopped=E),this.settings.beforeFire&&this.settings.beforeFire(e),n=this.bindings[t])for(r=0,i=n.length;r<i;r++){if((o=n[r]).once&&this.off(t,o.func),e.isImmediatePropagationStopped())return e.stopPropagation(),e;if(!1===o.func.call(this.scope,e))return e.preventDefault(),e}return e},t.prototype.on=function(t,e,n,r){var i,o,a;if(!1===e&&(e=E),e){var s={func:e};for(r&&Ke.extend(s,r),a=(o=t.toLowerCase().split(" ")).length;a--;)t=o[a],(i=this.bindings[t])||(i=this.bindings[t]=[],this.toggleEvent(t,!0)),n?i.unshift(s):i.push(s)}return this},t.prototype.off=function(t,e){var n,r,i,o,a;if(t)for(n=(o=t.toLowerCase().split(" ")).length;n--;){if(t=o[n],r=this.bindings[t],!t){for(i in this.bindings)this.toggleEvent(i,!1),delete this.bindings[i];return this}if(r){if(e)for(a=r.length;a--;)r[a].func===e&&(r=r.slice(0,a).concat(r.slice(a+1)),this.bindings[t]=r);else r.length=0;r.length||(this.toggleEvent(t,!1),delete this.bindings[t])}}else{for(t in this.bindings)this.toggleEvent(t,!1);this.bindings={}}return this},t.prototype.once=function(t,e,n){return this.on(t,e,n,{once:!0})},t.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||0===this.bindings[t].length)},t}(),ZC=function(t){return t._eventDispatcher||(t._eventDispatcher=new GC({scope:t,toggleEvent:function(e,n){GC.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},JC={fire:function(t,e,n){if(this.removed&&"remove"!==t&&"detach"!==t)return e;var r=ZC(this).fire(t,e);if(!1!==n&&this.parent)for(var i=this.parent();i&&!r.isPropagationStopped();)i.fire(t,r,!1),i=i.parent();return r},on:function(t,e,n){return ZC(this).on(t,e,n)},off:function(t,e){return ZC(this).off(t,e)},once:function(t,e){return ZC(this).once(t,e)},hasEventListeners:function(t){return ZC(this).has(t)}},QC=To.DOM,tw=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=QC.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},ew=function(t,e,n){var r,i,o;(o=t).hidden||TC(o)?TC(t)&&(i=(r=n).target,"click"===r.type&&"A"===i.tagName&&r.preventDefault()):t.fire(e,n)},nw=function(t,e){var n,r;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=tw(t,e),t.settings.event_root){if(rv||(rv={},t.editorManager.on("removeEditor",(function(){var e;if(!t.editorManager.activeEditor&&rv){for(e in rv)t.dom.unbind(tw(t,e));rv=null}}))),rv[e])return;r=function(n){for(var r=n.target,i=t.editorManager.get(),o=i.length;o--;){var a=i[o].getBody();(a===r||QC.isChildOf(r,a))&&ew(i[o],e,n)}},rv[e]=r,QC.bind(n,e,r)}else r=function(n){ew(t,e,n)},QC.bind(n,e,r),t.delegates[e]=r},rw=at({},JC,{bindPendingEventDelegates:function(){var t=this;Ke.each(t._pendingNativeEvents,(function(e){nw(t,e)}))},toggleNativeEvent:function(t,e){var n=this;"focus"!==t&&"blur"!==t&&(e?n.initialized?nw(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(tw(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this,n=e.getBody(),r=e.dom;if(e.delegates){for(t in e.delegates)e.dom.unbind(tw(e,t),t,e.delegates[t]);delete e.delegates}!e.inline&&n&&r&&(n.onload=null,r.unbind(e.getWin()),r.unbind(e.getDoc())),r&&(r.unbind(n),r.unbind(e.getContainer()))}}),iw=Ke.each,ow=Ke.explode,aw={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},sw=Ke.makeMap("alt,ctrl,shift,meta,access"),lw=function(){function t(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var e=this;t.on("keyup keypress keydown",(function(t){!e.hasModifier(t)&&!e.isFunctionKey(t)||t.isDefaultPrevented()||(iw(e.shortcuts,(function(n){if(e.matchShortcut(t,n))return e.pendingPatterns=n.subpatterns.slice(0),"keydown"===t.type&&e.executeShortcutAction(n),!0})),e.matchShortcut(t,e.pendingPatterns[0])&&(1===e.pendingPatterns.length&&"keydown"===t.type&&e.executeShortcutAction(e.pendingPatterns[0]),e.pendingPatterns.shift()))}))}return t.prototype.add=function(t,e,n,r){var i,o=this;return"string"==typeof(i=n)?n=function(){o.editor.execCommand(i,!1,null)}:Ke.isArray(i)&&(n=function(){o.editor.execCommand(i[0],i[1],i[2])}),iw(ow(Ke.trim(t)),(function(t){var i=o.createShortcut(t,e,n,r);o.shortcuts[i.id]=i})),!0},t.prototype.remove=function(t){var e=this.createShortcut(t);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},t.prototype.parseShortcut=function(t){var e,n,r={};for(n in iw(ow(t.toLowerCase(),"+"),(function(t){t in sw?r[t]=!0:/^[0-9]{2,}$/.test(t)?r.keyCode=parseInt(t,10):(r.charCode=t.charCodeAt(0),r.keyCode=aw[t]||t.toUpperCase().charCodeAt(0))})),e=[r.keyCode],sw)r[n]?e.push(n):r[n]=!1;return r.id=e.join(","),r.access&&(r.alt=!0,zt.mac?r.ctrl=!0:r.shift=!0),r.meta&&(zt.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},t.prototype.createShortcut=function(t,e,n,r){var i;return(i=Ke.map(ow(t,">"),this.parseShortcut))[i.length-1]=Ke.extend(i[i.length-1],{func:n,scope:r||this.editor}),Ke.extend(i[0],{desc:this.editor.translate(e),subpatterns:i.slice(1)})},t.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},t.prototype.isFunctionKey=function(t){return"keydown"===t.type&&112<=t.keyCode&&t.keyCode<=123},t.prototype.matchShortcut=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},t.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},t}(),cw=Ke.each,uw=Ke.trim,dw="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),fw={ftp:21,http:80,https:443,mailto:25},hw=function(){function e(n,r){n=uw(n),this.settings=r||{};var i=this.settings.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n))o.source=n;else{var a=0===n.indexOf("//");if(0!==n.indexOf("/")||a||(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var s=this.settings.base_uri?this.settings.base_uri.path:new e(t.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)n="//mce_host"+o.toAbsPath(s,n);else{var l=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+o.toAbsPath(s,l[1])+l[2]}}n=n.replace(/@@/g,"(mce_at)");var c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);cw(dw,(function(t,e){var n=c[e];n&&(n=n.replace(/\(mce_at\)/g,"@@")),o[t]=n})),i&&(o.protocol||(o.protocol=i.protocol),o.userInfo||(o.userInfo=i.userInfo),o.port||"mce_host"!==o.host||(o.port=i.port),o.host&&"mce_host"!==o.host||(o.host=i.host),o.source=""),a&&(o.protocol="")}}return e.parseDataUri=function(t){var e,n=decodeURIComponent(t).split(","),r=/data:([^;]+)/.exec(n[0]);return r&&(e=r[1]),{type:e,data:n[1]}},e.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},e.prototype.setPath=function(t){var e=/^(.*?)\/?(\w+)?$/.exec(t);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},e.prototype.toRelative=function(t){var n;if("./"===t)return t;var r=new e(t,{base_uri:this});if("mce_host"!==r.host&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&""!==r.protocol)return r.getURI();var i=this.getURI(),o=r.getURI();return i===o||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===o?i:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},e.prototype.toAbsolute=function(t,n){var r=new e(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},e.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=fw[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},e.prototype.toRelPath=function(t,e){var n,r,i,o=0,a="",s=t.substring(0,t.lastIndexOf("/")).split("/");if(n=e.split("/"),s.length>=n.length)for(r=0,i=s.length;r<i;r++)if(r>=n.length||s[r]!==n[r]){o=r+1;break}if(s.length<n.length)for(r=0,i=n.length;r<i;r++)if(r>=s.length||s[r]!==n[r]){o=r+1;break}if(1===o)return e;for(r=0,i=s.length-(o-1);r<i;r++)a+="../";for(r=o-1,i=n.length;r<i;r++)a+=r!==o-1?"/"+n[r]:n[r];return a},e.prototype.toAbsPath=function(t,e){var n,r,i,o=0,a=[];r=/\/$/.test(e)?"/":"";var s=t.split("/"),l=e.split("/");for(cw(s,(function(t){t&&a.push(t)})),s=a,n=l.length-1,a=[];0<=n;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?0<o?o--:a.push(l[n]):o++);return 0!==(i=(n=s.length-o)<=0?a.reverse().join("/"):s.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(i="/"+i),r&&i.lastIndexOf("/")!==i.length-1&&(i+=r),i},e.prototype.getURI=function(t){var e;return void 0===t&&(t=!1),this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source},e}(),pw=function(){var t,e,n,r,i,o,a,s,l=(e={},n={},r={},i={},o={},a={},{addButton:(s=function(t,e){return function(n,r){return t[n.toLowerCase()]=at({},r,{type:e})}})(t={},"button"),addToggleButton:s(t,"togglebutton"),addMenuButton:s(t,"menubutton"),addSplitButton:s(t,"splitbutton"),addMenuItem:s(e,"menuitem"),addNestedMenuItem:s(e,"nestedmenuitem"),addToggleMenuItem:s(e,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(i,"contextmenu"),addContextToolbar:s(o,"contexttoolbar"),addContextForm:s(o,"contextform"),addSidebar:s(a,"sidebar"),addIcon:function(t,e){return r[t.toLowerCase()]=e},getAll:function(){return{buttons:t,menuItems:e,icons:r,popups:n,contextMenus:i,contextToolbars:o,sidebars:a}}});return{addAutocompleter:l.addAutocompleter,addButton:l.addButton,addContextForm:l.addContextForm,addContextMenu:l.addContextMenu,addContextToolbar:l.addContextToolbar,addIcon:l.addIcon,addMenuButton:l.addMenuButton,addMenuItem:l.addMenuItem,addNestedMenuItem:l.addNestedMenuItem,addSidebar:l.addSidebar,addSplitButton:l.addSplitButton,addToggleButton:l.addToggleButton,addToggleMenuItem:l.addToggleMenuItem,getAll:l.getAll}},mw=To.DOM,gw=Ke.extend,vw=Ke.each,bw=Ke.resolve,yw=zt.ie,Cw=function(){function n(n,r,i){var o,a,s,l,c,u=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,gw(this,rw),this.settings=(o=n,a=this.documentBaseUrl,s=i.defaultSettings,l=r,c={id:o,theme:"silver",plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:this.convertURL,url_converter_scope:this},fd(ad,sd,c,s,l)),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,Io.languageLoad=this.settings.language_load,Io.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new hw(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=this.settings.inline,this.shortcuts=new lw(this),this.editorCommands=new KC(this),this.settings.cache_suffix&&(zt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:pw()};var d=function(n){var r,i,o=Po("design"),a=Po({design:{activate:e,deactivate:e,editorReadOnly:!1},readonly:{activate:e,deactivate:e,editorReadOnly:!0}});return(r=n).serializer?zC(r):r.on("PreInit",(function(){zC(r)})),(i=n).on("ShowCaret",(function(t){TC(i)&&t.preventDefault()})),i.on("ObjectSelected",(function(t){TC(i)&&t.preventDefault()})),{isReadOnly:function(){return TC(n)},set:function(t){return function(t,e,n,r){if(r!==n.get()){if(!Er(e,r))throw new Error("Editor mode '"+r+"' is invalid");t.initialized?MC(t,n,e,r):t.on("init",(function(){return MC(t,n,e,r)}))}}(n,a.get(),o,t)},get:function(){return o.get()},register:function(e,n){a.set(function(e,n,r){var i;if(j(AC,n))throw new Error("Cannot override default mode "+n);return at({},e,((i={})[n]=at({},r,{deactivate:function(){try{r.deactivate()}catch(dx){t.console.error("problem while deactivating editor mode "+n+":",dx)}}}),i))}(a.get(),e,n))}}}(this);this.mode=d,this.setMode=d.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=zn.overrideDefaults((function(){return{context:u.inline?u.getBody():u.getDoc(),element:u.getBody()}}))}return n.prototype.render=function(){!function(e){var n=e.settings,r=e.id;Do.setCode(du(e));var i=function(){CC.unbind(t.window,"ready",i),e.render()};if($t.Event.domLoaded){if(e.getElement()&&zt.contentEditable){n.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||CC.getParent(r,"form");o&&(e.formElement=o,n.hidden_input&&!Mi.isTextareaOrInput(e.getElement())&&(CC.insertAfter(CC.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},CC.bind(o,"submit reset",e.formEventDelegate),e.on("reset",(function(){e.resetContent()})),!n.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)})),e.windowManager=_d(e),e.notificationManager=wd(e),"xml"===n.encoding&&e.on("GetContent",(function(t){t.save&&(t.content=CC.encode(t.content))})),n.add_form_submit_trigger&&e.on("submit",(function(){e.initialized&&e.save()})),n.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),xC(e,e.suffix)}}else CC.bind(t.window,"ready",i)}(this)},n.prototype.focus=function(t){!function(t,e){t.removed||(e?Xu(t):function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===Wu(t)&&Du(t).each((function(e){t.selection.setRng(e),r=e}));var i,o,a=(i=t,o=e.getNode(),i.dom.getParent(o,(function(t){return"true"===i.dom.getContentEditable(t)})));if(t.$.contains(n,a))return qu(a),Uu(t,r),Xu(t);t.inline||(zt.opera||qu(n),t.getWin().focus()),(zt.gecko||t.inline)&&(qu(n),Uu(t,r)),Xu(t)}(t))}(this,t)},n.prototype.hasFocus=function(){return Ku(this)},n.prototype.execCallback=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r,i=this.settings[t];if(i)return this.callbackLookup&&(r=this.callbackLookup[t])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=(r=i.replace(/\.\w+$/,""))?bw(r):0,i=bw(i),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[t]={func:i,scope:r}),i.apply(r||this,Array.prototype.slice.call(arguments,1))},n.prototype.translate=function(t){return Do.translate(t)},n.prototype.getParam=function(t,e,n){return function(t,e,n,r){var i,o,a,s=e in t.settings?t.settings[e]:n;return"hash"===r?(a={},"string"==typeof(o=s)?q(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),(function(t){var e=t.split("=");1<e.length?a[Ke.trim(e[0])]=Ke.trim(e[1]):a[Ke.trim(e[0])]=Ke.trim(e[0])})):a=o,a):"string"===r?hd(P,t,e).getOr(n):"number"===r?hd(I,t,e).getOr(n):"boolean"===r?hd(B,t,e).getOr(n):"object"===r?hd(R,t,e).getOr(n):"array"===r?hd(L,t,e).getOr(n):"string[]"===r?hd((i=P,function(t){return L(t)&&et(t,i)}),t,e).getOr(n):"function"===r?hd(H,t,e).getOr(n):s}(this,t,e,n)},n.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},n.prototype.addCommand=function(t,e,n){this.editorCommands.addCommand(t,e,n)},n.prototype.addQueryStateHandler=function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},n.prototype.addQueryValueHandler=function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},n.prototype.addShortcut=function(t,e,n,r){this.shortcuts.add(t,e,n,r)},n.prototype.execCommand=function(t,e,n,r){return this.editorCommands.execCommand(t,e,n,r)},n.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},n.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},n.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},n.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(mw.show(this.getContainer()),mw.hide(this.id)),this.load(),this.fire("show"))},n.prototype.hide=function(){var t=this,e=t.getDoc();t.hidden||(yw&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(mw.hide(t.getContainer()),mw.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},n.prototype.isHidden=function(){return!!this.hidden},n.prototype.setProgressState=function(t,e){this.fire("ProgressState",{state:t,time:e})},n.prototype.load=function(t){var e,n=this.getElement();if(this.removed)return"";if(n){(t=t||{}).load=!0;var r=Mi.isTextareaOrInput(n)?n.value:n.innerHTML;return e=this.setContent(r,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e}},n.prototype.save=function(t){var e,n,r=this,i=r.getElement();if(i&&r.initialized&&!r.removed)return(t=t||{}).save=!0,t.element=i,t.content=r.getContent(t),t.no_events||r.fire("SaveContent",t),"raw"===t.format&&r.fire("RawSaveContent",t),e=t.content,Mi.isTextareaOrInput(i)?i.value=e:(!t.is_removing&&r.inline||(i.innerHTML=e),(n=mw.getParent(r.id,"form"))&&vw(n.elements,(function(t){if(t.name===r.id)return t.value=e,!1}))),t.element=i=null,!1!==t.set_dirty&&r.setDirty(!1),e},n.prototype.setContent=function(t,e){return Zu(this,t,e)},n.prototype.getContent=function(t){return e=this,void 0===(n=t)&&(n={}),M.from(e.getBody()).fold(r("tree"===n.format?new qc("body",11):""),(function(t){return function(t,e,n){var r,i,o,a,s;if(e.format=e.format?e.format:"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)r=Ke.trim(Jc(t.serializer,n.innerHTML));else if("text"===e.format)r=Ca(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);o=(i=t).serializer.serialize(n,e),a=nu(i),s=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+a+">[\r\n]*|<br \\/>[\r\n]*)$"),r=o.replace(s,"")}return"text"===e.format||Ui(cr(n))?e.content=r:e.content=Ke.trim(r),e.no_events||t.fire("GetContent",e),e.content}(e,n,t)}));var e,n},n.prototype.insertContent=function(t,e){e&&(t=gw({content:t},e)),this.execCommand("mceInsertContent",!1,t)},n.prototype.resetContent=function(t){void 0===t?Zu(this,this.startContent,{format:"raw"}):Zu(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},n.prototype.isDirty=function(){return!this.isNotDirty},n.prototype.setDirty=function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},n.prototype.getContainer=function(){return this.container||(this.container=mw.get(this.editorContainer||this.id+"_parent")),this.container},n.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},n.prototype.getElement=function(){return this.targetElm||(this.targetElm=mw.get(this.id)),this.targetElm},n.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},n.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},n.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},n.prototype.convertURL=function(t,e,n){var r=this.settings;return r.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,r.remove_script_host)},n.prototype.addVisual=function(t){var e,n=this,r=n.settings,i=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),vw(i.select("table,a",t),(function(t){var o;switch(t.nodeName){case"TABLE":return e=r.visual_table_class||"mce-item-table",void((o=i.getAttrib(t,"border"))&&"0"!==o||!n.hasVisual?i.removeClass(t,e):i.addClass(t,e));case"A":return void(i.getAttrib(t,"href")||(o=i.getAttrib(t,"name")||t.id,e=r.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?i.addClass(t,e):i.removeClass(t,e)))}})),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},n.prototype.remove=function(){!function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,r=t.getBody(),i=t.getElement();r&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&i&&Ju.remove(i.nextSibling),function(t){t.fire("remove")}(t),t.editorManager.remove(t),!t.inline&&r&&(o=t,Ju.setStyle(o.id,"display",o.orgDisplay)),function(t){t.fire("detach")}(t),Ju.remove(t.getContainer()),Qu(e),Qu(n),t.destroy()}var o}(this)},n.prototype.destroy=function(t){!function(t,e){var n,r,i,o=t.selection,a=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Qu(o),Qu(a)),(r=(n=t).formElement)&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),Ju.unbind(r,"submit reset",n.formEventDelegate)),(i=t).contentAreaContainer=i.formElement=i.container=i.editorContainer=null,i.bodyElement=i.contentDocument=i.contentWindow=null,i.iframeElement=i.targetElm=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),t.destroyed=!0):t.remove())}(this,t)},n.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},n.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},n.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},n.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},n.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},n.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},n}(),ww=To.DOM,xw=Ke.explode,_w=Ke.each,Ew=Ke.extend,Sw=0,kw=!1,Nw=[],Tw=[],zw=function(t){var e=t.type;_w(Pw.get(),(function(n){switch(e){case"scroll":n.fire("ScrollWindow",t);break;case"resize":n.fire("ResizeWindow",t)}}))},Aw=function(t){t!==kw&&(t?zn(window).on("resize scroll",zw):zn(window).off("resize scroll",zw),kw=t)},Mw=function(t){var e=Tw;delete Nw[t.id];for(var n=0;n<Nw.length;n++)if(Nw[n]===t){Nw.splice(n,1);break}return Tw=X(Tw,(function(e){return t!==e})),Pw.activeEditor===t&&(Pw.activeEditor=0<Tw.length?Tw[0]:null),Pw.focusedEditor===t&&(Pw.focusedEditor=null),e.length!==Tw.length},Ow="CSS1Compat"!==t.document.compatMode,Pw=at({},JC,{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:zn,majorVersion:"5",minorVersion:"0.14",releaseDate:"2019-08-19",editors:Nw,i18n:Do,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,n,r,i,a="";if(n=hw.getDocumentBaseUrl(t.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),r=window.tinymce||window.tinyMCEPreInit)e=r.base||r.baseURL,a=r.suffix;else{for(var s=t.document.getElementsByTagName("script"),l=0;l<s.length;l++){var c=(i=s[l].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==c.indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/"));break}}!e&&t.document.currentScript&&(-1!==(i=t.document.currentScript.src).indexOf(".min")&&(a=".min"),e=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new hw(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new hw(this.baseURL),this.suffix=a,function(t){t.on("AddEditor",o(Fu,t)),t.on("RemoveEditor",o(ju,t))}(this)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&this._setBaseUrl(e),n=t.suffix,t.suffix&&(this.suffix=n);var r=(this.defaultSettings=t).plugin_base_urls;for(var i in r)Io.PluginManager.urls[i]=r[i]},init:function(e){var n,r,i=this;r=Ke.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");var o=function(t){var e=t.id;return e||(e=(e=t.name)&&!ww.get(e)?t.name:ww.uniqueId(),t.setAttribute("id",e)),e},a=function(t,e){return e.constructor===RegExp?e.test(t.className):ww.hasClass(t,e)},s=function(t){n=t},l=function(){var n,c=0,u=[],d=function(t,e,r){var o=new Cw(t,e,i);u.push(o),o.on("init",(function(){++c===n.length&&s(u)})),o.targetElm=o.targetElm||r,o.render()};ww.unbind(window,"ready",l),function(t){var n=e[t];n&&n.apply(i,Array.prototype.slice.call(arguments,2))}("onpageload"),n=zn.unique(function(e){var n,r=[];if(zt.ie&&zt.ie<11)return Ld("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(Ow)return Ld("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(e.types)return _w(e.types,(function(t){r=r.concat(ww.select(t.selector))})),r;if(e.selector)return ww.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":0<(n=e.elements||"").length&&_w(xw(n),(function(e){var n;(n=ww.get(e))?r.push(n):_w(t.document.forms,(function(t){_w(t.elements,(function(t){t.name===e&&(e="mce_editor_"+Sw++,ww.setAttrib(t,"id",e),r.push(t))}))}))}));break;case"textareas":case"specific_textareas":_w(ww.select("textarea"),(function(t){e.editor_deselector&&a(t,e.editor_deselector)||e.editor_selector&&!a(t,e.editor_selector)||r.push(t)}))}return r}(e)),e.types?_w(e.types,(function(t){Ke.each(n,(function(n){return!ww.is(n,t.selector)||(d(o(n),Ew({},e,t),n),!1)}))})):(Ke.each(n,(function(t){var e;(e=i.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Mw(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)})),0===(n=Ke.grep(n,(function(t){return!i.get(t.id)}))).length?s([]):_w(n,(function(t){var n;n=t,e.inline&&n.tagName.toLowerCase()in r?Ld("Could not initialize inline editor on invalid inline target element",t):d(o(t),e,t)})))};return i.settings=e,ww.bind(window,"ready",l),new At((function(t){n?t(n):s=function(e){t(e)}}))},get:function(t){return 0===arguments.length?Tw.slice(0):P(t)?G(Tw,(function(e){return e.id===t})).getOr(null):I(t)&&Tw[t]?Tw[t]:null},add:function(t){var e=this;return Nw[t.id]===t||(null===e.get(t.id)&&("length"!==t.id&&(Nw[t.id]=t),Nw.push(t),Tw.push(t)),Aw(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),iv||(iv=function(t){var n=e.fire("BeforeUnload");if(n.returnValue)return t.preventDefault(),t.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",iv))),t},createEditor:function(t,e){return this.add(new Cw(t,e,this))},remove:function(t){var e,n,r=this;if(t){if(!P(t))return n=t,D(r.get(n.id))?null:(Mw(n)&&r.fire("RemoveEditor",{editor:n}),0===Tw.length&&window.removeEventListener("beforeunload",iv),n.remove(),Aw(0<Tw.length),n);_w(ww.select(t),(function(t){(n=r.get(t.id))&&r.remove(n)}))}else for(e=Tw.length-1;0<=e;e--)r.remove(Tw[e])},execCommand:function(t,e,n){var r=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new Cw(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){_w(Tw,(function(t){t.save()}))},addI18n:function(t,e){Do.add(t,e)},translate:function(t){return Do.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new hw(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new hw(this.baseURL)}});function Rw(t){return{walk:function(e,n){return Dc(t,e,n)},split:Sh,normalize:function(e){return ig(t,e).fold(r(!1),(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}}Pw.setup(),(ov=Rw||(Rw={})).compareRanges=rf,ov.getCaretRangeFromPoint=Am,ov.getSelectedNode=Ga,ov.getNode=Za;var Lw,Dw,Bw,Hw,Iw=Rw,Vw=(Lw={},Dw={},{load:function(e,n){var r='Script at URL "'+n+'" failed to load',i='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+e+"', data)` within 1 second";if(void 0!==Lw[e])return Lw[e];var o=new At((function(o,a){var s=function(e,n,r){void 0===r&&(r=1e3);var i=!1,o=null,a=function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];i||(i=!0,null!==o&&(t.clearTimeout(o),o=null),e.apply(null,n))}},s=a(e),l=a(n);return{start:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i||null!==o||(o=t.setTimeout((function(){return l.apply(null,e)}),r))},resolve:s,reject:l}}(o,a);Dw[e]=s.resolve,Oo.ScriptLoader.loadScript(n,(function(){return s.start(i)}),(function(){return s.reject(r)}))}));return Lw[e]=o},add:function(t,e){void 0!==Dw[t]&&(Dw[t](e),delete Dw[t]),Lw[t]=At.resolve(e)}}),Fw=Math.min,jw=Math.max,$w=Math.round,Uw=function(t,e,n){var r,i,o,a,s,l;return r=e.x,i=e.y,o=t.w,a=t.h,s=e.w,l=e.h,"b"===(n=(n||"").split(""))[0]&&(i+=l),"r"===n[1]&&(r+=s),"c"===n[0]&&(i+=$w(l/2)),"c"===n[1]&&(r+=$w(s/2)),"b"===n[3]&&(i-=a),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=$w(a/2)),"c"===n[4]&&(r-=$w(o/2)),qw(r,i,o,a)},qw=function(t,e,n,r){return{x:t,y:e,w:n,h:r}},Ww={inflate:function(t,e,n){return qw(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:Uw,findBestRelativePosition:function(t,e,n,r){var i,o;for(o=0;o<r.length;o++)if((i=Uw(t,e,r[o])).x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o];return null},intersect:function(t,e){var n,r,i,o;return n=jw(t.x,e.x),r=jw(t.y,e.y),i=Fw(t.x+t.w,e.x+e.w),o=Fw(t.y+t.h,e.y+e.h),i-n<0||o-r<0?null:qw(n,r,i-n,o-r)},clamp:function(t,e,n){var r,i,o,a,s,l,c,u,d,f;return s=t.x,l=t.y,c=t.x+t.w,u=t.y+t.h,d=e.x+e.w,f=e.y+e.h,r=jw(0,e.x-s),i=jw(0,e.y-l),o=jw(0,c-d),a=jw(0,u-f),s+=r,l+=i,n&&(c+=r,u+=i,s-=o,l-=a),qw(s,l,(c-=o)-s,(u-=a)-l)},create:qw,fromClientRect:function(t){return qw(t.left,t.top,t.width,t.height)}},Xw=Ke.each,Kw=Ke.extend,Yw=function(){};Yw.extend=Bw=function(t){var e,n,r,i=this.prototype,o=function(){var t,e,n;if(!Hw&&(this.init&&this.init.apply(this,arguments),e=this.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(this,arguments)},a=function(){return this},s=function(t,e){return function(){var n,r=this._super;return this._super=i[t],n=e.apply(this,arguments),this._super=r,n}};for(n in Hw=!0,e=new this,Hw=!1,t.Mixins&&(Xw(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),i.Mixins&&(t.Mixins=i.Mixins.concat(t.Mixins))),t.Methods&&Xw(t.Methods.split(","),(function(e){t[e]=a})),t.Properties&&Xw(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}})),t.Statics&&Xw(t.Statics,(function(t,e){o[e]=t})),t.Defaults&&i.Defaults&&(t.Defaults=Kw({},i.Defaults,t.Defaults)),t)"function"==typeof(r=t[n])&&i[n]?e[n]=s(n,r):e[n]=r;return o.prototype=e,(o.constructor=o).extend=Bw,o};var Gw,Zw,Jw,Qw,tx=Math.min,ex=Math.max,nx=Math.round,rx={serialize:function(t){var e=JSON.stringify(t);return P(e)?e.replace(/[\u0080-\uFFFF]/g,(function(t){var e=t.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e})):e},parse:function(t){try{return JSON.parse(t)}catch(Ol){}}},ix={callbacks:{},count:0,send:function(t){var e=this,n=To.DOM,r=void 0!==t.count?t.count:e.count,i="tinymce_jsonp_"+r;e.callbacks[r]=function(o){n.remove(i),delete e.callbacks[r],t.callback(o)},n.add(n.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),e.count++}},ox=at({},JC,{send:function(e){var n,r=0,i=function(){!e.async||4===n.readyState||1e4<r++?(e.success&&r<1e4&&200===n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<r?"TIMED_OUT":"GENERAL",n,e),n=null):Rt.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",ox.fire("beforeInitialize",{settings:e}),n=new t.XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Ke.each(e.requestheaders,(function(t){n.setRequestHeader(t.key,t.value)})),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=ox.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return i();Rt.setTimeout(i,10)}}}),ax=Ke.extend,sx=function(){function t(t){this.settings=ax({},t),this.count=0}return t.sendRPC=function(e){return(new t).send(e)},t.prototype.send=function(t){var e=t.error,n=t.success,r=ax(this.settings,t);r.success=function(t,i){void 0===(t=rx.parse(t))&&(t={error:"JSON Parse error."}),t.error?e.call(r.error_scope||r.scope,t.error,i):n.call(r.success_scope||r.scope,t.result)},r.error=function(t,n){e&&e.call(r.error_scope||r.scope,t,n)},r.data=rx.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),r.content_type="application/json",ox.send(r)},t}();try{Gw=t.window.localStorage}catch(dx){Zw={},Jw=[],Qw={getItem:function(t){return Zw[t]||null},setItem:function(t,e){Jw.push(t),Zw[t]=String(e)},key:function(t){return Jw[t]},removeItem:function(t){Jw=Jw.filter((function(e){return e===t})),delete Zw[t]},clear:function(){Jw=[],Zw={}},length:0},Object.defineProperty(Qw,"length",{get:function(){return Jw.length},configurable:!1,enumerable:!1}),Gw=Qw}var lx,cx={geom:{Rect:Ww},util:{Promise:At,Delay:Rt,Tools:Ke,VK:If,URI:hw,Class:Yw,EventDispatcher:GC,Observable:JC,I18n:Do,XHR:ox,JSON:rx,JSONRequest:sx,JSONP:ix,LocalStorage:Gw,Color:function(t){var e={},n=0,r=0,i=0,o=function(t){var o;return"object"==typeof t?"r"in t?(n=t.r,r=t.g,i=t.b):"v"in t&&function(t,e,o){var a,s,l,c;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,o=parseInt(o,10)/100,e=ex(0,tx(e,1)),o=ex(0,tx(o,1)),0!==e){switch(a=t/60,l=(s=o*e)*(1-Math.abs(a%2-1)),c=o-s,Math.floor(a)){case 0:n=s,r=l,i=0;break;case 1:n=l,r=s,i=0;break;case 2:n=0,r=s,i=l;break;case 3:n=0,r=l,i=s;break;case 4:n=l,r=0,i=s;break;case 5:n=s,r=0,i=l;break;default:n=r=i=0}n=nx(255*(n+c)),r=nx(255*(r+c)),i=nx(255*(i+c))}else n=r=i=nx(255*o)}(t.h,t.s,t.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(o[1],10),r=parseInt(o[2],10),i=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(o[1],16),r=parseInt(o[2],16),i=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(o[1]+o[1],16),r=parseInt(o[2]+o[2],16),i=parseInt(o[3]+o[3],16)),n=n<0?0:255<n?255:n,r=r<0?0:255<r?255:r,i=i<0?0:255<i?255:i,e};return t&&o(t),e.toRgb=function(){return{r:n,g:r,b:i}},e.toHsv=function(){return t=n,e=r,o=i,s=0,(l=tx(t/=255,tx(e/=255,o/=255)))===(c=ex(t,ex(e,o)))?{h:0,s:0,v:100*(s=l)}:(a=(c-l)/c,{h:nx(60*((t===l?3:o===l?1:5)-(t===l?e-o:o===l?t-e:o-t)/((s=c)-l))),s:nx(100*a),v:nx(100*s)});var t,e,o,a,s,l,c},e.toHex=function(){var t=function(t){return 1<(t=parseInt(t,10).toString(16)).length?t:"0"+t};return"#"+t(n)+t(r)+t(i)},e.parse=o,e}},dom:{EventUtils:$t,Sizzle:Se,DomQuery:zn,TreeWalker:Oi,DOMUtils:To,ScriptLoader:Oo,RangeUtils:Iw,Serializer:Xp,ControlSelection:tm,BookmarkManager:Zp,Selection:hg,Event:$t.Event},html:{Styles:bo,Entities:io,Node:qc,Schema:mo,SaxParser:Gc,DomParser:Up,Writer:pu,Serializer:mu},Env:zt,AddOnManager:Io,Annotator:Fc,Formatter:Lp,UndoManager:ph,EditorCommands:KC,WindowManager:_d,NotificationManager:wd,EditorObservable:rw,Shortcuts:lw,Editor:Cw,FocusManager:Bu,EditorManager:Pw,DOM:To.DOM,ScriptLoader:Oo.ScriptLoader,PluginManager:Io.PluginManager,ThemeManager:Io.ThemeManager,IconManager:Dd,Resource:Vw,trim:Ke.trim,isArray:Ke.isArray,is:Ke.is,toArray:Ke.toArray,makeMap:Ke.makeMap,each:Ke.each,map:Ke.map,grep:Ke.grep,inArray:Ke.inArray,extend:Ke.extend,create:Ke.create,walk:Ke.walk,createNS:Ke.createNS,resolve:Ke.resolve,explode:Ke.explode,_addCacheSuffix:Ke._addCacheSuffix,isOpera:zt.opera,isWebKit:zt.webkit,isIE:zt.ie,isGecko:zt.gecko,isMac:zt.mac},ux=Ke.extend(Pw,cx);lx=ux,window.tinymce=lx,window.tinyMCE=lx,function(t){if("object"==typeof module)try{module.exports=t}catch(Ol){}}(ux)}(window);const jr={};var $r=sn({name:"tinymce-textarea",props:{field:String,init:Object,entity:Object,setFiled:Function},data:()=>({editor:null,plugins:[],config:{paste_enable_default_filters:!0,relative_urls:!1,remove_script_host:!1,convert_urls:!0}}),created(){window.vueTinymce[this.name]=this},mounted(){this.editor=new window.tinymce.Editor(this.name,this.settings,window.tinymce.EditorManager),this.editor.render(),this.editor.on("init",this.update),this.editor.on("Change",this.update)},beforeDestroy(){this.editor.destroy(),this.plugins.map((t=>{t.$destroy(),t.$el.parentNode.removeChild(t.$el)})),delete window.vueTinymce[this.name]},computed:{name(){let t=this.field.split("."),e="";for(let n=0;n<t.length;n++)e+=n>0?"["+t[n]+"]":t[n];return e},settings(){return Object.assign({},this.config,this.init,{paste_preprocess:this.pastePreprocess})}},methods:{appendPlugin(t){this.plugins.push(t),this.$el.appendChild(t.$el)},update(t){this.entity&&(this.entity[this.field]=this.editor.getContent(),this.setFiled(this.entity[this.field])),window.tinymce.triggerSave()},pastePreprocess(t,e){e.content=e.content.replace(/<[^>]*>/g,(t=>t=t.replace(/ ([^=]+)="[^"]*"/g,((t,e)=>-1!==["alt","href","src","title","target"].indexOf(e)?t:"")))),e.content=e.content.replace(/<(div|style|meta|link|pclass|span|svg|path|pre|code).*?>/gi,"")}}},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"input form-group textarea",class:{required:t.init.required}},[t.init.label?n("label",[t._v(t._s(t.init.label))]):t._e(),n("div",{class:t.init.class,attrs:{id:t.name}},[t._t("default")],2)])}),[],!1,Ur,null,null,null);function Ur(t){for(let e in jr)this[e]=jr[e]}const qr=[function(){return $r.exports}()];var Wr={version:"4.0.0",install:function(t,{store:e}){window.tinymce.baseURL="https://static.3xw.ch/tinymce/5.1",window.tinymce.suffix=".min",window.vueTinymce={},qr.forEach((e=>t.component(e.name,e)))}};class Xr{constructor(r,i){h(this,t,null),h(this,e,null),h(this,n,null),f(this,"aid",null),this.editor=r,this.store=i,this.settings=this.editor.settings.attachment_settings,this.aid=this.getName(),this.init(),this.addEventListener(),this.addButton()}getName(){let t=this.settings.field.split("."),e="";for(let n=0;n<t.length;n++)e+=n>0?"["+t[n]+"]":t[n];return e}init(){let t=Vue.component(Ir.name);this.settings.overlay=1,this.settings.groupActions=["tinymce"],this.settings.actions=["add"],this.editor.attachment=new t({store:this.store,propsData:{settings:this.settings,aid:this.aid}}),this.editor.attachment.mode="hidden",this.editor.attachment.tinymce=!0,this.editor.attachment.$mount(),window.vueTinymce[this.aid].appendPlugin(this.editor.attachment)}addEventListener(){this.editor.attachment.$on("options-success",((t,e)=>{"Link"==e.displayAs?this.editor.insertContent('<a href="'+this.settings.baseUrls[t.profile].profile+t.path+'" target="'+e.target+'">'+e.title+"</a>"):this.editor.insertContent(this.createImageNode(t,e))}))}createImageNode(t,e){let n="<img",r="img-responsive img-fluid ";return r+=e.classes?e.classes+" ":"",r+=e.align?e.align+" ":"",n+=" class='"+r+"'",e.alt&&(n+=" alt='"+e.alt.replace(/['"]+/g,"")+"'"),n+=" src='"+this.getImagePath(t,e)+"'",n+=" />",n}getImagePath(t,e){let n=this.editor.attachment.settings.baseUrls.thumbnails.profile+t.profile+"/";return n+=e.width?"w"+e.width:"w1200",n+=e.crop?"c"+e.cropWidth+"-"+e.cropHeight:"",n+="/"+t.path,n}addButton(){let t=this;this.editor.ui.registry.addMenuButton("attachment",{text:"Mdia",icon:"image",fetch:function(e){e([{type:"menuitem",text:"Tlcharger",onAction:()=>t.upload()},{type:"menuitem",text:"Parcourir",onAction:()=>t.browse()}])}})}browse(){this.editor.attachment.overlay=!0,this.editor.attachment.mode="browse"}upload(){console.log("upload"),this.editor.attachment.overlay=!0,this.editor.attachment.mode="upload"}}t=new WeakMap,e=new WeakMap,n=new WeakMap;const Kr=class{static init(t){return window.tinymce?window.vueTinymce?(this.store=t,this.pluginManager=window.tinymce.util.Tools.resolve("tinymce.PluginManager"),void this.pluginManager.add("attachment",this.createPlugin)):console.error("TinyMCE - Attachment: No VUE tinymce found!"):console.error("TinyMCE - Attachment: No tinymce found!")}static createPlugin(t){new Xr(t,Kr.store)}};let Yr=Kr;f(Yr,"store",null),f(Yr,"pluginManager",null),Vue.use(Fr,{store:k}),Vue.use(Wr,{store:k}),Yr.init(k),console.log("ok"),Vue.config.devtools=!0,Vue.config.productionTip=!0;$(document).ready((()=>{window.eventHub=new Vue,window.frontApp=new Vue({store:k,el:"#front-app",data:{baseUrl:BASE_URL},mounted(){A(),initMenu()}})}));
